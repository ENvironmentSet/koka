<!DOCTYPE html>
<html>
<!-- NO_CLICK_TRACKING -->

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/madoko.css" />
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>hnd.kk documentation</title>
</head>

<body class="koka doc body"><div class="madoko">
<pre class="koka source"><span class="comment">/&#42;---------------------------------------------------------------------------
  Copyright 2012-2020 Daan Leijen, Microsoft Corporation.

  This is free software; you can redistribute it and/or modify it under the
  terms of the Apache License, Version 2.0. A copy of the License can be
  found in the file "license.txt" at the root of this distribution.
---------------------------------------------------------------------------&#42;/</span>

<span class="comment">/&#42; Internal effect handler primitives.

   Internal primitives to implement evidence based algebraic
   effect handlers. These are emitted by the compiler during evidence
   translation.
&#42;/</span>
<span class="kw">public</span> <span class="kw">module</span> hnd

<span class="kw">import</span> types

include <span class="kw">extern</span> {
  c  file <span class="st">"hnd-inline"</span>
  js file <span class="st">"hnd-inline.js"</span>
}

<span class="comment">// -------------------------------------------
// Internal types
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_marker"><span class="kw">private</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Marker"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span><span class="tp sp">,</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>(<span class="decl-fun" id="m"><a class="pp">m<span class="pc">m: <span class="tp">int32</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="tp">V</span></span></a></span></span>)

<span class="decl-type" id="type_space_htag"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">::</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span><span class="tp">V</span><span class="tp sp">)</span><span class="tp kw op">-></span><span class="tp">V</span><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Htag"><a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></span>)
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".new-htag"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> ) {
  <a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a>)
}

<span class="decl-fun" id="hidden_htag"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#hidden_htag">hidden-htag<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>hidden<span class="dash">-</span>htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tag</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> ) {
  <a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a>)
</span>}

<span class="decl-type" id="type_space_ev"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Ev"><span class="kw">con</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <span class="tp kw op">:</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <span class="tp kw op">:</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <span class="tp kw op">:</span><a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span></span>)
</span>}

<span class="decl-type" id="type_space_evv"><span class="kw">private</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span></span><span class="tp sp">&gt;</span>;

<span class="decl-alias" id="type_space_ev_index"><span class="kw">public</span> <span class="tp kw">alias</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> <span class="tp kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_size__t"><span class="tp">size&#95;t</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>size&#95;t: <span class="tp">V</span></span></a></span>

<span class="comment">// -------------------------------------------
// Internal Markers
// -------------------------------------------
</span>
<span class="decl-fun" id="fresh_marker_int"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_int">fresh-marker-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;marker&#95;unique(kk&#95;context())"</span>
  js inline <span class="st">"$marker&#95;unique++"</span>
</span>}

<span class="decl-fun" id="fresh_marker"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Marker"><span class="co">Marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#fresh_marker_int">fresh-marker-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>())
</span>}

<span class="decl-fun" id="marker_none"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#marker_none">marker-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Marker"><span class="co">Marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#zero32">zero32<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>zero32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>())
</span>}

<span class="comment">// -------------------------------------------
// Internal Evidence vectors
// -------------------------------------------
</span>
<span class="decl-external" id="evv_total"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_total">evv-total<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>total: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> {
  c  <span class="st">"kk&#95;evv&#95;total"</span>
  js inline <span class="st">"[]"</span>
</span>}


<span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".evv-at"</span><span class="op">&lt;</span>e,h<span class="op">&gt;</span> ( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {  <span class="comment">// pretend total; don't simplify
</span>  c inline <span class="st">"kk&#95;evv&#95;at(#1,kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv[#1]"</span>
}

<span class="comment">// (dynamically) find evidence insertion/deletion index in the evidence vector
</span><span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-index"</span><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span>,<a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="op">&gt;</span>( <a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3049</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;index(#1,kk&#95;context())"</span>
  js inline <span class="st">"&#95;&#95;evv&#95;index($std&#95;core&#95;hnd.&#95;evv,#1)"</span>
}


<span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-lookup"</span>( <a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3062</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;lookup(#1,kk&#95;context())"</span>
  js inline <span class="st">"&#95;&#95;evv&#95;lookup($std&#95;core&#95;hnd.&#95;evv,#1)"</span>
}

<span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".evv-select"</span>( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, htag <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"(#1 &gt;= 0 ? kk&#95;evv&#95;at(#1,kk&#95;context()) : kk&#95;evv&#95;lookup(#2,kk&#95;context()))"</span>
  js inline <span class="st">"(#1 &gt;= 0 ? $std&#95;core&#95;hnd.&#95;evv[#1] : &#95;&#95;evv&#95;lookup($std&#95;core&#95;hnd.&#95;evv,#2))"</span>
}

<span class="decl-fun" id="evv_show"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_show">evv-show<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>show: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>( <a class="pp">evv<span class="pc">evv: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4278</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;evv&#95;show(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;show"</span>
</span>}

<span class="decl-fun" id="evv_eq"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">evv0<span class="pc">evv0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3834</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">evv1<span class="pc">evv1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3834</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;eq(#1,#2,kk&#95;context())"</span>
  js inline <span class="st">"(#1) === (#2)"</span>
</span>}


<span class="decl-fun" id="evv_get"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;get(kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv"</span>
</span>}

<span class="decl-external" id="evv_set"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a><span class="op">&lt;</span>e1,e<span class="op">&gt;</span>( w <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;set(#1,kk&#95;context())"</span>
  js inline <span class="st">"(function(){ $std&#95;core&#95;hnd.&#95;evv = (#1); })()"</span>
</span>}

<span class="decl-external" id="evv_swap"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap">evv-swap<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span>e1,e2<span class="op">&gt;</span>( w <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap(#1,kk&#95;context())"</span>
  js inline <span class="st">"(function(){ const evv = $std&#95;core&#95;hnd.&#95;evv; $std&#95;core&#95;hnd.&#95;evv = (#1); return evv; })()"</span>
</span>}

<span class="decl-fun" id="evv_insert"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">evv<span class="pc">evv: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3809</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3811</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;insert(#1,#2,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;insert"</span>
</span>}

<span class="decl-fun" id="evv_swap_delete"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;swap&#95;delete(#1,#2,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;swap&#95;delete"</span>
</span>}

<span class="decl-external" id="evv_swap_create0"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create0(kk&#95;context())"</span>
  js inline <span class="st">"(function(){ const evv = $std&#95;core&#95;hnd.&#95;evv; $std&#95;core&#95;hnd.&#95;evv = $std&#95;core&#95;hnd.&#95;evv&#95;empty; return evv; })()"</span>
</span>}

<span class="decl-external" id="evv_swap_create1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {   <span class="comment">//not quite the right effect type but avoids unbound effect types
</span>  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create1(#1,kk&#95;context())"</span>
  js inline <span class="st">"(function(){ const evv = $std&#95;core&#95;hnd.&#95;evv; if (evv.length !== 1) { $std&#95;core&#95;hnd.&#95;evv = [evv[#1]]; }; return evv; })()"</span>
</span>}

<span class="decl-fun" id="evv_swap_create"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;swap&#95;create"</span>
</span>}

<span class="decl-external" id="ev_none"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#ev_none">ev-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span>e,h<span class="op">&gt;</span>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c  <span class="st">"kk&#95;ev&#95;none"</span>
  js <span class="st">"ev&#95;none"</span>
</span>}

<span class="comment">// -------------------------------------------
// Internal Yielding
// -------------------------------------------
</span>
<span class="decl-external" id="yielding"><span class="kw">public</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yielding(kk&#95;context())"</span>
  js inline <span class="st">"($std&#95;core&#95;hnd.&#95;yield !== null)"</span>
</span>}

<span class="decl-external" id="yielding_non_final"><span class="kw">public</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yielding&#95;non&#95;final(kk&#95;context())"</span>
  js inline <span class="st">"($std&#95;core&#95;hnd.&#95;yield !== null &amp;&amp; !$std&#95;core&#95;hnd.&#95;yield.final)"</span>
</span>}

<span class="decl-fun" id="yield_extend"><span class="kw">public</span> noinline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp tv">&#95;4048</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4050</span> <span class="tp tv">&#95;4049</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yield&#95;extend(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;extend"</span>
</span>}

<span class="decl-fun" id="yield_bind"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6626</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp tv">&#95;6626</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6628</span> <span class="tp tv">&#95;6627</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp tv">&#95;6626</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6628</span> <span class="tp tv">&#95;6627</span></span></a>) <span class="kw">else</span> <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp tv">&#95;6626</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6628</span> <span class="tp tv">&#95;6627</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6626</span></span></a>)
</span>}

<span class="decl-fun" id="yield_bind2"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_bind2">yield-bind2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">extend</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;10080</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">extend<span class="pc">extend: <span class="tp sp">(</span><span class="tp tv">&#95;10080</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10082</span> <span class="tp tv">&#95;10081</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp tv">&#95;10080</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10082</span> <span class="tp tv">&#95;10081</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">extend<span class="pc">extend: <span class="tp sp">(</span><span class="tp tv">&#95;10080</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10082</span> <span class="tp tv">&#95;10081</span></span></a>) <span class="kw">else</span> <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp tv">&#95;10080</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10082</span> <span class="tp tv">&#95;10081</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;10080</span></span></a>)
</span>}

<span class="decl-fun" id="yield_cont"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">&#95;3856</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3857</span> <span class="tp tv">&#95;3856</span><span class="tp sp">,</span> <span class="tp tv">&#95;3856</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3857</span> <span class="tp tv">&#95;3858</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {  <span class="comment">// make hidden public?
</span>  c  inline <span class="st">"kk&#95;yield&#95;cont(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;cont"</span>
</span>}

<span class="decl-external" id="keep_yielding_final"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#keep_yielding_final">keep-yielding-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>keep<span class="dash">-</span>yielding<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;box&#95;any(kk&#95;context())"</span>
  js inline <span class="st">"undefined"</span>
</span>}

<span class="decl-fun" id="yield_prompt"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_prompt">yield-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3876</span><span class="tp sp">,</span><span class="tp tv">&#95;3877</span><span class="tp sp">&gt;</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_yld"><span class="tp">yld</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yld: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;yield&#95;prompt(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;prompt"</span>
</span>}

<span class="decl-fun" id="yield_to_prim"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to_prim">yield-to-prim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>prim: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4069</span><span class="tp sp">,</span><span class="tp tv">&#95;4070</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4067</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4069</span> <span class="tp tv">&#95;4070</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4069</span> <span class="tp tv">&#95;4070</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> {
  c  inline <span class="st">"kk&#95;yield&#95;to(#1,#2,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;to"</span>
</span>}

<span class="decl-fun" id="yield_to_final"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4095</span><span class="tp sp">,</span><span class="tp tv">&#95;4096</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4093</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4095</span> <span class="tp tv">&#95;4096</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4095</span> <span class="tp tv">&#95;4096</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yield&#95;final(#1,#2,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;final"</span>
</span>}

<span class="decl-fun" id="yield_to"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6188</span><span class="tp sp">,</span><span class="tp tv">&#95;6189</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1101</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6188</span> <span class="tp tv">&#95;6189</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6188</span> <span class="tp tv">&#95;6189</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6188</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">g<span class="pc">g: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1101</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv">&#95;b</span><span class="pc">&#95;b: <span class="tp">V</span></span></a> <span class="kw">=</span> <a class="pp" href="#yield_to_prim">yield-to-prim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>prim: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6188</span><span class="tp sp">,</span><span class="tp tv">&#95;6189</span><span class="tp sp">&gt;</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1101</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6188</span> <span class="tp tv">&#95;6189</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6188</span> <span class="tp tv">&#95;6189</span></span></a>)
  <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a> <span class="kw">fun</span>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6188</span> <span class="tp tv">&#95;1101</span></span></a>){ 
    <span class="comment">// val keep1 = guard(w0)  // check the evidence is correctly restored
</span>    <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6188</span> <span class="tp tv">&#95;1101</span></span></a>() 
  }
</span>}

<span class="decl-type" id="type_space_yield_info"><span class="kw">public</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a></span>

<span class="decl-fun" id="yield_capture"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a> {
  c <span class="st">"kk&#95;yield&#95;capture"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;capture"</span>
</span>}

<span class="decl-fun" id="unsafe_reyield"><span class="kw">public</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  c <span class="st">"kk&#95;yield&#95;reyield"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;reyield"</span>
</span>}

<span class="comment">// -------------------------------------------
//
// -------------------------------------------
</span>
<span class="decl-external" id="unsafe_coerce"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_coerce">unsafe-coerce<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>coerce: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>(x<span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev0"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev2"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev3"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev4"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev5"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev5">cast-ev5<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev5: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a5</span><span class="pc">a5: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a5</span><span class="pc">a5: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="decl-type" id="type_space_yld"><span class="kw">private</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_yld"><span class="tp">yld</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yld: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Pure"><a class="pp">Pure<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2992</span><span class="tp sp">,</span><span class="tp tv">&#95;2993</span><span class="tp sp">,</span><span class="tp tv">&#95;2994</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_YieldingFinal"><a class="pp">YieldingFinal<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3005</span><span class="tp sp">,</span><span class="tp tv">&#95;3006</span><span class="tp sp">,</span><span class="tp tv">&#95;3007</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_Yielding"><a class="pp">Yielding<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3018</span><span class="tp sp">,</span><span class="tp tv">&#95;3019</span><span class="tp sp">,</span><span class="tp tv">&#95;3020</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_Yield"><a class="pp">Yield<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3033</span><span class="tp sp">,</span><span class="tp tv">&#95;3034</span><span class="tp sp">,</span><span class="tp tv">&#95;3035</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="number">105</span>) <span class="kw op">-></span> <span class="number">102</span> <span class="number">104</span>) <span class="kw op">-></span> <span class="number">102</span> <span class="number">104</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="number">105</span>) <span class="kw op">-></span> <span class="number">102</span> <span class="number">103</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a></span>)
</span>}

<span class="decl-fun" id="guard"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#guard">guard<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>guard: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3847</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;evv&#95;guard(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;guard"</span>
  <span class="comment">// if (evv-equals(w)) then () else unsafe-total{ error("non-scoped resumption") }
</span></span>}

<span class="decl-fun" id="resume_final"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume_final">resume-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">a</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a> {
  c  inline <span class="st">"kk&#95;fatal&#95;resume&#95;final(kk&#95;context())"</span>
  js <span class="st">"&#95;throw&#95;resume&#95;final"</span>
</span>}

<span class="decl-fun" id="prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>,  <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4424</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">,</span><span class="tp tv">&#95;4425</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4422</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4423</span> <span class="tp tv">&#95;4425</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">result<span class="pc">result: <span class="tp tv">&#95;4422</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>
{
  <a class="pp" href="#guard">guard<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>guard: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>)  <span class="comment">// restore the previous evidence vector  
</span>  <span class="kw">match</span>(<a class="pp" href="#yield_prompt">yield-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">,</span><span class="tp tv">&#95;4425</span><span class="tp sp">&gt;</span></span></a>)) {
    <a class="pp" href="#con_space_Pure"><span class="co">Pure</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Pure: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> {
      <span class="comment">// returning
</span>      <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4422</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4423</span> <span class="tp tv">&#95;4425</span></span></a>(<a class="pp">result<span class="pc">result: <span class="tp tv">&#95;4422</span></span></a>)
    }
    <a class="pp" href="#con_space_YieldingFinal"><span class="co">YieldingFinal</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>YieldingFinal: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> {
      <span class="comment">// yielding final (exception), keep yielding
</span>      <a class="pp" href="#keep_yielding_final">keep-yielding-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>keep<span class="dash">-</span>yielding<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>()
    }
    <a class="pp" href="#con_space_Yielding"><span class="co">Yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Yielding: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> {
      <span class="comment">// regular yield, install a continuation
</span>      <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4422</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4423</span> <span class="tp tv">&#95;4422</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4422</span></span></a>){ 
        <span class="comment">// we resume, continue under a fresh a prompt again
</span>        <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>        <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">evv-eq</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4424</span><span class="tp sp">&gt;</span></span></a>)
        <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>)
        <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4424</span><span class="tp sp">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">,</span><span class="tp tv">&#95;4425</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4422</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4423</span> <span class="tp tv">&#95;4425</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4422</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4423</span> <span class="tp tv">&#95;4422</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4422</span></span></a>)); 
      })
    }
    <a class="pp" href="#con_space_Yield"><span class="co">Yield</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Yield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span>) <span class="kw op">-></span> &#95;4423 &#95;4425) <span class="kw op">-></span> &#95;4423 &#95;4425</span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span>) <span class="kw op">-></span> &#95;4423 &#95;4422</span></a>) {
      <span class="comment">// yielded to the operation &#96;clause&#96; in our handler
</span>      <span class="decl-fun" id="deep"><span class="kw">fun</span> <a class="pp">deep<span class="pc">deep: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span>) <span class="kw op">-></span> &#95;4423 &#95;4425</span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span></span></a>) {
        <span class="comment">// deep resume
</span>        <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>        <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">evv-eq</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4424</span><span class="tp sp">&gt;</span></span></a>)
        <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>)
        <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4424</span><span class="tp sp">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4423</span><span class="tp sp">,</span><span class="tp tv">&#95;4425</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4422</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4423</span> <span class="tp tv">&#95;4425</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span>) <span class="kw op">-></span> &#95;4423 &#95;4422</span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span></span></a>))
      </span>}
      <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span>) <span class="kw op">-></span> &#95;4423 &#95;4425) <span class="kw op">-></span> &#95;4423 &#95;4425</span></a>(<a class="pp">deep<span class="pc">deep: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4500</span>) <span class="kw op">-></span> &#95;4423 &#95;4425</span></a>) <span class="comment">// TODO: we should exit prompt first, and then execute clause to use constant stack space when resuming
</span>    }
  }
</span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".hhandle"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4570</span><span class="tp sp">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">h<span class="pc">h: <span class="tp tv">&#95;4570</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">,</span><span class="tp tv">&#95;4571</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4567</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4568</span> <span class="tp tv">&#95;4571</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4569</span> <span class="tp tv">&#95;4567</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="comment">// insert new evidence for our handler
</span>  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()        
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">,</span><span class="tp tv">&#95;4571</span><span class="tp sp">&gt;</span></span></a>  <span class="kw">=</span> <a class="pp" href="#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4570</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4570</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">,</span><span class="tp tv">&#95;4571</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;4570</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">,</span><span class="tp tv">&#95;4571</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4570</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a>)
  <span class="comment">// call action first (this may be yielding), then check the result
</span>  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4570</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4568</span><span class="tp sp">,</span><span class="tp tv">&#95;4571</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4567</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4568</span> <span class="tp tv">&#95;4571</span></span></a>,<a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4569</span> <span class="tp tv">&#95;4567</span></span></a>)())
}

<span class="comment">//public fun ".hhandle"( tag:htag&lt;h&gt;, h : h&lt;e,r&gt;, ret: a -&gt; e r, action : () -&gt; e1 a ) : e r {
//  return hidden-handle(tag,h,ret,action);
//}
</span>
<span class="comment">//public fun hidden-handler( tag:htag&lt;h&gt;, h : h&lt;e,r&gt;, ret: a -&gt; e r ) : ((action : () -&gt; e1 a ) -&gt; e r) {
//  (fun(action){ hidden-handle(tag,h,ret,action) })
//}
</span>
<span class="comment">// -------------------------------------------
// named handler
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_hname"><span class="kw">abstract</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Hname"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_hname"><span class="tp">hname</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>hname: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>( <span class="decl-fun" id="ev"><a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="number">79</span><span class="op">&gt;</span></span></a></span> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> </span></span>)

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".named-handle"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">h<span class="pc">h: <span class="tp tv">&#95;4882</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">,</span><span class="tp tv">&#95;4883</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4880</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4881</span> <span class="tp tv">&#95;4883</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4881</span> <span class="tp tv">&#95;4880</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">,</span><span class="tp tv">&#95;4883</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#marker_none">marker-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">,</span><span class="tp tv">&#95;4883</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;4882</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">,</span><span class="tp tv">&#95;4883</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4881</span><span class="tp sp">,</span><span class="tp tv">&#95;4883</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp tv">&#95;4880</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4881</span> <span class="tp tv">&#95;4883</span></span></a>,<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4881</span> <span class="tp tv">&#95;4880</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4882</span><span class="tp sp">&gt;</span></span></a>)) <span class="comment">// TODO: needs special prompt that does not insert on resume (but does update the context in ev)
</span>}

<span class="comment">// -------------------------------------------
// mask
// -------------------------------------------
</span>
<span class="decl-fun" id="mask_at1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tv">&#95;4674</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4676</span> <span class="tp tv">&#95;4675</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4674</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4679</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;4675</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tv">&#95;4674</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4676</span> <span class="tp tv">&#95;4675</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4674</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4679</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;4675</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4675</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4677</span> <span class="tp tv">&#95;4675</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4675</span></span></a>){ <a class="pp" href="#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>),<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4675</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4677</span> <span class="tp tv">&#95;4675</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4675</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;4675</span></span></a>
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".mask-at"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4787</span> <span class="tp tv">&#95;4786</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4790</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>)
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4786</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4787</span> <span class="tp tv">&#95;4786</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4790</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;4786</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4786</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4788</span> <span class="tp tv">&#95;4786</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4786</span></span></a>){ <a class="pp" href="#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4786</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4788</span> <span class="tp tv">&#95;4786</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4786</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4786</span></span></a>
}

<span class="comment">// mask for builtin effects without a handler or evidence
</span><span class="kw">public</span> <span class="kw">fun</span> <span class="st">".mask-builtin"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3075</span> <span class="tp tv">&#95;3074</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3075</span> <span class="tp tv">&#95;3074</span></span></a>)()
}


<span class="comment">// -------------------------------------------
// Local variables
// -------------------------------------------
</span>
<span class="decl-fun" id="prompt_local_var"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9657</span><span class="tp sp">,</span><span class="tp tv">&#95;9654</span><span class="tp sp">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9655</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>  ) <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_div"><span class="tp"><span class="effect">div</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>div: <span class="tp">X</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;|&gt;)): <span class="tp sp">(</span><span class="tp">X</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">!</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;9655</span></span></a> <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9655</span></span></a>;
  <span class="kw">val</span> <a class="pp">v<span class="pc">v: <span class="tp tv">&#95;9654</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_get">loc<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>
  <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9655</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9657</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">&#95;9656</span><span class="tp sp">&gt;</span> <span class="tp tv">&#95;9655</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;9655</span></span></a>){ <a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9657</span><span class="tp sp">,</span><span class="tp tv">&#95;9654</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp">v<span class="pc">v: <span class="tp tv">&#95;9654</span></span></a>; <a class="pp" href="#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9657</span><span class="tp sp">,</span><span class="tp tv">&#95;9654</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9655</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9657</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">&#95;9656</span><span class="tp sp">&gt;</span> <span class="tp tv">&#95;9655</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;9655</span></span></a>)) } )  <span class="comment">// restore state early before the resume
</span></span>}

<span class="decl-fun" id="local_var"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#local_var">local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp tv">&#95;1762</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">,</span><span class="tp tv">&#95;1762</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">&#95;9756</span><span class="tp sp">&gt;</span> <span class="tp tv">&#95;9755</span></span></a><span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;|&gt;)): <span class="tp sp">(</span><span class="tp">X</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;|&gt;)): <span class="tp sp">(</span><span class="tp">X</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_no_div">unsafe-no-div<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>no<span class="dash">-</span>div: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a> {
    <span class="kw">val</span> <a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">,</span><span class="tp tv">&#95;1762</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l365<span class="dash">-</span>c25: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l365<span class="dash">-</span>c27: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_new">local-new<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>new: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp tv">&#95;1762</span></span></a>)
    <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9755</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">,</span><span class="tp tv">&#95;1762</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">&#95;9756</span><span class="tp sp">&gt;</span> <span class="tp tv">&#95;9755</span></span></a>)(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">,</span><span class="tp tv">&#95;1762</span><span class="tp sp">&gt;</span></span></a>))
    <a class="pp" href="#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1761</span><span class="tp sp">,</span><span class="tp tv">&#95;1762</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9755</span></span></a>)
  }
</span>}


<span class="comment">// -------------------------------------------
// Finally/Initially
// -------------------------------------------
</span>
<span class="decl-fun" id="finally"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finally">finally<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9640</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9640</span> <span class="tp tv">&#95;9639</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9640</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9640</span> <span class="tp tv">&#95;9639</span></span></a>());
</span>}

<span class="decl-fun" id="finally_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9588</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9587</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding-non-final</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;9587</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9587</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9588</span> <span class="tp tv">&#95;9587</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;9587</span></span></a>){ <a class="pp" href="#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9588</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9587</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9588</span> <span class="tp tv">&#95;9587</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;9587</span></span></a>)) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9588</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>()
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;9587</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">&#95;x<span class="pc">&#95;x: <span class="tp tv">&#95;9620</span></span></a>){ <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9587</span></span></a> } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9587</span></span></a>
</span>}

<span class="decl-fun" id="finalize"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finalize">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6665</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1229</span> <span class="tp tv">&#95;6667</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;1230</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1229</span><span class="tp sp">,</span><span class="tp tv">&#95;1230</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">&#95;e</span></span><span class="pc">&#95;e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;r</span><span class="pc">&#95;r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> <a class="pp" href="#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1229</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1229</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1229</span><span class="tp sp">&gt;</span></span></a>,<a class="pp" href="#ev_none">ev-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(),<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1229</span><span class="tp sp">,</span><span class="tp tv">&#95;1230</span><span class="tp sp">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#id">id<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>id: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>, <a class="pp" href="#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6665</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1229</span> <span class="tp tv">&#95;6667</span></span></a>( { <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;1229</span><span class="tp sp">,</span><span class="tp tv">&#95;1230</span><span class="tp sp">&gt;</span></span></a>,<span class="kw">fun</span>(<a class="pp">&#95;k<span class="pc">&#95;k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6665</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1229</span> <span class="tp tv">&#95;1230</span></span></a>){ <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;1230</span></span></a> }) } ), <span class="kw">fun</span>(<a class="pp">&#95;x<span class="pc">&#95;x: <span class="tp tv">&#95;6667</span></span></a>){ <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;1230</span></span></a> } ))  <span class="comment">// TODO: special prompt that does not insert on resume?
</span></span>}
<span class="comment">/&#42;
public fun initially(init : (int) -&gt; e (), action : () -&gt; e a ) : e a {
  init(0)
  if (yielding()) return yield-extend(fun(&#95;ret){ initially-prompt(init,action()) })
  initially-prompt(init, action() )
}

private fun initially-prompt( init : (int) -&gt; e (), res : a ) : e a {
  if (yielding-non-final()) then return unsafe-total {
    val count = ref(0);
    return yield-cont(fun(cont,x){
      val cnt = !count                   // increase counter on every resumption
      count := cnt + 1
      if (cnt == 0) then cont(x) else {  // for every resume after the first, run the initializer
        val r = inject-st{init(cnt)}
        if (yielding()) return yield-extend( fun(&#95;ret){ cont(x) })
        cont(x)
      }
    })
  }
  res
}
&#42;/</span>

<span class="comment">// -------------------------------------------
// Resume context
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_resume_context"><span class="kw">abstract</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Resume_context"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>( <span class="decl-fun" id="k"><a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="number">86</span>) <span class="kw op">-></span> <span class="number">87</span> <span class="number">88</span></span></a></span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> </span></span>)

<span class="decl-fun" id="resume"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume">resume<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4347</span><span class="tp sp">,</span><span class="tp tv">&#95;4348</span><span class="tp sp">,</span><span class="tp tv">&#95;4349</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4347</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  (<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4347</span><span class="tp sp">,</span><span class="tp tv">&#95;4348</span><span class="tp sp">,</span><span class="tp tv">&#95;4349</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)({<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4347</span></span></a>})
</span>}

<span class="decl-fun" id="finalize_1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finalize_1">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6723</span><span class="tp sp">,</span><span class="tp tv">&#95;6724</span><span class="tp sp">,</span><span class="tp tv">&#95;6725</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6722</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="#finalize">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6723</span><span class="tp sp">,</span><span class="tp tv">&#95;6724</span><span class="tp sp">,</span><span class="tp tv">&#95;6725</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6722</span></span></a>)
</span>}

<span class="comment">// -------------------------------------------
// Clauses
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_clause1"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause1"><a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause_1"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">53</span>,<span class="number">54</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">52</span><span class="op">&gt;</span>, <span class="number">50</span>) <span class="kw op">-></span> <span class="number">53</span> <span class="number">51</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="decl-external" id="cast_ev0_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev1_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev2_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform1"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3570</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3570</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3567</span><span class="tp sp">,</span><span class="tp tv">&#95;3568</span><span class="tp sp">,</span><span class="tp tv">&#95;3570</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3567</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3570</span><span class="tp sp">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3574</span>,<span class="op">$</span><span class="number">3575</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3570</span><span class="tp op">&lt;$</span><span class="number">3574</span>,<span class="op">$</span><span class="number">3575</span><span class="op">&gt;</span></span></a>,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3570</span><span class="tp op">&lt;$</span><span class="number">3574</span>,<span class="op">$</span><span class="number">3575</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3570</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3567</span><span class="tp sp">,</span><span class="tp tv">&#95;3568</span><span class="tp sp">,</span><span class="tp tv">&#95;3570</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3574</span>,<span class="op">$</span><span class="number">3575</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3570<span class="op">&gt;</span>, &#95;3567) <span class="kw op">-></span> <span class="op">$</span><span class="number">3574</span> &#95;3568</span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev1_1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3574</span>,<span class="op">$</span><span class="number">3575</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3570<span class="op">&gt;</span>, &#95;3567) <span class="kw op">-></span> <span class="op">$</span><span class="number">3574</span> &#95;3568</span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3574</span>,<span class="op">$</span><span class="number">3575</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3570</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3567</span></span></a>)
    }
  }
}

<span class="decl-fun" id="evv_swap_with"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4223</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>) {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4223</span><span class="tp sp">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,&#95;m,&#95;h,<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4227</span><span class="op">&gt;</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#evv_swap">evv-swap<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4227</span><span class="op">&gt;</span></span></a>)
  }
</span>} 

<span class="decl-fun" id="under1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8702</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8699</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8701</span> <span class="tp tv">&#95;8700</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;8699</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8705</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8702</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;8700</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8699</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8701</span> <span class="tp tv">&#95;8700</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;8699</span></span></a>)
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;8700</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;8700</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8701</span> <span class="tp tv">&#95;8700</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;8700</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8702</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;8700</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8701</span> <span class="tp tv">&#95;8700</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;8700</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8705</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;8700</span></span></a>
</span>}


<span class="decl-fun" id="clause_control_raw1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw1">clause-control-raw1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6262</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6263</span><span class="tp sp">,</span><span class="tp tv">&#95;6264</span><span class="tp sp">,</span><span class="tp tv">&#95;6266</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6264</span> <span class="tp tv">&#95;6266</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6264</span><span class="tp sp">,</span><span class="tp tv">&#95;6266</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6265</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6262</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6264</span><span class="tp sp">,</span><span class="tp tv">&#95;6266</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6263</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6264</span> <span class="tp tv">&#95;6266</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6262</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6263</span><span class="tp sp">,</span><span class="tp tv">&#95;6264</span><span class="tp sp">,</span><span class="tp tv">&#95;6266</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6264</span> <span class="tp tv">&#95;6266</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6262</span></span></a>,<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6263</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6264</span> <span class="tp tv">&#95;6266</span></span></a>)) } ) } )
</span>}

<span class="decl-fun" id="get"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#get">get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">,</span><span class="tp">div</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>( <a class="pp">ref<span class="pc">ref: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4291</span><span class="tp sp">,</span><span class="tp tv">&#95;4290</span><span class="tp sp">&gt;</span></span></a><span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ref"><span class="tp">ref</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_read"><span class="tp">read</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>read: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_div"><span class="tp"><span class="effect">div</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>div: <span class="tp">X</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((!))<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">ref<span class="pc">ref: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4291</span><span class="tp sp">,</span><span class="tp tv">&#95;4290</span><span class="tp sp">&gt;</span></span></a>
</span>}

inline <span class="decl-external" id="unsafe_st"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(f <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_st"><span class="tp">st</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>st: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_global"><span class="tp">global</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>global: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><span class="tp kw op">|</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="decl-fun" id="protect_check"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ref"><span class="tp">ref</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_global"><span class="tp">global</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>global: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>,  <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6845</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6846</span> <span class="tp tv">&#95;6847</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6844</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">did-resume<span class="pc">did<span class="dash">-</span>resume: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((!))<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> })()
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">!</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp">did-resume<span class="pc">did<span class="dash">-</span>resume: <span class="tp">bool</span></span></a>)
   <span class="kw">then</span> <a class="pp" href="#finalize">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6845</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6846</span> <span class="tp tv">&#95;6847</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6844</span></span></a>)
   <span class="kw">else</span> <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6844</span></span></a>
</span>}

<span class="decl-fun" id="protect"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6977</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6977</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>)})()
  <span class="decl-fun" id="kprotect"><span class="kw">fun</span> <a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp tv">&#95;6978</span></span></a>) {
    (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>})()
    <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a>({<a class="pp">ret<span class="pc">ret: <span class="tp tv">&#95;6978</span></span></a>})
  </span>}
  <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6980</span></span></a> <span class="kw">=</span> <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6977</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;6977</span></span></a>,<a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;6980</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">xres<span class="pc">xres: <span class="tp tv">&#95;6980</span></span></a>){ <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a>,<a class="pp">xres<span class="pc">xres: <span class="tp tv">&#95;6980</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6978</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6979</span> <span class="tp tv">&#95;6980</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6980</span></span></a>)
</span>}

<span class="comment">/&#42;
public fun clause-control1( clause : (x:a, k: b -&gt; e r) -&gt; e r ) : clause1&lt;a,b,e,r&gt; {
  Clause1(fun(m,w,x){ yield-to(m, fun(k){ clause(x, fun(r){ k({r}) } ) }) })
}
&#42;/</span>

<span class="decl-fun" id="clause_control1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7283</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7284</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7285</span> <span class="tp tv">&#95;7287</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7285</span> <span class="tp tv">&#95;7287</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7285</span><span class="tp sp">,</span><span class="tp tv">&#95;7287</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7286</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;7283</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7285</span><span class="tp sp">,</span><span class="tp tv">&#95;7287</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7284</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7285</span> <span class="tp tv">&#95;7287</span></span></a>){ <a class="pp" href="#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;7283</span></span></a>,<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7283</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7284</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7285</span> <span class="tp tv">&#95;7287</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7285</span> <span class="tp tv">&#95;7287</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7284</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7285</span> <span class="tp tv">&#95;7287</span></span></a>) }) })
</span>}

<span class="decl-fun" id="clause_tail1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8843</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8841</span> <span class="tp tv">&#95;8844</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">&#95;m<span class="pc">&#95;m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8841</span><span class="tp sp">,</span><span class="tp tv">&#95;8842</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8845</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;8843</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8845</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8843</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8841</span> <span class="tp tv">&#95;8844</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;8843</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield1">clause-tail-noyield1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;4149</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4147</span> <span class="tp tv">&#95;4150</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">&#95;m<span class="pc">&#95;m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4147</span><span class="tp sp">,</span><span class="tp tv">&#95;4148</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4151</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4149</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;4149</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4147</span> <span class="tp tv">&#95;4150</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4149</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_never1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never1">clause-never1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8085</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8087</span> <span class="tp tv">&#95;8089</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8087</span><span class="tp sp">,</span><span class="tp tv">&#95;8089</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8088</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;8085</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8087</span><span class="tp sp">,</span><span class="tp tv">&#95;8089</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">&#95;k<span class="pc">&#95;k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8086</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8087</span> <span class="tp tv">&#95;8089</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8085</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8087</span> <span class="tp tv">&#95;8089</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;8085</span></span></a>) }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 0 arguments; reuse 1 argument Clauses
//----------------------------------------------------------------
</span>
<span class="decl-type" id="type_space_clause0"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause0"><a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">37</span>,<span class="number">38</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">36</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">37</span> <span class="number">35</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform0"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3476</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3476</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3474</span><span class="tp sp">,</span><span class="tp tv">&#95;3476</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3476</span><span class="tp sp">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3481</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3476</span><span class="tp op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3481</span><span class="op">&gt;</span></span></a>,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3476</span><span class="tp op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3481</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3476</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3474</span><span class="tp sp">,</span><span class="tp tv">&#95;3476</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3481</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3476<span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3480</span> &#95;3474</span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev0_1">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3481</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3476<span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3480</span> &#95;3474</span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3481</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3476</span><span class="tp sp">&gt;</span></span></a>)
    }
  }
}

<span class="decl-fun" id="under0"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under0">under0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8759</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">i</span><span class="pc">i: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8758</span> <span class="tp tv">&#95;8757</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8762</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8759</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;8757</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8758</span> <span class="tp tv">&#95;8757</span></span></a>()
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8762</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;8757</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;8757</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8758</span> <span class="tp tv">&#95;8757</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;8757</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8759</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;8757</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8758</span> <span class="tp tv">&#95;8757</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;8757</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;8757</span></span></a>
</span>}

<span class="decl-fun" id="clause_control_raw0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw0">clause-control-raw0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6220</span><span class="tp sp">,</span><span class="tp tv">&#95;6221</span><span class="tp sp">,</span><span class="tp tv">&#95;6223</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6221</span> <span class="tp tv">&#95;6223</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6221</span><span class="tp sp">,</span><span class="tp tv">&#95;6223</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6222</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6221</span><span class="tp sp">,</span><span class="tp tv">&#95;6223</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6220</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6221</span> <span class="tp tv">&#95;6223</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6220</span><span class="tp sp">,</span><span class="tp tv">&#95;6221</span><span class="tp sp">,</span><span class="tp tv">&#95;6223</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6221</span> <span class="tp tv">&#95;6223</span></span></a>(<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6220</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6221</span> <span class="tp tv">&#95;6223</span></span></a>)) } ) })
</span>}

<span class="comment">/&#42;
public fun clause-control0( op : (b -&gt; e r) -&gt; e r ) : clause0&lt;b,e,r&gt; {
  Clause0(fun(m,w){ yield-to(m, fun(k){ op(fun(r){ k({r} )}) }) })
}
&#42;/</span>

<span class="decl-fun" id="clause_control0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control0">clause-control0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">&#95;7207</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7208</span><span class="tp sp">,</span><span class="tp tv">&#95;7210</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7209</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7208</span><span class="tp sp">,</span><span class="tp tv">&#95;7210</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7207</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span></span></a>){ <a class="pp" href="#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>,<span class="kw">fun</span>(<a class="pp">&#95;x<span class="pc">&#95;x: <span class="tp sp">(</span><span class="tp sp">)</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp tv">&#95;7207</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">&#95;7207</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp tv">&#95;7207</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span></span></a>) }, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7207</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7208</span> <span class="tp tv">&#95;7210</span></span></a>) }) })
</span>}


<span class="decl-fun" id="clause_tail0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail0">clause-tail0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8807</span> <span class="tp tv">&#95;8809</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">&#95;m<span class="pc">&#95;m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8807</span><span class="tp sp">,</span><span class="tp tv">&#95;8808</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8810</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp" href="#under0">under0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8810</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8807</span> <span class="tp tv">&#95;8809</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield0">clause-tail-noyield0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4118</span> <span class="tp tv">&#95;4120</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">&#95;m<span class="pc">&#95;m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4118</span><span class="tp sp">,</span><span class="tp tv">&#95;4119</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4121</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4118</span> <span class="tp tv">&#95;4120</span></span></a>() })
</span>}

<span class="decl-fun" id="clause_value"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_value">clause-value<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>value: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">v<span class="pc">v: <span class="tp tv">&#95;4249</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">&#95;m<span class="pc">&#95;m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4250</span><span class="tp sp">,</span><span class="tp tv">&#95;4252</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4251</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp">v<span class="pc">v: <span class="tp tv">&#95;4249</span></span></a> })
</span>}

<span class="decl-fun" id="clause_never0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never0">clause-never0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8049</span> <span class="tp tv">&#95;8051</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8049</span><span class="tp sp">,</span><span class="tp tv">&#95;8051</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8050</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8049</span><span class="tp sp">,</span><span class="tp tv">&#95;8051</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">&#95;k<span class="pc">&#95;k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8048</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8049</span> <span class="tp tv">&#95;8051</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8049</span> <span class="tp tv">&#95;8051</span></span></a>() }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 2 arguments
//----------------------------------------------------------------
</span>
<span class="decl-type" id="type_space_clause2"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause2"><a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause_2"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">71</span>,<span class="number">72</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">70</span><span class="op">&gt;</span>, <span class="number">67</span>, <span class="number">68</span>) <span class="kw op">-></span> <span class="number">71</span> <span class="number">69</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="decl-fun" id="under2"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under2">under2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8886</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8882</span><span class="tp sp">,</span> <span class="tp tv">&#95;8883</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8885</span> <span class="tp tv">&#95;8884</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;8882</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;8883</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8889</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8886</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp tv">&#95;8884</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8882</span><span class="tp sp">,</span> <span class="tp tv">&#95;8883</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8885</span> <span class="tp tv">&#95;8884</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;8882</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;8883</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8889</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;8884</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;8884</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8885</span> <span class="tp tv">&#95;8884</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;8884</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8886</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;8884</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8885</span> <span class="tp tv">&#95;8884</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;8884</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp tv">&#95;8884</span></span></a>
</span>}

<span class="decl-fun" id="protect_1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect_1">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>( <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;7073</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;7074</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7073</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7074</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>((&lt;&gt;)): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>)})()
  <span class="decl-fun" id="kprotect"><span class="kw">fun</span> <a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp tv">&#95;7075</span></span></a>) {
    (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a> })()
    <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a>({<a class="pp">ret<span class="pc">ret: <span class="tp tv">&#95;7075</span></span></a>})
  </span>}
  <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;7077</span></span></a> <span class="kw">=</span> <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7073</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7074</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;7073</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;7074</span></span></a>,<a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;7077</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">xres<span class="pc">xres: <span class="tp tv">&#95;7077</span></span></a>){ <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a>,<a class="pp">xres<span class="pc">xres: <span class="tp tv">&#95;7077</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7075</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7076</span> <span class="tp tv">&#95;7077</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;7077</span></span></a>)
</span>}

<span class="decl-fun" id="clause_control2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control2">clause-control2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7361</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7362</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7363</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7364</span> <span class="tp tv">&#95;7366</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7364</span> <span class="tp tv">&#95;7366</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7364</span><span class="tp sp">,</span><span class="tp tv">&#95;7366</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7365</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;7361</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;7362</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;7364</span><span class="tp sp">,</span><span class="tp tv">&#95;7366</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7363</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7364</span> <span class="tp tv">&#95;7366</span></span></a>){ <a class="pp" href="#protect_1">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;7361</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;7362</span></span></a>,<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7361</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;7362</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7363</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7364</span> <span class="tp tv">&#95;7366</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7364</span> <span class="tp tv">&#95;7366</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7363</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;7364</span> <span class="tp tv">&#95;7366</span></span></a>) }) })
</span>}


<span class="decl-fun" id="clause_control_raw2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw2">clause-control-raw2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6310</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6311</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6312</span><span class="tp sp">,</span><span class="tp tv">&#95;6313</span><span class="tp sp">,</span><span class="tp tv">&#95;6315</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6313</span> <span class="tp tv">&#95;6315</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6313</span><span class="tp sp">,</span><span class="tp tv">&#95;6315</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6314</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6310</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6311</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6313</span><span class="tp sp">,</span><span class="tp tv">&#95;6315</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6312</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6313</span> <span class="tp tv">&#95;6315</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6310</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;6311</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6312</span><span class="tp sp">,</span><span class="tp tv">&#95;6313</span><span class="tp sp">,</span><span class="tp tv">&#95;6315</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6313</span> <span class="tp tv">&#95;6315</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6310</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6311</span></span></a>,<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6312</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6313</span> <span class="tp tv">&#95;6315</span></span></a>)) } ) })
</span>}

<span class="decl-fun" id="clause_tail2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail2">clause-tail2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8944</span><span class="tp sp">,</span> <span class="tp tv">&#95;8945</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8942</span> <span class="tp tv">&#95;8946</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8942</span><span class="tp sp">,</span><span class="tp tv">&#95;8943</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8947</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;8944</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;8945</span></span></a>){ <a class="pp" href="#under2">under2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8947</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8944</span><span class="tp sp">,</span> <span class="tp tv">&#95;8945</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8942</span> <span class="tp tv">&#95;8946</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;8944</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;8945</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield2">clause-tail-noyield2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;4184</span><span class="tp sp">,</span> <span class="tp tv">&#95;4185</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4182</span> <span class="tp tv">&#95;4186</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">&#95;m<span class="pc">&#95;m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4182</span><span class="tp sp">,</span><span class="tp tv">&#95;4183</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4187</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;4184</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;4185</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;4184</span><span class="tp sp">,</span> <span class="tp tv">&#95;4185</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4182</span> <span class="tp tv">&#95;4186</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;4184</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;4185</span></span></a>) })
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform2"</span>( <a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3680</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3680</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3676</span><span class="tp sp">,</span><span class="tp tv">&#95;3677</span><span class="tp sp">,</span><span class="tp tv">&#95;3678</span><span class="tp sp">,</span><span class="tp tv">&#95;3680</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">c</span><span class="pc">c: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3676</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;3677</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">c</span><span class="pc">c: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3680</span><span class="tp sp">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3684</span>,<span class="op">$</span><span class="number">3685</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3680</span><span class="tp op">&lt;$</span><span class="number">3684</span>,<span class="op">$</span><span class="number">3685</span><span class="op">&gt;</span></span></a>,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3680</span><span class="tp op">&lt;$</span><span class="number">3684</span>,<span class="op">$</span><span class="number">3685</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3680</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3676</span><span class="tp sp">,</span><span class="tp tv">&#95;3677</span><span class="tp sp">,</span><span class="tp tv">&#95;3678</span><span class="tp sp">,</span><span class="tp tv">&#95;3680</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3684</span>,<span class="op">$</span><span class="number">3685</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3680<span class="op">&gt;</span>, &#95;3676, &#95;3677) <span class="kw op">-></span> <span class="op">$</span><span class="number">3684</span> &#95;3678</span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev2_1">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3684</span>,<span class="op">$</span><span class="number">3685</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3680<span class="op">&gt;</span>, &#95;3676, &#95;3677) <span class="kw op">-></span> <span class="op">$</span><span class="number">3684</span> &#95;3678</span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3684</span>,<span class="op">$</span><span class="number">3685</span><span class="op">&gt;</span></span></a>,<a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3680</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3676</span></span></a>,<a class="pp">y<span class="pc">y: <span class="tp tv">&#95;3677</span></span></a>)
    }
  }
}

<span class="decl-fun" id="clause_never2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never2">clause-never2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8128</span><span class="tp sp">,</span> <span class="tp tv">&#95;8129</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8131</span> <span class="tp tv">&#95;8133</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8131</span><span class="tp sp">,</span><span class="tp tv">&#95;8133</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">&#95;ev<span class="pc">&#95;ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8132</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;8128</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;8129</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8131</span><span class="tp sp">,</span><span class="tp tv">&#95;8133</span><span class="tp sp">&gt;</span></span></a>, <span class="kw">fun</span>(<a class="pp">&#95;k<span class="pc">&#95;k: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8130</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8131</span> <span class="tp tv">&#95;8133</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;8128</span><span class="tp sp">,</span> <span class="tp tv">&#95;8129</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;8131</span> <span class="tp tv">&#95;8133</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;8128</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;8129</span></span></a>) }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 3 arguments: reuse 1 argument clause.
// Or should the compiler do tupling/untupling?
//----------------------------------------------------------------
</span>
<span class="comment">// For interal use
</span><span class="decl-fun" id="xperform1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3942</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3942</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3939</span><span class="tp sp">,</span><span class="tp tv">&#95;3940</span><span class="tp sp">,</span><span class="tp tv">&#95;3942</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3939</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3942</span><span class="tp sp">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3946</span>,<span class="op">$</span><span class="number">3947</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3942</span><span class="tp op">&lt;$</span><span class="number">3946</span>,<span class="op">$</span><span class="number">3947</span><span class="op">&gt;</span></span></a>,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp tv">&#95;3942</span><span class="tp op">&lt;$</span><span class="number">3946</span>,<span class="op">$</span><span class="number">3947</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;3942</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3939</span><span class="tp sp">,</span><span class="tp tv">&#95;3940</span><span class="tp sp">,</span><span class="tp tv">&#95;3942</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3946</span>,<span class="op">$</span><span class="number">3947</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3942<span class="op">&gt;</span>, &#95;3939) <span class="kw op">-></span> <span class="op">$</span><span class="number">3946</span> &#95;3940</span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev1_1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3946</span>,<span class="op">$</span><span class="number">3947</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span>&#95;3942<span class="op">&gt;</span>, &#95;3939) <span class="kw op">-></span> <span class="op">$</span><span class="number">3946</span> &#95;3940</span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3946</span>,<span class="op">$</span><span class="number">3947</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3942</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3939</span></span></a>)
    }
  }
</span>}

<span class="decl-fun" id="clause_control_raw3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw3">clause-control-raw3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1187</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1188</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1189</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6367</span><span class="tp sp">,</span><span class="tp tv">&#95;1185</span><span class="tp sp">,</span><span class="tp tv">&#95;1186</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1185</span> <span class="tp tv">&#95;1186</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control_raw1">clause-control-raw1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fun</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1187</span><span class="tp sp">,</span> <span class="tp tv">&#95;1188</span><span class="tp sp">,</span> <span class="tp tv">&#95;1189</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l643<span class="dash">-</span>c31: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l643<span class="dash">-</span>c33: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l643<span class="dash">-</span>c35: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6367</span><span class="tp sp">,</span><span class="tp tv">&#95;1185</span><span class="tp sp">,</span><span class="tp tv">&#95;1186</span><span class="tp sp">&gt;</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1187</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1188</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1189</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6367</span><span class="tp sp">,</span><span class="tp tv">&#95;1185</span><span class="tp sp">,</span><span class="tp tv">&#95;1186</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1185</span> <span class="tp tv">&#95;1186</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1187</span><span class="tp sp">,</span> <span class="tp tv">&#95;1188</span><span class="tp sp">,</span> <span class="tp tv">&#95;1189</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1187</span><span class="tp sp">,</span> <span class="tp tv">&#95;1188</span><span class="tp sp">,</span> <span class="tp tv">&#95;1189</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1187</span><span class="tp sp">,</span> <span class="tp tv">&#95;1188</span><span class="tp sp">,</span> <span class="tp tv">&#95;1189</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6367</span><span class="tp sp">,</span><span class="tp tv">&#95;1185</span><span class="tp sp">,</span><span class="tp tv">&#95;1186</span><span class="tp sp">&gt;</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_control3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control3">clause-control3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1362</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1363</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1364</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7452</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1360</span> <span class="tp tv">&#95;1361</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1360</span> <span class="tp tv">&#95;1361</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fun</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1362</span><span class="tp sp">,</span> <span class="tp tv">&#95;1363</span><span class="tp sp">,</span> <span class="tp tv">&#95;1364</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l647<span class="dash">-</span>c27: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l647<span class="dash">-</span>c29: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l647<span class="dash">-</span>c31: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp tv">&#95;7452</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1360</span> <span class="tp tv">&#95;1361</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1362</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1363</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1364</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7452</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1360</span> <span class="tp tv">&#95;1361</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1360</span> <span class="tp tv">&#95;1361</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1362</span><span class="tp sp">,</span> <span class="tp tv">&#95;1363</span><span class="tp sp">,</span> <span class="tp tv">&#95;1364</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1362</span><span class="tp sp">,</span> <span class="tp tv">&#95;1363</span><span class="tp sp">,</span> <span class="tp tv">&#95;1364</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1362</span><span class="tp sp">,</span> <span class="tp tv">&#95;1363</span><span class="tp sp">,</span> <span class="tp tv">&#95;1364</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp tv">&#95;7452</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1360</span> <span class="tp tv">&#95;1361</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail3">clause-tail3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1659</span><span class="tp sp">,</span> <span class="tp tv">&#95;1660</span><span class="tp sp">,</span> <span class="tp tv">&#95;1661</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1657</span> <span class="tp tv">&#95;1658</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fun</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1659</span><span class="tp sp">,</span> <span class="tp tv">&#95;1660</span><span class="tp sp">,</span> <span class="tp tv">&#95;1661</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l651<span class="dash">-</span>c25: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l651<span class="dash">-</span>c27: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l651<span class="dash">-</span>c29: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1659</span><span class="tp sp">,</span> <span class="tp tv">&#95;1660</span><span class="tp sp">,</span> <span class="tp tv">&#95;1661</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1657</span> <span class="tp tv">&#95;1658</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1659</span><span class="tp sp">,</span> <span class="tp tv">&#95;1660</span><span class="tp sp">,</span> <span class="tp tv">&#95;1661</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1659</span><span class="tp sp">,</span> <span class="tp tv">&#95;1660</span><span class="tp sp">,</span> <span class="tp tv">&#95;1661</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1659</span><span class="tp sp">,</span> <span class="tp tv">&#95;1660</span><span class="tp sp">,</span> <span class="tp tv">&#95;1661</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail_noyield3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield3">clause-tail-noyield3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1537</span><span class="tp sp">,</span> <span class="tp tv">&#95;1538</span><span class="tp sp">,</span> <span class="tp tv">&#95;1539</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1535</span> <span class="tp tv">&#95;1536</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail_noyield1">clause-tail-noyield1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fun</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1537</span><span class="tp sp">,</span> <span class="tp tv">&#95;1538</span><span class="tp sp">,</span> <span class="tp tv">&#95;1539</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l655<span class="dash">-</span>c33: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l655<span class="dash">-</span>c35: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l655<span class="dash">-</span>c37: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1537</span><span class="tp sp">,</span> <span class="tp tv">&#95;1538</span><span class="tp sp">,</span> <span class="tp tv">&#95;1539</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1535</span> <span class="tp tv">&#95;1536</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1537</span><span class="tp sp">,</span> <span class="tp tv">&#95;1538</span><span class="tp sp">,</span> <span class="tp tv">&#95;1539</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1537</span><span class="tp sp">,</span> <span class="tp tv">&#95;1538</span><span class="tp sp">,</span> <span class="tp tv">&#95;1539</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1537</span><span class="tp sp">,</span> <span class="tp tv">&#95;1538</span><span class="tp sp">,</span> <span class="tp tv">&#95;1539</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_never3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never3">clause-never3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1499</span><span class="tp sp">,</span> <span class="tp tv">&#95;1500</span><span class="tp sp">,</span> <span class="tp tv">&#95;1501</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1497</span> <span class="tp tv">&#95;1498</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_never1">clause-never1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fun</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1499</span><span class="tp sp">,</span> <span class="tp tv">&#95;1500</span><span class="tp sp">,</span> <span class="tp tv">&#95;1501</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l659<span class="dash">-</span>c24: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l659<span class="dash">-</span>c26: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l659<span class="dash">-</span>c28: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1499</span><span class="tp sp">,</span> <span class="tp tv">&#95;1500</span><span class="tp sp">,</span> <span class="tp tv">&#95;1501</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1497</span> <span class="tp tv">&#95;1498</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1499</span><span class="tp sp">,</span> <span class="tp tv">&#95;1500</span><span class="tp sp">,</span> <span class="tp tv">&#95;1501</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1499</span><span class="tp sp">,</span> <span class="tp tv">&#95;1500</span><span class="tp sp">,</span> <span class="tp tv">&#95;1501</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1499</span><span class="tp sp">,</span> <span class="tp tv">&#95;1500</span><span class="tp sp">,</span> <span class="tp tv">&#95;1501</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform3"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6086</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;6086</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">&#95;6081</span><span class="tp sp">,</span> <span class="tp tv">&#95;6082</span><span class="tp sp">,</span> <span class="tp tv">&#95;6083</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">&#95;6084</span><span class="tp sp">,</span><span class="tp tv">&#95;6086</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6081</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6082</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;6083</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <a class="pp" href="#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6086</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;6086</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">&#95;6081</span><span class="tp sp">,</span> <span class="tp tv">&#95;6082</span><span class="tp sp">,</span> <span class="tp tv">&#95;6083</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">&#95;6084</span><span class="tp sp">,</span><span class="tp tv">&#95;6086</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a><a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6081</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6082</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;6083</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>)
}

<span class="decl-fun" id="under3"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under3">under3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9936</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;9931</span><span class="tp sp">,</span> <span class="tp tv">&#95;9932</span><span class="tp sp">,</span> <span class="tp tv">&#95;9933</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9935</span> <span class="tp tv">&#95;9934</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;9931</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;9932</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;9933</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9939</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9936</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp tv">&#95;9934</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;9931</span><span class="tp sp">,</span> <span class="tp tv">&#95;9932</span><span class="tp sp">,</span> <span class="tp tv">&#95;9933</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9935</span> <span class="tp tv">&#95;9934</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;9931</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;9932</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;9933</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9939</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;9934</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9934</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9935</span> <span class="tp tv">&#95;9934</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9934</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9936</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9934</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9935</span> <span class="tp tv">&#95;9934</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9934</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp tv">&#95;9934</span></span></a>
</span>}



<span class="decl-fun" id="clause_control4"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control4">clause-control4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1408</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7715</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1403</span> <span class="tp tv">&#95;1404</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1403</span> <span class="tp tv">&#95;1404</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x4</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fun</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tv">&#95;1408</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l677<span class="dash">-</span>c27: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l677<span class="dash">-</span>c29: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l677<span class="dash">-</span>c31: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l677<span class="dash">-</span>c33: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp tv">&#95;7715</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1403</span> <span class="tp tv">&#95;1404</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">&#95;1408</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">&#95;7715</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1403</span> <span class="tp tv">&#95;1404</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1403</span> <span class="tp tv">&#95;1404</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tv">&#95;1408</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_2">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tv">&#95;1408</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_2">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tv">&#95;1408</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd_1">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1405</span><span class="tp sp">,</span> <span class="tp tv">&#95;1406</span><span class="tp sp">,</span> <span class="tp tv">&#95;1407</span><span class="tp sp">,</span> <span class="tp tv">&#95;1408</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#field4">field4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>field4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">d</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp tv">&#95;7715</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1403</span> <span class="tp tv">&#95;1404</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail4"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail4">clause-tail4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1697</span> <span class="tp tv">&#95;1698</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fun</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l681<span class="dash">-</span>c25: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l681<span class="dash">-</span>c27: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l681<span class="dash">-</span>c29: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;l681<span class="dash">-</span>c31: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;1697</span> <span class="tp tv">&#95;1698</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_2">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_2">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd_1">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp tv">&#95;1699</span><span class="tp sp">,</span> <span class="tp tv">&#95;1700</span><span class="tp sp">,</span> <span class="tp tv">&#95;1701</span><span class="tp sp">,</span> <span class="tp tv">&#95;1702</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#field4">field4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>field4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">d</span></span></a>) } )
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform4"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6137</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;6137</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">&#95;6131</span><span class="tp sp">,</span> <span class="tp tv">&#95;6132</span><span class="tp sp">,</span> <span class="tp tv">&#95;6133</span><span class="tp sp">,</span> <span class="tp tv">&#95;6134</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">&#95;6135</span><span class="tp sp">,</span><span class="tp tv">&#95;6137</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6131</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6132</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;6133</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;6134</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <a class="pp" href="#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6137</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">&#95;6137</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">&#95;6131</span><span class="tp sp">,</span> <span class="tp tv">&#95;6132</span><span class="tp sp">,</span> <span class="tp tv">&#95;6133</span><span class="tp sp">,</span> <span class="tp tv">&#95;6134</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">&#95;6135</span><span class="tp sp">,</span><span class="tp tv">&#95;6137</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">field4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a><a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6131</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6132</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;6133</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;6134</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">field4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>)
}

<span class="decl-fun" id="under4"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under4">under4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10002</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;9996</span><span class="tp sp">,</span> <span class="tp tv">&#95;9997</span><span class="tp sp">,</span> <span class="tp tv">&#95;9998</span><span class="tp sp">,</span> <span class="tp tv">&#95;9999</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10001</span> <span class="tp tv">&#95;10000</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;9996</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;9997</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;9998</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;9999</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10005</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10002</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp tv">&#95;10000</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tv">&#95;9996</span><span class="tp sp">,</span> <span class="tp tv">&#95;9997</span><span class="tp sp">,</span> <span class="tp tv">&#95;9998</span><span class="tp sp">,</span> <span class="tp tv">&#95;9999</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10001</span> <span class="tp tv">&#95;10000</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;9996</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;9997</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;9998</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;9999</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10005</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;10000</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;10000</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10001</span> <span class="tp tv">&#95;10000</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;10000</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10002</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;10000</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10001</span> <span class="tp tv">&#95;10000</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;10000</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp tv">&#95;10000</span></span></a>
</span>}


<span class="comment">// -------------------------------------------
// Open
// -------------------------------------------
// Generated by type inference and later refined into one of the below variants
</span><span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".open"</span><span class="op">&lt;</span>e1,e2,a,b<span class="op">&gt;</span>( x <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  inline <span class="st">"(#1)"</span>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3139</span> <span class="tp tv">&#95;3138</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3138</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3139</span> <span class="tp tv">&#95;3138</span></span></a>)()
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3138</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3203</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3205</span> <span class="tp tv">&#95;3204</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3203</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3204</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3203</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3205</span> <span class="tp tv">&#95;3204</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3203</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3204</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3283</span><span class="tp sp">,</span> <span class="tp tv">&#95;3284</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3286</span> <span class="tp tv">&#95;3285</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3283</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;3284</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3285</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3283</span><span class="tp sp">,</span> <span class="tp tv">&#95;3284</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3286</span> <span class="tp tv">&#95;3285</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3283</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;3284</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3285</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3378</span><span class="tp sp">,</span> <span class="tp tv">&#95;3379</span><span class="tp sp">,</span> <span class="tp tv">&#95;3380</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3382</span> <span class="tp tv">&#95;3381</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3378</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;3379</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;3380</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3381</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3378</span><span class="tp sp">,</span> <span class="tp tv">&#95;3379</span><span class="tp sp">,</span> <span class="tp tv">&#95;3380</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3382</span> <span class="tp tv">&#95;3381</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3378</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;3379</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;3380</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3381</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3423</span><span class="tp sp">,</span> <span class="tp tv">&#95;3424</span><span class="tp sp">,</span> <span class="tp tv">&#95;3425</span><span class="tp sp">,</span> <span class="tp tv">&#95;3426</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3428</span> <span class="tp tv">&#95;3427</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3423</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;3424</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;3425</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;3426</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3427</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;3423</span><span class="tp sp">,</span> <span class="tp tv">&#95;3424</span><span class="tp sp">,</span> <span class="tp tv">&#95;3425</span><span class="tp sp">,</span> <span class="tp tv">&#95;3426</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;3428</span> <span class="tp tv">&#95;3427</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;3423</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;3424</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;3425</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;3426</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">((&lt;&gt;))</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;3427</span></span></a>
}


<span class="decl-fun" id="open_at1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;4931</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4933</span> <span class="tp tv">&#95;4932</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4931</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4934</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;4932</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;4931</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4933</span> <span class="tp tv">&#95;4932</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;4931</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4934</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;4932</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4932</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4934</span> <span class="tp tv">&#95;4932</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4932</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;4932</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;4934</span> <span class="tp tv">&#95;4932</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;4932</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;4932</span></span></a>
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5041</span> <span class="tp tv">&#95;5040</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5042</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5040</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5041</span> <span class="tp tv">&#95;5040</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5042</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5040</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5040</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5042</span> <span class="tp tv">&#95;5040</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5040</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5040</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5042</span> <span class="tp tv">&#95;5040</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5040</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5040</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5131</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5133</span> <span class="tp tv">&#95;5132</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;5131</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5134</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5132</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5131</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5133</span> <span class="tp tv">&#95;5132</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;5131</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5134</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5132</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5132</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5134</span> <span class="tp tv">&#95;5132</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5132</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5132</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5134</span> <span class="tp tv">&#95;5132</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5132</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5132</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5237</span><span class="tp sp">,</span> <span class="tp tv">&#95;5238</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5240</span> <span class="tp tv">&#95;5239</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5237</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5238</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5241</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5239</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5237</span><span class="tp sp">,</span> <span class="tp tv">&#95;5238</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5240</span> <span class="tp tv">&#95;5239</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5237</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5238</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5241</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5239</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5239</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5241</span> <span class="tp tv">&#95;5239</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5239</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5239</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5241</span> <span class="tp tv">&#95;5239</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5239</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5239</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5358</span><span class="tp sp">,</span> <span class="tp tv">&#95;5359</span><span class="tp sp">,</span> <span class="tp tv">&#95;5360</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5362</span> <span class="tp tv">&#95;5361</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5358</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5359</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;5360</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5363</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5361</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5358</span><span class="tp sp">,</span> <span class="tp tv">&#95;5359</span><span class="tp sp">,</span> <span class="tp tv">&#95;5360</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5362</span> <span class="tp tv">&#95;5361</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5358</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5359</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;5360</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5363</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5361</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5361</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5363</span> <span class="tp tv">&#95;5361</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5361</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5361</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5363</span> <span class="tp tv">&#95;5361</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5361</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5361</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5429</span><span class="tp sp">,</span> <span class="tp tv">&#95;5430</span><span class="tp sp">,</span> <span class="tp tv">&#95;5431</span><span class="tp sp">,</span> <span class="tp tv">&#95;5432</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5434</span> <span class="tp tv">&#95;5433</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5429</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5430</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;5431</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;5432</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5435</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5433</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5429</span><span class="tp sp">,</span> <span class="tp tv">&#95;5430</span><span class="tp sp">,</span> <span class="tp tv">&#95;5431</span><span class="tp sp">,</span> <span class="tp tv">&#95;5432</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5434</span> <span class="tp tv">&#95;5433</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5429</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5430</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;5431</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;5432</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5435</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5433</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5433</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5435</span> <span class="tp tv">&#95;5433</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5433</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5433</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5435</span> <span class="tp tv">&#95;5433</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5433</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5433</span></span></a>
}


<span class="decl-fun" id="open1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5506</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5508</span> <span class="tp tv">&#95;5507</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;5506</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5509</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5507</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5506</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5508</span> <span class="tp tv">&#95;5507</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;5506</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5509</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5507</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5507</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5509</span> <span class="tp tv">&#95;5507</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5507</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5507</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5509</span> <span class="tp tv">&#95;5507</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5507</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5507</span></span></a>
</span>}


<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5616</span> <span class="tp tv">&#95;5615</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5617</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5615</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5616</span> <span class="tp tv">&#95;5615</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5617</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5615</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5615</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5617</span> <span class="tp tv">&#95;5615</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5615</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5615</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5617</span> <span class="tp tv">&#95;5615</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5615</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5615</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5706</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5708</span> <span class="tp tv">&#95;5707</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp tv">&#95;5706</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5709</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5707</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5706</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5708</span> <span class="tp tv">&#95;5707</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;5706</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5709</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5707</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5707</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5709</span> <span class="tp tv">&#95;5707</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5707</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5707</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5709</span> <span class="tp tv">&#95;5707</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5707</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5707</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5812</span><span class="tp sp">,</span> <span class="tp tv">&#95;5813</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5815</span> <span class="tp tv">&#95;5814</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5812</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5813</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5816</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5814</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5812</span><span class="tp sp">,</span> <span class="tp tv">&#95;5813</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5815</span> <span class="tp tv">&#95;5814</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5812</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5813</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5816</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5814</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5814</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5816</span> <span class="tp tv">&#95;5814</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5814</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5814</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5816</span> <span class="tp tv">&#95;5814</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5814</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5814</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5933</span><span class="tp sp">,</span> <span class="tp tv">&#95;5934</span><span class="tp sp">,</span> <span class="tp tv">&#95;5935</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5937</span> <span class="tp tv">&#95;5936</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5933</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5934</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;5935</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5938</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5936</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;5933</span><span class="tp sp">,</span> <span class="tp tv">&#95;5934</span><span class="tp sp">,</span> <span class="tp tv">&#95;5935</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5937</span> <span class="tp tv">&#95;5936</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;5933</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;5934</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;5935</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;5938</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;5936</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5936</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5938</span> <span class="tp tv">&#95;5936</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5936</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;5936</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;5938</span> <span class="tp tv">&#95;5936</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;5936</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;5936</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;6004</span><span class="tp sp">,</span> <span class="tp tv">&#95;6005</span><span class="tp sp">,</span> <span class="tp tv">&#95;6006</span><span class="tp sp">,</span> <span class="tp tv">&#95;6007</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6009</span> <span class="tp tv">&#95;6008</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6004</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6005</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;6006</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;6007</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6010</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;6008</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp tv">&#95;6004</span><span class="tp sp">,</span> <span class="tp tv">&#95;6005</span><span class="tp sp">,</span> <span class="tp tv">&#95;6006</span><span class="tp sp">,</span> <span class="tp tv">&#95;6007</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6009</span> <span class="tp tv">&#95;6008</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp tv">&#95;6004</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp tv">&#95;6005</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp tv">&#95;6006</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp tv">&#95;6007</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;6010</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp tv">&#95;6008</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;6008</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6010</span> <span class="tp tv">&#95;6008</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6008</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;6008</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;6010</span> <span class="tp tv">&#95;6008</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;6008</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp tv">&#95;6008</span></span></a>
}

<span class="comment">// -------------------------------------------
// capture yields
// -------------------------------------------
</span>
<span class="decl-fun" id="unsafe_try_finalize"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_try_finalize">unsafe-try-finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>try<span class="dash">-</span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10067</span> <span class="tp tv">&#95;10066</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_either"><span class="tp">either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>either: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;10067</span> <span class="tp tv">&#95;10066</span></span></a>());
</span>}

<span class="decl-fun" id="try_finalize_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9856</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_either"><span class="tp">either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>either: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding-non-final</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">&#95;9856</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fun</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9856</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9857</span> <span class="tp tv">&#95;9856</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;9856</span></span></a>){ <a class="pp" href="#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp tv">&#95;9856</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">&#95;9857</span> <span class="tp tv">&#95;9856</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp tv">&#95;9856</span></span></a>))) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <span class="kw">if</span> (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">!</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_Right"><span class="co">Right</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Right: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">right</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp tv">&#95;9856</span></span></a>) <span class="kw">else</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_Left"><span class="co">Left</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Left: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">left</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>())
</span>}
</pre>

</div></body>
</html>
