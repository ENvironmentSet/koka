<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>hnd.kk documentation</title>
</head>

<body class="koka doc body madoko">
<pre class="koka source"><span class="comment">/&#42;---------------------------------------------------------------------------
  Copyright 2012-2021, Microsoft Research, Daan Leijen.

  This is free software; you can redistribute it and/or modify it under the
  terms of the Apache License, Version 2.0. A copy of the License can be
  found in the LICENSE file at the root of this distribution.
---------------------------------------------------------------------------&#42;/</span>

<span class="comment">/&#42; Internal effect handler primitives.

   Internal primitives to implement evidence based algebraic
   effect handlers. These are emitted by the compiler during evidence
   translation and this module is always implicitly imported.
&#42;/</span>
<span class="kw">public</span> <span class="kw">module</span> hnd

<span class="kw">import</span> types

<span class="kw">extern</span> <span class="kw">import</span> {
  c  file <span class="st">"hnd-inline"</span>
  js file <span class="st">"hnd-inline.js"</span>
}


<span class="comment">// -------------------------------------------
// Internal types
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_marker"><span class="kw">private</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Marker"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">::</span><span class="co">E</span>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="op">&gt;</span>(<span class="decl-fun" id="m"><a class="pp">m<span class="pc">m: <span class="tp">int32</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a></span></span>)

<span class="decl-type" id="type_space_htag"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">::</span><span class="tp sp">(</span><span class="co">E</span>,<span class="co">V</span>)<span class="kw op">-></span><span class="co">V</span><span class="op">&gt;</span> {
  <span class="decl-con" id="con_space_Htag"><a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tagname</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<span class="decl-fun" id="tagname"><a class="pp">tagname<span class="pc">tagname: <span class="tp">string</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></span>)
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".new-htag"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) {
  <a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tagname</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a>)
}

<span class="decl-fun" id="hidden_htag"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#hidden_htag">hidden-htag<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>hidden<span class="dash">-</span>htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tag</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) {
  <a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tagname</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a>)
</span>}

<span class="comment">// control flow context:
//                 -1: none: bottom
//                   /          \
// 0: except: never resumes   1: linear: resumes exactly once
//                   \          /
//           2: affine: resumes never or once
//                        |
//     3: multi: resumes never, once, or multiple times
</span><span class="decl-alias" id="type_space_cfc"><span class="kw">public</span> <span class="tp kw">alias</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="co">V</span></span></a> <span class="tp kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a></span>


<span class="decl-type" id="type_space_ev"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Ev"><span class="kw">con</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="op">&gt;</span>(<span class="decl-fun" id="htag"><a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="number">24</span><span class="op">&gt;</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">marker<span class="pc">marker: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">25</span>,<span class="number">26</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">hnd<span class="pc">hnd: <span class="number">24</span><span class="op">&lt;</span><span class="number">25</span>,<span class="number">26</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <span class="decl-fun" id="cfc"><a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="co">V</span></span></a>, <a class="pp">hevv<span class="pc">hevv: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="number">25</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span></span>)
</span>}

<span class="decl-type" id="type_space_evv"><span class="kw">private</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">::</span><span class="co">E</span></span><span class="op">&gt;</span>;

<span class="decl-alias" id="type_space_ev_index"><span class="kw">public</span> <span class="tp kw">alias</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a> <span class="tp kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ssize__t"><span class="tp">ssize&#95;t</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ssize&#95;t: <span class="co">V</span></span></a></span>

<span class="comment">// -------------------------------------------
// Internal Markers
// -------------------------------------------
</span>
<span class="decl-fun" id="fresh_marker_int"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_int">fresh-marker-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a> {
  c inline <span class="st">"kk&#95;marker&#95;unique(kk&#95;context())"</span>
  js inline <span class="st">"$marker&#95;unique++"</span>
</span>}

<span class="decl-fun" id="fresh_marker_named_int"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_named_int">fresh-marker-named-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a> {
  c inline <span class="st">"-kk&#95;marker&#95;unique(kk&#95;context())"</span>
  js inline <span class="st">"-($marker&#95;unique++)"</span>
</span>}

<span class="decl-fun" id="fresh_marker"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Marker"><span class="co">Marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#fresh_marker_int">fresh-marker-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>())
</span>}

<span class="decl-fun" id="fresh_marker_named"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_named">fresh-marker-named<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Marker"><span class="co">Marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#fresh_marker_named_int">fresh-marker-named-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>())
</span>}

<span class="comment">// -------------------------------------------
// Internal Evidence vectors
// -------------------------------------------
</span>
<span class="decl-external" id="evv_total"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_total">evv-total<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>total: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> {
  c  <span class="st">"kk&#95;evv&#95;total"</span>
  js inline <span class="st">"[]"</span>
</span>}


<span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".evv-at"</span><span class="op">&lt;</span>e,h<span class="op">&gt;</span> ( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {  <span class="comment">// pretend total; don't simplify
</span>  c inline <span class="st">"kk&#95;evv&#95;at(#1,kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;at(#1)"</span>
}

<span class="comment">// (dynamically) find evidence insertion/deletion index in the evidence vector
</span><span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-index"</span><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">::</span><span class="co">E</span>,<a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="op">&gt;</span>( <a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">3065</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;index(#1,kk&#95;context())"</span>
  js inline <span class="st">"&#95;&#95;evv&#95;index(#1)"</span>
}


<span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-lookup"</span>( <a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">3081</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;lookup(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;&#95;evv&#95;lookup"</span>
}

<span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".evv-select"</span>( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, htag <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"(#1 &gt;= 0 ? kk&#95;evv&#95;at(#1,kk&#95;context()) : kk&#95;evv&#95;lookup(#2,kk&#95;context()))"</span>
  js inline <span class="st">"(#1 &gt;= 0 ? $std&#95;core&#95;hnd.&#95;evv&#95;at(#1) : &#95;&#95;evv&#95;lookup(#2))"</span>
}

<span class="decl-fun" id="evv_show"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_show">evv-show<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>show: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>( <a class="pp">evv<span class="pc">evv: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4230</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> {
  c  inline <span class="st">"kk&#95;evv&#95;show(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;show"</span>
</span>}

<span class="decl-fun" id="evv_eq"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">evv0<span class="pc">evv0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3825</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">evv1<span class="pc">evv1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3825</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;eq(#1,#2,kk&#95;context())"</span>
  js inline <span class="st">"(#1) === (#2)"</span>
</span>}


<span class="decl-fun" id="evv_get"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;get(kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;get"</span>
</span>}

<span class="decl-external" id="evv_set"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a><span class="op">&lt;</span>e1,e<span class="op">&gt;</span>( w <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;set(#1,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;set"</span>
</span>}

<span class="decl-external" id="evv_swap"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap">evv-swap<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span>e1,e2<span class="op">&gt;</span>( w <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap(#1,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;swap"</span>
</span>}

<span class="decl-fun" id="evv_insert"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">evv<span class="pc">evv: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3802</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3804</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;insert(#1,#2,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;insert"</span>
</span>}

<span class="decl-fun" id="evv_swap_delete"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;swap&#95;delete(#1,#2,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;swap&#95;delete"</span>
</span>}

<span class="decl-external" id="evv_swap_create0"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> { <span class="comment">//not quite the right effect type but avoids unbound effect types
</span>  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create0(kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;swap&#95;create0"</span>
</span>}

<span class="decl-external" id="evv_swap_create1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> {   <span class="comment">//not quite the right effect type but avoids unbound effect types
</span>  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create1(#1,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;swap&#95;create1"</span>
</span>}

<span class="decl-fun" id="evv_swap_create"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> { <span class="comment">//not quite the right effect type but avoids unbound effect types
</span>  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;swap&#95;create"</span>
</span>}

<span class="decl-external" id="ev_none"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#ev_none">ev-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span>e,h<span class="op">&gt;</span>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  c  <span class="st">"kk&#95;ev&#95;none"</span>
  js <span class="st">"ev&#95;none"</span>
</span>}

<span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-is-affine"</span>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;cfc(kk&#95;context())&lt;=2"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;cfc()&lt;=2"</span>
}


<span class="comment">// -------------------------------------------
// Internal Yielding
// -------------------------------------------
</span>
<span class="decl-external" id="yielding"><span class="kw">public</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yielding(kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;yielding()"</span>
</span>}

<span class="decl-external" id="yielding_non_final"><span class="kw">public</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yielding&#95;non&#95;final(kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;yielding&#95;non&#95;final()"</span>
</span>}

<span class="decl-fun" id="yield_extend"><span class="kw">public</span> noinline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3844</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3846</span> <span class="op">$</span><span class="number">3845</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yield&#95;extend(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;extend"</span>
</span>}

<span class="decl-fun" id="yield_bind"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4454</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>, <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4454</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4456</span> <span class="op">$</span><span class="number">4455</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4454</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4456</span> <span class="op">$</span><span class="number">4455</span></span></a>) <span class="kw">else</span> <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4454</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4456</span> <span class="op">$</span><span class="number">4455</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4454</span></span></a>)
</span>}

<span class="decl-fun" id="yield_bind2"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_bind2">yield-bind2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">extend</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">10228</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>, <a class="pp">extend<span class="pc">extend: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10228</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10230</span> <span class="op">$</span><span class="number">10229</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10228</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10230</span> <span class="op">$</span><span class="number">10229</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">extend<span class="pc">extend: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10228</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10230</span> <span class="op">$</span><span class="number">10229</span></span></a>) <span class="kw">else</span> <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10228</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10230</span> <span class="op">$</span><span class="number">10229</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">10228</span></span></a>)
</span>}

<span class="decl-fun" id="yield_cont"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3863</span> <span class="op">$</span><span class="number">3862</span>, a) <span class="kw op">-></span> <span class="op">$</span><span class="number">3863</span> <span class="op">$</span><span class="number">3864</span></span></a> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {  <span class="comment">// make hidden public?
</span>  c  inline <span class="st">"kk&#95;yield&#95;cont(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;cont"</span>
</span>}

<span class="decl-external" id="keep_yielding_final"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#keep_yielding_final">keep-yielding-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>keep<span class="dash">-</span>yielding<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  c inline <span class="st">"kk&#95;box&#95;any(kk&#95;context())"</span>
  js inline <span class="st">"undefined"</span>
</span>}

<span class="decl-fun" id="yield_prompt"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_prompt">yield-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3885</span>,<span class="op">$</span><span class="number">3886</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_yld"><span class="tp">yld</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yld: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;yield&#95;prompt(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;prompt"</span>
</span>}

<span class="decl-fun" id="yield_to_prim"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to_prim">yield-to-prim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>prim: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4061</span>,<span class="op">$</span><span class="number">4062</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4059</span>,<span class="op">$</span><span class="number">4062</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4061</span> <span class="op">$</span><span class="number">4062</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4061</span> <span class="op">$</span><span class="number">4062</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><span class="tp sp">)</span> {
  c  inline <span class="st">"kk&#95;yield&#95;to(#1,#2,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;to"</span>
</span>}

<span class="decl-fun" id="yield_to_final"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3906</span>,<span class="op">$</span><span class="number">3907</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">3904</span>,<span class="op">$</span><span class="number">3907</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3906</span> <span class="op">$</span><span class="number">3907</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3906</span> <span class="op">$</span><span class="number">3907</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yield&#95;final(#1,#2,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;final"</span>
</span>}

<span class="decl-fun" id="yield_to"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6398</span>,<span class="op">$</span><span class="number">6399</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6397</span>,<span class="op">$</span><span class="number">6399</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6398</span> <span class="op">$</span><span class="number">6399</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6398</span> <span class="op">$</span><span class="number">6399</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="comment">//val w0 = evv-get()
</span>  <span class="kw">val</span> <a class="pp">g<span class="pc">g: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6397</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv">&#95;b</span><span class="pc">&#95;b: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="#yield_to_prim">yield-to-prim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>prim: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6398</span>,<span class="op">$</span><span class="number">6399</span><span class="op">&gt;</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6397</span>,<span class="op">$</span><span class="number">6399</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6398</span> <span class="op">$</span><span class="number">6399</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6398</span> <span class="op">$</span><span class="number">6399</span></span></a>)
  <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a> <span class="kw">fn</span>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6398</span> <span class="op">$</span><span class="number">6397</span></span></a>){
    <span class="comment">// val keep1 = guard(w0)  // check the evidence is correctly restored
</span>    <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6398</span> <span class="op">$</span><span class="number">6397</span></span></a>()
  }
</span>}

<span class="decl-type" id="type_space_yield_info"><span class="kw">public</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="co">V</span></span></a></span>

<span class="decl-fun" id="yield_capture"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="co">V</span></span></a> {
  c <span class="st">"kk&#95;yield&#95;capture"</span>
  js <span class="st">"&#95;yield&#95;capture"</span>
</span>}

<span class="decl-fun" id="unsafe_reyield"><span class="kw">public</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  c <span class="st">"kk&#95;yield&#95;reyield"</span>
  js <span class="st">"&#95;reyield"</span>
</span>}

<span class="comment">// -------------------------------------------
//
// -------------------------------------------
</span>
<span class="decl-external" id="unsafe_coerce"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_coerce">unsafe-coerce<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>coerce: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>(x<span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev0"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev2"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev3"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev4"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev5"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev5">cast-ev5<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev5: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a5</span><span class="pc">a5: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a5</span><span class="pc">a5: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="decl-type" id="type_space_resume_result"><span class="kw">private</span> value <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Deep"><a class="pp">Deep<span class="pc">resume<span class="dash">-</span>result: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2799</span><span class="tp sp">,</span><span class="tp tv">&#95;2800</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">result<span class="pc">result: <span class="number">80</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> </span>)
  <span class="decl-con" id="con_space_Shallow"><a class="pp">Shallow<span class="pc">resume<span class="dash">-</span>result: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2812</span><span class="tp sp">,</span><span class="tp tv">&#95;2813</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">result<span class="pc">result: <span class="number">80</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> </span>)
  <span class="decl-con" id="con_space_Finalize"><a class="pp">Finalize<span class="pc">resume<span class="dash">-</span>result: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2825</span><span class="tp sp">,</span><span class="tp tv">&#95;2826</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">result<span class="pc">result: <span class="number">81</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> </span>)
</span>}

<span class="decl-type" id="type_space_yld"><span class="kw">private</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_yld"><span class="tp">yld</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yld: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Pure"><a class="pp">Pure<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3009</span><span class="tp sp">,</span><span class="tp tv">&#95;3010</span><span class="tp sp">,</span><span class="tp tv">&#95;3011</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_YieldingFinal"><a class="pp">YieldingFinal<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3022</span><span class="tp sp">,</span><span class="tp tv">&#95;3023</span><span class="tp sp">,</span><span class="tp tv">&#95;3024</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_Yielding"><a class="pp">Yielding<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3035</span><span class="tp sp">,</span><span class="tp tv">&#95;3036</span><span class="tp sp">,</span><span class="tp tv">&#95;3037</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_Yield"><a class="pp">Yield<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3050</span><span class="tp sp">,</span><span class="tp tv">&#95;3051</span><span class="tp sp">,</span><span class="tp tv">&#95;3052</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="number">110</span>,<span class="number">109</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">107</span> <span class="number">109</span>) <span class="kw op">-></span> <span class="number">107</span> <span class="number">109</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="number">110</span>) <span class="kw op">-></span> <span class="number">107</span> <span class="number">108</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a></span>)
</span>}

<span class="decl-fun" id="guard"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#guard">guard<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>guard: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3836</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a> {
  c  inline <span class="st">"kk&#95;evv&#95;guard(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;guard"</span>
  <span class="comment">// if (evv-equals(w)) then () else unsafe-total{ error("non-scoped resumption") }
</span></span>}

<span class="decl-fun" id="resume_final"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume_final">resume-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">a</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a> {
  c  inline <span class="st">"kk&#95;fatal&#95;resume&#95;final(kk&#95;context())"</span>
  js <span class="st">"&#95;throw&#95;resume&#95;final"</span>
</span>}

<span class="decl-fun" id="prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">&gt;</span>,  <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="co">E</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4483</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4482</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">result<span class="pc">result: <span class="tp op">$</span><span class="number">4482</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>
{
  <a class="pp" href="#guard">guard<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>guard: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)  <span class="comment">// restore the previous evidence vector
</span>  <span class="kw">match</span>(<a class="pp" href="#yield_prompt">yield-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4483</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>)) {
    <a class="pp" href="#con_space_Pure"><span class="co">Pure</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Pure: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> <span class="kw op">-></span> {
      <span class="comment">// returning
</span>      <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4482</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>(<a class="pp">result<span class="pc">result: <span class="tp op">$</span><span class="number">4482</span></span></a>)
    }
    <a class="pp" href="#con_space_YieldingFinal"><span class="co">YieldingFinal</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>YieldingFinal: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> <span class="kw op">-></span> {
      <span class="comment">// yielding final (exception), keep yielding
</span>      <a class="pp" href="#keep_yielding_final">keep-yielding-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>keep<span class="dash">-</span>yielding<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>()
    }
    <a class="pp" href="#con_space_Yielding"><span class="co">Yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Yielding: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> <span class="kw op">-></span> {
      <span class="comment">// regular yield, install a continuation
</span>      <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4520</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4482</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4520</span></span></a>){
        <span class="comment">// we resume, continue under a fresh a prompt again
</span>        <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>        <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a>)
        <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)
        <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4483</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4482</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4520</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4482</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4520</span></span></a>));
      })
    }
    <a class="pp" href="#con_space_Yield"><span class="co">Yield</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Yield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4562</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4562</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4482</span></span></a>) <span class="kw op">-></span> {
      <span class="comment">// yielded to the operation &#96;clause&#96; in our handler
</span>      <span class="decl-fun" id="resume"><span class="kw">fun</span> <a class="pp">resume<span class="pc">resume: <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4562</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4562</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>) {
        <span class="kw">match</span>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4562</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>) {
          <a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4562</span></span></a>) <span class="kw op">-></span> {
            <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>            <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4483</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4482</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4562</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4482</span></span></a>({<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4562</span></span></a>}))
          }
          <a class="pp" href="#con_space_Shallow"><span class="co">Shallow</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Shallow: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4562</span></span></a>) <span class="kw op">-></span> {
            <a class="pp" href="#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4562</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4482</span></span></a>({<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4562</span></span></a>}), <span class="kw">fn</span>(<a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4482</span></span></a>){ <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4482</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4482</span></span></a>) } )
          }
          <a class="pp" href="#con_space_Finalize"><span class="co">Finalize</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4485</span></span></a>) <span class="kw op">-></span> {
            <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>            <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4483</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4484</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4483</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4482</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4562</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4482</span></span></a>({ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4483</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span></span></a>,<span class="kw">fn</span>(&#95;k){<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4485</span></span></a>}) }))            
          }
        }
      </span>}
      <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4562</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>(<a class="pp">resume<span class="pc">resume: <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4562</span>,<span class="op">$</span><span class="number">4485</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4483</span> <span class="op">$</span><span class="number">4485</span></span></a>) <span class="comment">// TODO: we should exit prompt first, and then execute clause to use constant stack space when resuming
</span>    }    
  }
</span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".hhandle"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">4703</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="co">V</span></span></a>, <a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">4703</span><span class="op">&lt;$</span><span class="number">4701</span>,<span class="op">$</span><span class="number">4704</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4700</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4701</span> <span class="op">$</span><span class="number">4704</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4702</span> <span class="op">$</span><span class="number">4700</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <span class="comment">// insert new evidence for our handler
</span>  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4701</span>,<span class="op">$</span><span class="number">4704</span><span class="op">&gt;</span></span></a>  <span class="kw">=</span> <a class="pp" href="#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4703</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">4703</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4701</span>,<span class="op">$</span><span class="number">4704</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">4703</span><span class="op">&lt;$</span><span class="number">4701</span>,<span class="op">$</span><span class="number">4704</span><span class="op">&gt;</span></span></a>,<a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4703</span><span class="op">&gt;</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a>)
  <span class="comment">// call action first (this may be yielding), then check the result
</span>  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a>,<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4701</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4703</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4701</span>,<span class="op">$</span><span class="number">4704</span><span class="op">&gt;</span></span></a>,<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4700</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4701</span> <span class="op">$</span><span class="number">4704</span></span></a>,<a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4702</span> <span class="op">$</span><span class="number">4700</span></span></a>)())
}

<span class="comment">// -------------------------------------------
// named handler
// -------------------------------------------
</span>
<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".named-handle"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="co">V</span></span></a>, <a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">5026</span><span class="op">&lt;$</span><span class="number">5024</span>,<span class="op">$</span><span class="number">5027</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5023</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5024</span> <span class="op">$</span><span class="number">5027</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5025</span> <span class="op">$</span><span class="number">5023</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">5024</span>,<span class="op">$</span><span class="number">5027</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#fresh_marker_named">fresh-marker-named<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()            <span class="comment">// unique (negative) marker, but never gets inserted into the evidence vector
</span>  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5024</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">5024</span>,<span class="op">$</span><span class="number">5027</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">5026</span><span class="op">&lt;$</span><span class="number">5024</span>,<span class="op">$</span><span class="number">5027</span><span class="op">&gt;</span></span></a>,<a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5024</span><span class="op">&gt;</span></span></a>)
  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5024</span><span class="op">&gt;</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5024</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">5024</span>,<span class="op">$</span><span class="number">5027</span><span class="op">&gt;</span></span></a>,<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5023</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5024</span> <span class="op">$</span><span class="number">5027</span></span></a>,<a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5025</span> <span class="op">$</span><span class="number">5023</span></span></a>)(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5026</span><span class="op">&gt;</span></span></a>))
}

<span class="comment">// -------------------------------------------
// mask
// -------------------------------------------
</span>
<span class="decl-fun" id="mask_at1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4799</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4801</span> <span class="op">$</span><span class="number">4800</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4799</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4803</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4800</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4799</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4801</span> <span class="op">$</span><span class="number">4800</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4799</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4803</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">4800</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4875</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4802</span> <span class="op">$</span><span class="number">4800</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4875</span></span></a>){ <a class="pp" href="#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>),<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4875</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4802</span> <span class="op">$</span><span class="number">4800</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4875</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4800</span></span></a>
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".mask-at"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4913</span> <span class="op">$</span><span class="number">4912</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4915</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>)
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4912</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4913</span> <span class="op">$</span><span class="number">4912</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4915</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">4912</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4976</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4914</span> <span class="op">$</span><span class="number">4912</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4976</span></span></a>){ <a class="pp" href="#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4976</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4914</span> <span class="op">$</span><span class="number">4912</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4976</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4912</span></span></a>
}

<span class="comment">// mask for builtin effects without a handler or evidence
</span><span class="kw">public</span> <span class="kw">fun</span> <span class="st">".mask-builtin"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3092</span> <span class="op">$</span><span class="number">3091</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3092</span> <span class="op">$</span><span class="number">3091</span></span></a>)()
}


<span class="comment">// -------------------------------------------
// Local variables
// -------------------------------------------
</span>
<span class="decl-fun" id="prompt_local_var"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9810</span>,<span class="op">$</span><span class="number">9807</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="co">H</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="co">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9808</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>  ) <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_div"><span class="tp"><span class="effect">div</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>div: <span class="co">X</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="co">H</span> <span class="kw op">-></span> <span class="co">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="co">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;|&gt;): <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9808</span></span></a> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9808</span></span></a>;
  <span class="kw">val</span> <a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">9807</span></span></a> <span class="kw">=</span> <a class="pp">loc<span class="pc">loc: <span class="tp op">$</span><span class="number">9807</span></span></a>
  <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9854</span>) <span class="kw op">-></span> <span class="op">&lt;</span>div,local<span class="op">&lt;$</span><span class="number">9810</span><span class="op">&gt;|$</span><span class="number">9809</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9808</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9854</span></span></a>){ <a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9810</span>,<span class="op">$</span><span class="number">9807</span><span class="op">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">9807</span></span></a>; <a class="pp" href="#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9810</span>,<span class="op">$</span><span class="number">9807</span><span class="op">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9854</span>) <span class="kw op">-></span> <span class="op">&lt;</span>div,local<span class="op">&lt;$</span><span class="number">9810</span><span class="op">&gt;|$</span><span class="number">9809</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9808</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9854</span></span></a>)) } )  <span class="comment">// restore state early before the resume
</span></span>}

<span class="decl-fun" id="local_var"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#local_var">local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp op">$</span><span class="number">9903</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9906</span>,<span class="op">$</span><span class="number">9903</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">&lt;</span>local<span class="op">&lt;$</span><span class="number">9906</span><span class="op">&gt;|$</span><span class="number">9905</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9904</span></span></a><span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="co">H</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="co">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="co">H</span> <span class="kw op">-></span> <span class="co">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="co">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;|&gt;): <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="co">H</span> <span class="kw op">-></span> <span class="co">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="co">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;|&gt;): <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_no_div">unsafe-no-div<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>no<span class="dash">-</span>div: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a> {
    <span class="kw">val</span> <a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9906</span>,<span class="op">$</span><span class="number">9903</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="co">H</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l396<span class="dash">-</span>c25: <span class="co">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l396<span class="dash">-</span>c27: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_new">local-new<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>new: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp op">$</span><span class="number">9903</span></span></a>)
    <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9904</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9906</span>,<span class="op">$</span><span class="number">9903</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">&lt;</span>local<span class="op">&lt;$</span><span class="number">9906</span><span class="op">&gt;|$</span><span class="number">9905</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9904</span></span></a>)(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9906</span>,<span class="op">$</span><span class="number">9903</span><span class="op">&gt;</span></span></a>))
    <a class="pp" href="#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9906</span>,<span class="op">$</span><span class="number">9903</span><span class="op">&gt;</span></span></a>),<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9904</span></span></a>)
  }
</span>}


<span class="comment">// -------------------------------------------
// Finally
// -------------------------------------------
</span>
<span class="decl-fun" id="finally"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finally">finally<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9618</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9618</span> <span class="op">$</span><span class="number">9617</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <a class="pp" href="#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9618</span> ()</span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9618</span> <span class="op">$</span><span class="number">9617</span></span></a>());
</span>}

<span class="decl-fun" id="finally_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9528</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9527</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> 
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">!</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="kw">then</span> 
    <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9528</span> ()</span></a>()
    <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9527</span></span></a>
  <span class="kw">elif</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding-non-final</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>() <span class="kw">then</span> 
    <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9566</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9528</span> <span class="op">$</span><span class="number">9527</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9566</span></span></a>){ <a class="pp" href="#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9528</span> ()</span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9566</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9528</span> <span class="op">$</span><span class="number">9527</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9566</span></span></a>)) })
  <span class="kw">else</span> 
    <span class="kw">val</span> <a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a> <span class="kw">=</span> <a class="pp" href="#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>()
    <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9528</span> ()</span></a>()
    <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>() <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9527</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(&#95;x){ <a class="pp" href="#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
    <a class="pp" href="#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a></span>)

<span class="decl-fun" id="finalize"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finalize">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6824</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6825</span> <span class="op">$</span><span class="number">6826</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6823</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6825</span>,<span class="op">$</span><span class="number">6823</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">&#95;e</span></span><span class="pc">&#95;e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;r</span><span class="pc">&#95;r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> <a class="pp" href="#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6825</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6825</span><span class="op">&gt;</span></span></a>,<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6825</span><span class="op">&gt;</span></span></a>,<a class="pp" href="#ev_none">ev-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(),<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6825</span>,<span class="op">$</span><span class="number">6823</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#id">id<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>id: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>, <a class="pp" href="#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6824</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6825</span> <span class="op">$</span><span class="number">6826</span></span></a>( { <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6825</span>,<span class="op">$</span><span class="number">6823</span><span class="op">&gt;</span></span></a>,<span class="kw">fn</span>(&#95;k){ <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6823</span></span></a> }) }), <span class="kw">fn</span>(&#95;x){ <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6823</span></span></a> } ))  <span class="comment">// TODO: special prompt that does not insert on resume?
</span></span>}

<span class="comment">// -------------------------------------------
// Initially
// -------------------------------------------
</span>
<span class="comment">// add integers
</span><span class="decl-external" id="add"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#add">add<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>add: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">j</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>(i <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, j <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> {
  c  <span class="st">"kk&#95;integer&#95;add"</span>
  cs inline <span class="st">"(#1 + #2)"</span>
  js inline <span class="st">"(#1 + #2)"</span> <span class="comment">// "$std&#95;core.&#95;int&#95;add"
</span></span>}

<span class="comment">// are two integers equal?
</span><span class="decl-external" id="eq"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#eq">eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>eq: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( <span class="op">^</span>x <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="op">^</span>y <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>  {
  c  <span class="st">"kk&#95;integer&#95;eq&#95;borrow"</span>
  cs inline <span class="st">"(#1 == #2)"</span>
  js inline <span class="st">"(#1 == #2)"</span> <span class="comment">// $std&#95;core.&#95;int&#95;eq"
</span></span>}


<span class="decl-fun" id="initially"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#initially">initially<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> <span class="op">$</span><span class="number">9771</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> ()</span></a>(<span class="number">0</span>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9771</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(&#95;ret<span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a>){ <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> ()</span></a>,<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> <span class="op">$</span><span class="number">9771</span></span></a>()) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> ()</span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9772</span> <span class="op">$</span><span class="number">9771</span></span></a>() )
</span>}

<span class="decl-fun" id="initially_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9632</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="co">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9631</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> {
    <span class="kw">val</span> <a class="pp">count<span class="pc">count: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<span class="number">0</span>)}()
    <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9653</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9632</span> <span class="op">$</span><span class="number">9631</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9653</span></span></a>){
      <span class="kw">val</span> <a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl_">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">count<span class="pc">count: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a> }()    <span class="comment">// increase counter on every resumption
</span>      <a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp">count<span class="pc">count: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="#add">add<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>add: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">j</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>(<a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a>,<span class="number">1</span>) }()
      <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#eq">eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>eq: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a>,<span class="number">0</span>)) <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">else</span> {  <span class="comment">// for every resume after the first, run the initializer
</span>        <span class="kw">val</span> <a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9632</span> ()</span></a>(<a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a>)
        <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9631</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(&#95;ret){ <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9632</span> ()</span></a>), <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9653</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9632</span> <span class="op">$</span><span class="number">9631</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9653</span></span></a>)) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
      }
      <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9632</span> ()</span></a>), <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9653</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9632</span> <span class="op">$</span><span class="number">9631</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9653</span></span></a>))
    })
  }
  <span class="kw">else</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9631</span></span></a>
</span>}


<span class="comment">// -------------------------------------------
// Resume context
// -------------------------------------------
</span>


<span class="decl-type" id="type_space_resume_context"><span class="kw">abstract</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Resume_context"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">::</span><span class="co">E</span>,<a class="pp"><span class="tp"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">::</span><span class="co">E</span>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="op">&gt;</span>( <span class="decl-fun" id="k"><a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="number">89</span>,<span class="number">92</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">90</span> <span class="number">92</span></span></a></span> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> </span></span>)

<span class="decl-fun" id="resume"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume">resume<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4314</span>,<span class="op">$</span><span class="number">4315</span>,<span class="op">$</span><span class="number">4316</span>,<span class="op">$</span><span class="number">4317</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4314</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  (<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4314</span>,<span class="op">$</span><span class="number">4315</span>,<span class="op">$</span><span class="number">4316</span>,<span class="op">$</span><span class="number">4317</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)(<a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4314</span></span></a>))
</span>}

<span class="decl-fun" id="resume_shallow"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume_shallow">resume-shallow<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>shallow: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4352</span>,<span class="op">$</span><span class="number">4353</span>,<span class="op">$</span><span class="number">4354</span>,<span class="op">$</span><span class="number">4355</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4352</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4352</span>,<span class="op">$</span><span class="number">4353</span>,<span class="op">$</span><span class="number">4354</span>,<span class="op">$</span><span class="number">4355</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)(<a class="pp" href="#con_space_Shallow"><span class="co">Shallow</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Shallow: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4352</span></span></a>))
</span>}


<span class="decl-fun" id="finalize_1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finalize_1">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6877</span>,<span class="op">$</span><span class="number">6878</span>,<span class="op">$</span><span class="number">6879</span>,<span class="op">$</span><span class="number">6880</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6880</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <span class="comment">//finalize(r.k,x)
</span>  (<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6877</span>,<span class="op">$</span><span class="number">6878</span>,<span class="op">$</span><span class="number">6879</span>,<span class="op">$</span><span class="number">6880</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)(<a class="pp" href="#con_space_Finalize"><span class="co">Finalize</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6880</span></span></a>))
</span>}

<span class="comment">// -------------------------------------------
// Clauses
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_clause1"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">::</span><span class="co">E</span>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="op">&gt;</span> {
  <span class="decl-con" id="con_space_Clause1"><a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause_1"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">54</span>,<span class="number">55</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">53</span><span class="op">&gt;</span>, <span class="number">51</span>) <span class="kw op">-></span> <span class="number">54</span> <span class="number">52</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> </span>)
</span>}

<span class="decl-external" id="cast_ev0_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev1_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev2_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="kw">public</span> inline <span class="kw">fun</span> <span class="st">".perform1"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3572</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3572</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span>,<span class="op">$</span><span class="number">3572</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3569</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3572</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3575</span>,<span class="op">$</span><span class="number">3576</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3572</span><span class="op">&lt;$</span><span class="number">3575</span>,<span class="op">$</span><span class="number">3576</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3572</span><span class="op">&lt;$</span><span class="number">3575</span>,<span class="op">$</span><span class="number">3576</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3572</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span>,<span class="op">$</span><span class="number">3572</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3575</span>,<span class="op">$</span><span class="number">3576</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3572</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3569</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3575</span> <span class="op">$</span><span class="number">3570</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev1_1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3575</span>,<span class="op">$</span><span class="number">3576</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3572</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3569</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3575</span> <span class="op">$</span><span class="number">3570</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3575</span>,<span class="op">$</span><span class="number">3576</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3572</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3569</span></span></a>)
    }
  }
}

<span class="decl-fun" id="evv_swap_with"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4180</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>) {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4180</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,&#95;m,&#95;h,&#95;c,<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4183</span><span class="op">&gt;</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#evv_swap">evv-swap<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4183</span><span class="op">&gt;</span></span></a>)
  }
</span>}

<span class="decl-fun" id="under1"><span class="kw">private</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8696</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8693</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8695</span> <span class="op">$</span><span class="number">8694</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8693</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8698</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8696</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8694</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8693</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8695</span> <span class="op">$</span><span class="number">8694</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8693</span></span></a>)
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8694</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8714</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8695</span> <span class="op">$</span><span class="number">8694</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8714</span></span></a>){ <a class="pp" href="#under1x">under1x<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1x: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8696</span><span class="op">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8714</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8695</span> <span class="op">$</span><span class="number">8694</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8714</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8698</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8694</span></span></a>
</span>}

<span class="comment">// extra under1x to make under1 inlineable
</span><span class="decl-fun" id="under1x"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under1x">under1x<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1x: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8635</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8632</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8634</span> <span class="op">$</span><span class="number">8633</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8632</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8637</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8635</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8633</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8632</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8634</span> <span class="op">$</span><span class="number">8633</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8632</span></span></a>)
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8633</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8653</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8634</span> <span class="op">$</span><span class="number">8633</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8653</span></span></a>){ <a class="pp" href="#under1x">under1x<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1x: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8635</span><span class="op">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8653</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8634</span> <span class="op">$</span><span class="number">8633</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8653</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8637</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8633</span></span></a>
</span>}

<span class="decl-fun" id="clause_control_raw1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw1">clause-control-raw1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6469</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6470</span>,<span class="op">$</span><span class="number">6471</span>,<span class="op">$</span><span class="number">6472</span>,<span class="op">$</span><span class="number">6474</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6471</span> <span class="op">$</span><span class="number">6474</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6471</span>,<span class="op">$</span><span class="number">6474</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6469</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6471</span>,<span class="op">$</span><span class="number">6474</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6470</span>,<span class="op">$</span><span class="number">6474</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6471</span> <span class="op">$</span><span class="number">6474</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6469</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6470</span>,<span class="op">$</span><span class="number">6471</span>,<span class="op">$</span><span class="number">6472</span>,<span class="op">$</span><span class="number">6474</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6471</span> <span class="op">$</span><span class="number">6474</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6469</span></span></a>,<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6470</span>,<span class="op">$</span><span class="number">6474</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6471</span> <span class="op">$</span><span class="number">6474</span></span></a>)) } ) } )
</span>}

<span class="decl-fun" id="get"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#get">get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">,</span><span class="tp">div</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>( <a class="pp">ref<span class="pc">ref: <span class="tp">ref</span><span class="tp op">&lt;$</span><span class="number">4261</span>,<span class="op">$</span><span class="number">4260</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ref"><span class="tp">ref</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp sp">(</span><span class="co">H</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="co">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_read"><span class="tp">read</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>read: <span class="co">H</span> <span class="kw op">-></span> <span class="co">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="co">H</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_div"><span class="tp"><span class="effect">div</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>div: <span class="co">X</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> {
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl_">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">ref<span class="pc">ref: <span class="tp">ref</span><span class="tp op">&lt;$</span><span class="number">4261</span>,<span class="op">$</span><span class="number">4260</span><span class="op">&gt;</span></span></a>
</span>}

inline <span class="decl-external" id="unsafe_st"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(f <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_st"><span class="tp">st</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>st: <span class="co">H</span> <span class="kw op">-></span> <span class="co">E</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_global"><span class="tp">global</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>global: <span class="co">H</span></span></a><span class="tp sp">&gt;</span><span class="tp kw op">|</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="co">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="decl-fun" id="protect_check"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ref"><span class="tp">ref</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp sp">(</span><span class="co">H</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_global"><span class="tp">global</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>global: <span class="co">H</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>,  <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6964</span>,<span class="op">$</span><span class="number">6966</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6965</span> <span class="op">$</span><span class="number">6966</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6966</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">did-resume<span class="pc">did<span class="dash">-</span>resume: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl_">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> })()
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp">did-resume<span class="pc">did<span class="dash">-</span>resume: <span class="tp">bool</span></span></a>)
   <span class="kw">then</span> <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6964</span>,<span class="op">$</span><span class="number">6966</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6965</span> <span class="op">$</span><span class="number">6966</span></span></a>(<a class="pp" href="#con_space_Finalize"><span class="co">Finalize</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6966</span></span></a>)) <span class="comment">//finalize(k,res)
</span>   <span class="kw">else</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6966</span></span></a>
</span>}

<span class="decl-fun" id="protect"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7055</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7055</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7056</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7056</span>,<span class="op">$</span><span class="number">7058</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>)})()
  <span class="decl-fun" id="kprotect"><span class="kw">fun</span> <a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7056</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">7056</span></span></a>) {
    (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>})()
    <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7056</span>,<span class="op">$</span><span class="number">7058</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a>(<a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">7056</span></span></a>))
  </span>}
  <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">7058</span></span></a> <span class="kw">=</span> <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7055</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7056</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7055</span></span></a>,<a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7056</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">7058</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">7058</span></span></a>){ <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7056</span>,<span class="op">$</span><span class="number">7058</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a>,<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">7058</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7056</span>,<span class="op">$</span><span class="number">7058</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7057</span> <span class="op">$</span><span class="number">7058</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">7058</span></span></a>)
</span>}

<span class="comment">/&#42;
public fun clause-control1( clause : (x:a, k: b -&gt; e r) -&gt; e r ) : clause1&lt;a,b,e,r&gt; {
  Clause1(fn(m,w,x){ yield-to(m, fn(k){ clause(x, fn(r){ k({r}) } ) }) })
}
&#42;/</span>

<span class="decl-fun" id="clause_control1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7340</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7341</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7342</span> <span class="op">$</span><span class="number">7344</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7342</span> <span class="op">$</span><span class="number">7344</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7342</span>,<span class="op">$</span><span class="number">7344</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7340</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7342</span>,<span class="op">$</span><span class="number">7344</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7341</span>,<span class="op">$</span><span class="number">7344</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7342</span> <span class="op">$</span><span class="number">7344</span></span></a>){ <a class="pp" href="#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7340</span></span></a>,<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7340</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7341</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7342</span> <span class="op">$</span><span class="number">7344</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7342</span> <span class="op">$</span><span class="number">7344</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7341</span>,<span class="op">$</span><span class="number">7344</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7342</span> <span class="op">$</span><span class="number">7344</span></span></a>) }) })
</span>}

<span class="decl-fun" id="clause_tail1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8840</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8838</span> <span class="op">$</span><span class="number">8841</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8842</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8840</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8842</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8840</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8838</span> <span class="op">$</span><span class="number">8841</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8840</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield1">clause-tail-noyield1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4112</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4110</span> <span class="op">$</span><span class="number">4113</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4112</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4112</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4110</span> <span class="op">$</span><span class="number">4113</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4112</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_never1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never1">clause-never1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8076</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8078</span> <span class="op">$</span><span class="number">8080</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8078</span>,<span class="op">$</span><span class="number">8080</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8076</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8078</span>,<span class="op">$</span><span class="number">8080</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(&#95;k){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8076</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8078</span> <span class="op">$</span><span class="number">8080</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8076</span></span></a>) }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 0 arguments; reuse 1 argument Clauses
//----------------------------------------------------------------
</span>
<span class="decl-type" id="type_space_clause0"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause0"><a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">39</span>,<span class="number">40</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">38</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">39</span> <span class="number">37</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> </span>)
</span>}


<span class="comment">//private inline extern cast-hnd( h : h&lt;e1,r&gt; ) : e h&lt;e,r&gt; { inline "#1" }
//private inline extern cast-marker( m : marker&lt;e1,r&gt; ) : e marker&lt;e,r&gt; { inline "#1" }
</span>
<span class="kw">public</span> inline <span class="kw">fun</span> <span class="st">".perform0"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3482</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3482</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause0<span class="op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3482</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3482</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3485</span>,<span class="op">$</span><span class="number">3486</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3482</span><span class="op">&lt;$</span><span class="number">3485</span>,<span class="op">$</span><span class="number">3486</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3482</span><span class="op">&lt;$</span><span class="number">3485</span>,<span class="op">$</span><span class="number">3486</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3482</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause0<span class="op">&lt;$</span><span class="number">3480</span>,<span class="op">$</span><span class="number">3482</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3485</span>,<span class="op">$</span><span class="number">3486</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3482</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3485</span> <span class="op">$</span><span class="number">3480</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev0_1">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3485</span>,<span class="op">$</span><span class="number">3486</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3482</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3485</span> <span class="op">$</span><span class="number">3480</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3485</span>,<span class="op">$</span><span class="number">3486</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3482</span><span class="op">&gt;</span></span></a>)
    }
  }
}

<span class="decl-fun" id="under0"><span class="kw">private</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under0">under0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8756</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">i</span><span class="pc">i: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8755</span> <span class="op">$</span><span class="number">8754</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8758</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8756</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8754</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8755</span> <span class="op">$</span><span class="number">8754</span></span></a>()
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8758</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8754</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8777</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8755</span> <span class="op">$</span><span class="number">8754</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8777</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8756</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8777</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8755</span> <span class="op">$</span><span class="number">8754</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8777</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8754</span></span></a>
</span>}

<span class="decl-fun" id="clause_control_raw0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw0">clause-control-raw0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6426</span>,<span class="op">$</span><span class="number">6427</span>,<span class="op">$</span><span class="number">6428</span>,<span class="op">$</span><span class="number">6430</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6427</span> <span class="op">$</span><span class="number">6430</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6427</span>,<span class="op">$</span><span class="number">6430</span><span class="op">&gt;</span></span></a>,&#95;ev){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6427</span>,<span class="op">$</span><span class="number">6430</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6426</span>,<span class="op">$</span><span class="number">6430</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6427</span> <span class="op">$</span><span class="number">6430</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6426</span>,<span class="op">$</span><span class="number">6427</span>,<span class="op">$</span><span class="number">6428</span>,<span class="op">$</span><span class="number">6430</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6427</span> <span class="op">$</span><span class="number">6430</span></span></a>(<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6426</span>,<span class="op">$</span><span class="number">6430</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6427</span> <span class="op">$</span><span class="number">6430</span></span></a>)) } ) })
</span>}

<span class="comment">/&#42;
public fun clause-control0( op : (b -&gt; e r) -&gt; e r ) : clause0&lt;b,e,r&gt; {
  Clause0(fn(m,w){ yield-to(m, fn(k){ op(fn(r){ k({r} )}) }) })
}
&#42;/</span>

<span class="decl-fun" id="clause_control0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control0">clause-control0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp op">$</span><span class="number">7269</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7270</span>,<span class="op">$</span><span class="number">7272</span><span class="op">&gt;</span></span></a>,&#95;ev){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7270</span>,<span class="op">$</span><span class="number">7272</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7269</span>,<span class="op">$</span><span class="number">7272</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span></span></a>){ <a class="pp" href="#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>,<span class="kw">fn</span>(&#95;x,<a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7269</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp op">$</span><span class="number">7269</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7269</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span></span></a>) }, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7269</span>,<span class="op">$</span><span class="number">7272</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7270</span> <span class="op">$</span><span class="number">7272</span></span></a>) }) })
</span>}


<span class="decl-fun" id="clause_tail0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail0">clause-tail0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8807</span> <span class="op">$</span><span class="number">8809</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8810</span><span class="op">&gt;</span></span></a>){ <a class="pp" href="#under0">under0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8810</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8807</span> <span class="op">$</span><span class="number">8809</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield0">clause-tail-noyield0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4084</span> <span class="op">$</span><span class="number">4086</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4084</span> <span class="op">$</span><span class="number">4086</span></span></a>() })
</span>}

<span class="decl-fun" id="clause_value"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_value">clause-value<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>value: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">4204</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev){ <a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">4204</span></span></a> })
</span>}

<span class="decl-fun" id="clause_never0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never0">clause-never0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8044</span> <span class="op">$</span><span class="number">8046</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8044</span>,<span class="op">$</span><span class="number">8046</span><span class="op">&gt;</span></span></a>,&#95;ev){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8044</span>,<span class="op">$</span><span class="number">8046</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(&#95;k){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8044</span> <span class="op">$</span><span class="number">8046</span></span></a>() }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 2 arguments
//----------------------------------------------------------------
</span>
<span class="decl-type" id="type_space_clause2"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause2"><a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause_2"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">72</span>,<span class="number">73</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">71</span><span class="op">&gt;</span>, <span class="number">68</span>, <span class="number">69</span>) <span class="kw op">-></span> <span class="number">72</span> <span class="number">70</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> </span>)
</span>}

<span class="decl-fun" id="under2"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under2">under2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8880</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8876</span>, <span class="op">$</span><span class="number">8877</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8879</span> <span class="op">$</span><span class="number">8878</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8876</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8877</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8882</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8880</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">8878</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8876</span>, <span class="op">$</span><span class="number">8877</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8879</span> <span class="op">$</span><span class="number">8878</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8876</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8877</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8882</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8878</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8903</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8879</span> <span class="op">$</span><span class="number">8878</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8903</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8880</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8903</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8879</span> <span class="op">$</span><span class="number">8878</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8903</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">8878</span></span></a>
</span>}

<span class="decl-fun" id="protect_1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect_1">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>( <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7143</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7144</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7143</span>, x <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7144</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a>, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7145</span>,<span class="op">$</span><span class="number">7147</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>)})()
  <span class="decl-fun" id="kprotect"><span class="kw">fun</span> <a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">7145</span></span></a>) {
    (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a> })()
    <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7145</span>,<span class="op">$</span><span class="number">7147</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a>(<a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">7145</span></span></a>))
  </span>}
  <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">7147</span></span></a> <span class="kw">=</span> <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7143</span>, x <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7144</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7143</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7144</span></span></a>,<a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">7147</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">7147</span></span></a>){ <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7145</span>,<span class="op">$</span><span class="number">7147</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a>,<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">7147</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7145</span>,<span class="op">$</span><span class="number">7147</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7146</span> <span class="op">$</span><span class="number">7147</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">7147</span></span></a>)
</span>}

<span class="decl-fun" id="clause_control2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control2">clause-control2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7414</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7415</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7416</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7417</span> <span class="op">$</span><span class="number">7419</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7417</span> <span class="op">$</span><span class="number">7419</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7417</span>,<span class="op">$</span><span class="number">7419</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7414</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7415</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7417</span>,<span class="op">$</span><span class="number">7419</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7416</span>,<span class="op">$</span><span class="number">7419</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7417</span> <span class="op">$</span><span class="number">7419</span></span></a>){ <a class="pp" href="#protect_1">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7414</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7415</span></span></a>,<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7414</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7415</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7416</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7417</span> <span class="op">$</span><span class="number">7419</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7417</span> <span class="op">$</span><span class="number">7419</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7416</span>,<span class="op">$</span><span class="number">7419</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7417</span> <span class="op">$</span><span class="number">7419</span></span></a>) }) })
</span>}


<span class="decl-fun" id="clause_control_raw2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw2">clause-control-raw2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6518</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6519</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6520</span>,<span class="op">$</span><span class="number">6521</span>,<span class="op">$</span><span class="number">6522</span>,<span class="op">$</span><span class="number">6524</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6521</span> <span class="op">$</span><span class="number">6524</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6521</span>,<span class="op">$</span><span class="number">6524</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6518</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6519</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6521</span>,<span class="op">$</span><span class="number">6524</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6520</span>,<span class="op">$</span><span class="number">6524</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6521</span> <span class="op">$</span><span class="number">6524</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6518</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6519</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6520</span>,<span class="op">$</span><span class="number">6521</span>,<span class="op">$</span><span class="number">6522</span>,<span class="op">$</span><span class="number">6524</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6521</span> <span class="op">$</span><span class="number">6524</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6518</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6519</span></span></a>,<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6520</span>,<span class="op">$</span><span class="number">6524</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6521</span> <span class="op">$</span><span class="number">6524</span></span></a>)) } ) })
</span>}

<span class="decl-fun" id="clause_tail2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail2">clause-tail2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8941</span>, <span class="op">$</span><span class="number">8942</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8939</span> <span class="op">$</span><span class="number">8943</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8939</span>,<span class="op">$</span><span class="number">8940</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8944</span><span class="op">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8941</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8942</span></span></a>){ <a class="pp" href="#under2">under2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8944</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8941</span>, <span class="op">$</span><span class="number">8942</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8939</span> <span class="op">$</span><span class="number">8943</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8941</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8942</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield2">clause-tail-noyield2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4144</span>, <span class="op">$</span><span class="number">4145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4142</span> <span class="op">$</span><span class="number">4146</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">4144</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">4145</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4144</span>, <span class="op">$</span><span class="number">4145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4142</span> <span class="op">$</span><span class="number">4146</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">4144</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">4145</span></span></a>) })
</span>}

<span class="kw">public</span> inline <span class="kw">fun</span> <span class="st">".perform2"</span>( <a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3678</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3678</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause2<span class="op">&lt;$</span><span class="number">3674</span>,<span class="op">$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span>,<span class="op">$</span><span class="number">3678</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">c</span><span class="pc">c: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3674</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">3675</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">c</span><span class="pc">c: <span class="co">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3678</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3681</span>,<span class="op">$</span><span class="number">3682</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3678</span><span class="op">&lt;$</span><span class="number">3681</span>,<span class="op">$</span><span class="number">3682</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3678</span><span class="op">&lt;$</span><span class="number">3681</span>,<span class="op">$</span><span class="number">3682</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3678</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause2<span class="op">&lt;$</span><span class="number">3674</span>,<span class="op">$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span>,<span class="op">$</span><span class="number">3678</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3681</span>,<span class="op">$</span><span class="number">3682</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3678</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3674</span>, <span class="op">$</span><span class="number">3675</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3681</span> <span class="op">$</span><span class="number">3676</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev2_1">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3681</span>,<span class="op">$</span><span class="number">3682</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3678</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3674</span>, <span class="op">$</span><span class="number">3675</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3681</span> <span class="op">$</span><span class="number">3676</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3681</span>,<span class="op">$</span><span class="number">3682</span><span class="op">&gt;</span></span></a>,<a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3678</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3674</span></span></a>,<a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">3675</span></span></a>)
    }
  }
}

<span class="decl-fun" id="clause_never2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never2">clause-never2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8115</span>, <span class="op">$</span><span class="number">8116</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8118</span> <span class="op">$</span><span class="number">8120</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8118</span>,<span class="op">$</span><span class="number">8120</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8115</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8116</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8118</span>,<span class="op">$</span><span class="number">8120</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(&#95;k){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8115</span>, <span class="op">$</span><span class="number">8116</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8118</span> <span class="op">$</span><span class="number">8120</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8115</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8116</span></span></a>) }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 3 arguments: reuse 1 argument clause.
// Or should the compiler do tupling/untupling?
//----------------------------------------------------------------
</span>
<span class="comment">// For interal use
</span><span class="decl-fun" id="xperform1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3957</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3957</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3954</span>,<span class="op">$</span><span class="number">3955</span>,<span class="op">$</span><span class="number">3957</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3954</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3957</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3960</span>,<span class="op">$</span><span class="number">3961</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3957</span><span class="op">&lt;$</span><span class="number">3960</span>,<span class="op">$</span><span class="number">3961</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3957</span><span class="op">&lt;$</span><span class="number">3960</span>,<span class="op">$</span><span class="number">3961</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3957</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3954</span>,<span class="op">$</span><span class="number">3955</span>,<span class="op">$</span><span class="number">3957</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3960</span>,<span class="op">$</span><span class="number">3961</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3957</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3954</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3960</span> <span class="op">$</span><span class="number">3955</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev1_1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3960</span>,<span class="op">$</span><span class="number">3961</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3957</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3954</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3960</span> <span class="op">$</span><span class="number">3955</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3960</span>,<span class="op">$</span><span class="number">3961</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3957</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3954</span></span></a>)
    }
  }
</span>}

<span class="decl-fun" id="clause_control_raw3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw3">clause-control-raw3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6573</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6574</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6575</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6576</span>,<span class="op">$</span><span class="number">6577</span>,<span class="op">$</span><span class="number">6578</span>,<span class="op">$</span><span class="number">6580</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6577</span> <span class="op">$</span><span class="number">6580</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">E</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control_raw1">clause-control-raw1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6573</span>, <span class="op">$</span><span class="number">6574</span>, <span class="op">$</span><span class="number">6575</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l719<span class="dash">-</span>c30: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l719<span class="dash">-</span>c32: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l719<span class="dash">-</span>c34: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6576</span>,<span class="op">$</span><span class="number">6577</span>,<span class="op">$</span><span class="number">6578</span>,<span class="op">$</span><span class="number">6580</span><span class="op">&gt;</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6573</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6574</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6575</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6576</span>,<span class="op">$</span><span class="number">6577</span>,<span class="op">$</span><span class="number">6578</span>,<span class="op">$</span><span class="number">6580</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6577</span> <span class="op">$</span><span class="number">6580</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6573</span>, <span class="op">$</span><span class="number">6574</span>, <span class="op">$</span><span class="number">6575</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6573</span>, <span class="op">$</span><span class="number">6574</span>, <span class="op">$</span><span class="number">6575</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6573</span>, <span class="op">$</span><span class="number">6574</span>, <span class="op">$</span><span class="number">6575</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6576</span>,<span class="op">$</span><span class="number">6577</span>,<span class="op">$</span><span class="number">6578</span>,<span class="op">$</span><span class="number">6580</span><span class="op">&gt;</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_control3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control3">clause-control3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7498</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7499</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7500</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7501</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7502</span> <span class="op">$</span><span class="number">7504</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7502</span> <span class="op">$</span><span class="number">7504</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7498</span>, <span class="op">$</span><span class="number">7499</span>, <span class="op">$</span><span class="number">7500</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l723<span class="dash">-</span>c26: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l723<span class="dash">-</span>c28: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l723<span class="dash">-</span>c30: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7501</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7502</span> <span class="op">$</span><span class="number">7504</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7498</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7499</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7500</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7501</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7502</span> <span class="op">$</span><span class="number">7504</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7502</span> <span class="op">$</span><span class="number">7504</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7498</span>, <span class="op">$</span><span class="number">7499</span>, <span class="op">$</span><span class="number">7500</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7498</span>, <span class="op">$</span><span class="number">7499</span>, <span class="op">$</span><span class="number">7500</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7498</span>, <span class="op">$</span><span class="number">7499</span>, <span class="op">$</span><span class="number">7500</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7501</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7502</span> <span class="op">$</span><span class="number">7504</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail3">clause-tail3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8984</span>, <span class="op">$</span><span class="number">8985</span>, <span class="op">$</span><span class="number">8986</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8988</span> <span class="op">$</span><span class="number">8987</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8984</span>, <span class="op">$</span><span class="number">8985</span>, <span class="op">$</span><span class="number">8986</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l727<span class="dash">-</span>c24: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l727<span class="dash">-</span>c26: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l727<span class="dash">-</span>c28: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8984</span>, <span class="op">$</span><span class="number">8985</span>, <span class="op">$</span><span class="number">8986</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8988</span> <span class="op">$</span><span class="number">8987</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8984</span>, <span class="op">$</span><span class="number">8985</span>, <span class="op">$</span><span class="number">8986</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8984</span>, <span class="op">$</span><span class="number">8985</span>, <span class="op">$</span><span class="number">8986</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8984</span>, <span class="op">$</span><span class="number">8985</span>, <span class="op">$</span><span class="number">8986</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail_noyield3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield3">clause-tail-noyield3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8396</span>, <span class="op">$</span><span class="number">8397</span>, <span class="op">$</span><span class="number">8398</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8400</span> <span class="op">$</span><span class="number">8399</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail_noyield1">clause-tail-noyield1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8396</span>, <span class="op">$</span><span class="number">8397</span>, <span class="op">$</span><span class="number">8398</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l731<span class="dash">-</span>c32: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l731<span class="dash">-</span>c34: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l731<span class="dash">-</span>c36: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8396</span>, <span class="op">$</span><span class="number">8397</span>, <span class="op">$</span><span class="number">8398</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8400</span> <span class="op">$</span><span class="number">8399</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8396</span>, <span class="op">$</span><span class="number">8397</span>, <span class="op">$</span><span class="number">8398</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8396</span>, <span class="op">$</span><span class="number">8397</span>, <span class="op">$</span><span class="number">8398</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8396</span>, <span class="op">$</span><span class="number">8397</span>, <span class="op">$</span><span class="number">8398</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_never3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never3">clause-never3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8160</span>, <span class="op">$</span><span class="number">8161</span>, <span class="op">$</span><span class="number">8162</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8164</span> <span class="op">$</span><span class="number">8166</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_never1">clause-never1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8160</span>, <span class="op">$</span><span class="number">8161</span>, <span class="op">$</span><span class="number">8162</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l735<span class="dash">-</span>c23: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l735<span class="dash">-</span>c25: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l735<span class="dash">-</span>c27: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8160</span>, <span class="op">$</span><span class="number">8161</span>, <span class="op">$</span><span class="number">8162</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8164</span> <span class="op">$</span><span class="number">8166</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8160</span>, <span class="op">$</span><span class="number">8161</span>, <span class="op">$</span><span class="number">8162</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8160</span>, <span class="op">$</span><span class="number">8161</span>, <span class="op">$</span><span class="number">8162</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8160</span>, <span class="op">$</span><span class="number">8161</span>, <span class="op">$</span><span class="number">8162</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform3"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6298</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6298</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6293</span>, <span class="op">$</span><span class="number">6294</span>, <span class="op">$</span><span class="number">6295</span>),<span class="op">$</span><span class="number">6296</span>,<span class="op">$</span><span class="number">6298</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6293</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6294</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6295</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <a class="pp" href="#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6298</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6298</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6293</span>, <span class="op">$</span><span class="number">6294</span>, <span class="op">$</span><span class="number">6295</span>),<span class="op">$</span><span class="number">6296</span>,<span class="op">$</span><span class="number">6298</span>,e,a<span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a><a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6293</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6294</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6295</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>)
}

<span class="decl-fun" id="under3"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under3">under3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">10079</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10074</span>, <span class="op">$</span><span class="number">10075</span>, <span class="op">$</span><span class="number">10076</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10078</span> <span class="op">$</span><span class="number">10077</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">10074</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">10075</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">10076</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10081</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">10079</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">10077</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10074</span>, <span class="op">$</span><span class="number">10075</span>, <span class="op">$</span><span class="number">10076</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10078</span> <span class="op">$</span><span class="number">10077</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">10074</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">10075</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">10076</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10081</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">10077</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10103</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10078</span> <span class="op">$</span><span class="number">10077</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">10103</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">10079</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10103</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10078</span> <span class="op">$</span><span class="number">10077</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">10103</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">10077</span></span></a>
</span>}



<span class="decl-fun" id="clause_control4"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control4">clause-control4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7735</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7736</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7737</span>, x4 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7738</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7739</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7740</span> <span class="op">$</span><span class="number">7742</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7740</span> <span class="op">$</span><span class="number">7742</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x4</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7735</span>, <span class="op">$</span><span class="number">7736</span>, <span class="op">$</span><span class="number">7737</span>, <span class="op">$</span><span class="number">7738</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c26: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c28: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c30: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c32: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7739</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7740</span> <span class="op">$</span><span class="number">7742</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7735</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7736</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7737</span>, x4 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7738</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7739</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7740</span> <span class="op">$</span><span class="number">7742</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7740</span> <span class="op">$</span><span class="number">7742</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7735</span>, <span class="op">$</span><span class="number">7736</span>, <span class="op">$</span><span class="number">7737</span>, <span class="op">$</span><span class="number">7738</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_2">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7735</span>, <span class="op">$</span><span class="number">7736</span>, <span class="op">$</span><span class="number">7737</span>, <span class="op">$</span><span class="number">7738</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_2">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7735</span>, <span class="op">$</span><span class="number">7736</span>, <span class="op">$</span><span class="number">7737</span>, <span class="op">$</span><span class="number">7738</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd_1">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7735</span>, <span class="op">$</span><span class="number">7736</span>, <span class="op">$</span><span class="number">7737</span>, <span class="op">$</span><span class="number">7738</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#field4">field4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>field4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">d</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7739</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7740</span> <span class="op">$</span><span class="number">7742</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail4"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail4">clause-tail4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9225</span> <span class="op">$</span><span class="number">9224</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c24: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c26: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c28: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c30: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9225</span> <span class="op">$</span><span class="number">9224</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_2">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_2">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd_1">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9220</span>, <span class="op">$</span><span class="number">9221</span>, <span class="op">$</span><span class="number">9222</span>, <span class="op">$</span><span class="number">9223</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#field4">field4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>field4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">d</span></span></a>) } )
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform4"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6348</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6348</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6342</span>, <span class="op">$</span><span class="number">6343</span>, <span class="op">$</span><span class="number">6344</span>, <span class="op">$</span><span class="number">6345</span>),<span class="op">$</span><span class="number">6346</span>,<span class="op">$</span><span class="number">6348</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, (<span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>, <span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6342</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6343</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6344</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6345</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <a class="pp" href="#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6348</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6348</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6342</span>, <span class="op">$</span><span class="number">6343</span>, <span class="op">$</span><span class="number">6344</span>, <span class="op">$</span><span class="number">6345</span>),<span class="op">$</span><span class="number">6346</span>,<span class="op">$</span><span class="number">6348</span>,e,a<span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">field4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a><a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6342</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6343</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6344</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6345</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">field4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>)
}

<span class="decl-fun" id="under4"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under4">under4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">10148</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10142</span>, <span class="op">$</span><span class="number">10143</span>, <span class="op">$</span><span class="number">10144</span>, <span class="op">$</span><span class="number">10145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10147</span> <span class="op">$</span><span class="number">10146</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">10142</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">10143</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">10144</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">10145</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10150</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">10148</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">10146</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10142</span>, <span class="op">$</span><span class="number">10143</span>, <span class="op">$</span><span class="number">10144</span>, <span class="op">$</span><span class="number">10145</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10147</span> <span class="op">$</span><span class="number">10146</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">10142</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">10143</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">10144</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">10145</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10150</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">10146</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10173</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10147</span> <span class="op">$</span><span class="number">10146</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">10173</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">10148</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10173</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10147</span> <span class="op">$</span><span class="number">10146</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">10173</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">10146</span></span></a>
</span>}


<span class="comment">// -------------------------------------------
// Open
// -------------------------------------------
</span>
<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3156</span> <span class="op">$</span><span class="number">3155</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3157</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3155</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3156</span> <span class="op">$</span><span class="number">3155</span></span></a>)()
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3157</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3155</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3217</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3219</span> <span class="op">$</span><span class="number">3218</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3217</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3220</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3218</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3217</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3219</span> <span class="op">$</span><span class="number">3218</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3217</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3220</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3218</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3294</span>, <span class="op">$</span><span class="number">3295</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3297</span> <span class="op">$</span><span class="number">3296</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3294</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3295</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3298</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3296</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3294</span>, <span class="op">$</span><span class="number">3295</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3297</span> <span class="op">$</span><span class="number">3296</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3294</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3295</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3298</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3296</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3386</span>, <span class="op">$</span><span class="number">3387</span>, <span class="op">$</span><span class="number">3388</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3390</span> <span class="op">$</span><span class="number">3389</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3386</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3387</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3388</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3391</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3389</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3386</span>, <span class="op">$</span><span class="number">3387</span>, <span class="op">$</span><span class="number">3388</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3390</span> <span class="op">$</span><span class="number">3389</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3386</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3387</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3388</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3391</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3389</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3430</span>, <span class="op">$</span><span class="number">3431</span>, <span class="op">$</span><span class="number">3432</span>, <span class="op">$</span><span class="number">3433</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3435</span> <span class="op">$</span><span class="number">3434</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3430</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3431</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3432</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">3433</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3436</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3434</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3430</span>, <span class="op">$</span><span class="number">3431</span>, <span class="op">$</span><span class="number">3432</span>, <span class="op">$</span><span class="number">3433</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3435</span> <span class="op">$</span><span class="number">3434</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3430</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3431</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3432</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">3433</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3436</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3434</span></span></a>
}


<span class="decl-fun" id="open_at1"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5123</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5125</span> <span class="op">$</span><span class="number">5124</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5123</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5126</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5124</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5123</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5125</span> <span class="op">$</span><span class="number">5124</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5123</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5126</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5124</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5197</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5126</span> <span class="op">$</span><span class="number">5124</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5197</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5197</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5126</span> <span class="op">$</span><span class="number">5124</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5197</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5124</span></span></a>
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5234</span> <span class="op">$</span><span class="number">5233</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5235</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5233</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5234</span> <span class="op">$</span><span class="number">5233</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5235</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5233</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5295</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5235</span> <span class="op">$</span><span class="number">5233</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5295</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5295</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5235</span> <span class="op">$</span><span class="number">5233</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5295</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5233</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5325</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5327</span> <span class="op">$</span><span class="number">5326</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5325</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5328</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5326</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5325</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5327</span> <span class="op">$</span><span class="number">5326</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5325</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5328</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5326</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5399</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5328</span> <span class="op">$</span><span class="number">5326</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5399</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5399</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5328</span> <span class="op">$</span><span class="number">5326</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5399</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5326</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5432</span>, <span class="op">$</span><span class="number">5433</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5435</span> <span class="op">$</span><span class="number">5434</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5432</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5433</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5436</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5434</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5432</span>, <span class="op">$</span><span class="number">5433</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5435</span> <span class="op">$</span><span class="number">5434</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5432</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5433</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5436</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5434</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5518</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5436</span> <span class="op">$</span><span class="number">5434</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5518</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5518</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5436</span> <span class="op">$</span><span class="number">5434</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5518</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5434</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5554</span>, <span class="op">$</span><span class="number">5555</span>, <span class="op">$</span><span class="number">5556</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5558</span> <span class="op">$</span><span class="number">5557</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5554</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5555</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5556</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5559</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5557</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5554</span>, <span class="op">$</span><span class="number">5555</span>, <span class="op">$</span><span class="number">5556</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5558</span> <span class="op">$</span><span class="number">5557</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5554</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5555</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5556</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5559</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5557</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5589</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5559</span> <span class="op">$</span><span class="number">5557</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5589</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5589</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5559</span> <span class="op">$</span><span class="number">5557</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5589</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5557</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-at4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5628</span>, <span class="op">$</span><span class="number">5629</span>, <span class="op">$</span><span class="number">5630</span>, <span class="op">$</span><span class="number">5631</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5633</span> <span class="op">$</span><span class="number">5632</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5628</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5629</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5630</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">5631</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5634</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5632</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5628</span>, <span class="op">$</span><span class="number">5629</span>, <span class="op">$</span><span class="number">5630</span>, <span class="op">$</span><span class="number">5631</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5633</span> <span class="op">$</span><span class="number">5632</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5628</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5629</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5630</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">5631</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5634</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5632</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5666</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5634</span> <span class="op">$</span><span class="number">5632</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5666</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5666</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5634</span> <span class="op">$</span><span class="number">5632</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5666</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5632</span></span></a>
}


<span class="decl-fun" id="open1"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5708</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5710</span> <span class="op">$</span><span class="number">5709</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5708</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5711</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5709</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5708</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5710</span> <span class="op">$</span><span class="number">5709</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5708</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5711</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5709</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5782</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5711</span> <span class="op">$</span><span class="number">5709</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5782</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5782</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5711</span> <span class="op">$</span><span class="number">5709</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5782</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5709</span></span></a>
</span>}


<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5819</span> <span class="op">$</span><span class="number">5818</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5820</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5818</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5819</span> <span class="op">$</span><span class="number">5818</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5820</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5818</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5880</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5820</span> <span class="op">$</span><span class="number">5818</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5880</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5880</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5820</span> <span class="op">$</span><span class="number">5818</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5880</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5818</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5910</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5912</span> <span class="op">$</span><span class="number">5911</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5910</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5913</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5911</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5910</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5912</span> <span class="op">$</span><span class="number">5911</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5910</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5913</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5911</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5984</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5913</span> <span class="op">$</span><span class="number">5911</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5984</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5984</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5913</span> <span class="op">$</span><span class="number">5911</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5984</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5911</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6017</span>, <span class="op">$</span><span class="number">6018</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6020</span> <span class="op">$</span><span class="number">6019</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6017</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6018</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6021</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6019</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6017</span>, <span class="op">$</span><span class="number">6018</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6020</span> <span class="op">$</span><span class="number">6019</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6017</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6018</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6021</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">6019</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6103</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6021</span> <span class="op">$</span><span class="number">6019</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6103</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6103</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6021</span> <span class="op">$</span><span class="number">6019</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6103</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6019</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6139</span>, <span class="op">$</span><span class="number">6140</span>, <span class="op">$</span><span class="number">6141</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6143</span> <span class="op">$</span><span class="number">6142</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6139</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6140</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6141</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6144</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6142</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6139</span>, <span class="op">$</span><span class="number">6140</span>, <span class="op">$</span><span class="number">6141</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6143</span> <span class="op">$</span><span class="number">6142</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6139</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6140</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6141</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6144</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">6142</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6174</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6144</span> <span class="op">$</span><span class="number">6142</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6174</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6174</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6144</span> <span class="op">$</span><span class="number">6142</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6174</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6142</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="co">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="co">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6213</span>, <span class="op">$</span><span class="number">6214</span>, <span class="op">$</span><span class="number">6215</span>, <span class="op">$</span><span class="number">6216</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6218</span> <span class="op">$</span><span class="number">6217</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6213</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="co">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6214</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="co">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6215</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="co">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6216</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="co">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6219</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6217</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6213</span>, <span class="op">$</span><span class="number">6214</span>, <span class="op">$</span><span class="number">6215</span>, <span class="op">$</span><span class="number">6216</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6218</span> <span class="op">$</span><span class="number">6217</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6213</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6214</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6215</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6216</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6219</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">6217</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6251</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6219</span> <span class="op">$</span><span class="number">6217</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6251</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6251</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6219</span> <span class="op">$</span><span class="number">6217</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6251</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6217</span></span></a>
}

<span class="comment">// -------------------------------------------
// capture yields
// -------------------------------------------
</span>
<span class="decl-fun" id="unsafe_try_finalize"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_try_finalize">unsafe-try-finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>try<span class="dash">-</span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">10216</span> <span class="op">$</span><span class="number">10215</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_either"><span class="tp">either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>either: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">10216</span> <span class="op">$</span><span class="number">10215</span></span></a>());
</span>}

<span class="decl-fun" id="try_finalize_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9999</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_either"><span class="tp">either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>either: <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp op">$</span><span class="number">9999</span><span class="op">&gt;</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10008</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10000</span> <span class="op">$</span><span class="number">9999</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">10008</span></span></a>){ <a class="pp" href="#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10008</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10000</span> <span class="op">$</span><span class="number">9999</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">10008</span></span></a>))) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_Right"><span class="co">Right</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Right: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">right</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9999</span></span></a>) <span class="kw">else</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_Left"><span class="co">Left</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Left: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">left</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>())
</span>}
</pre>

</body>
</html>
