<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>hnd.kk documentation</title>
</head>

<body class="koka doc body madoko">
<pre class="koka source"><span class="comment">/&#42;---------------------------------------------------------------------------
  Copyright 2012-2021, Microsoft Research, Daan Leijen.

  This is free software; you can redistribute it and/or modify it under the
  terms of the Apache License, Version 2.0. A copy of the License can be
  found in the LICENSE file at the root of this distribution.
---------------------------------------------------------------------------&#42;/</span>

<span class="comment">/&#42; Internal effect handler primitives.

   Internal primitives to implement evidence based algebraic
   effect handlers. These are emitted by the compiler during evidence
   translation and this module is always implicitly imported.
&#42;/</span>
<span class="kw">public</span> <span class="kw">module</span> hnd

<span class="kw">import</span> types

<span class="kw">extern</span> <span class="kw">import</span> {
  c  file <span class="st">"hnd-inline"</span>
  js file <span class="st">"hnd-inline.js"</span>
}


<span class="comment">// -------------------------------------------
// Internal types
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_marker"><span class="kw">private</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Marker"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span><span class="tp sp">,</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>(<span class="decl-fun" id="m"><a class="pp">m<span class="pc">m: <span class="tp">int32</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="tp">V</span></span></a></span></span>)

<span class="decl-type" id="type_space_htag"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">::</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span><span class="tp">V</span><span class="tp sp">)</span><span class="tp kw op">-></span><span class="tp">V</span><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Htag"><a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tagname</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<span class="decl-fun" id="tagname"><a class="pp">tagname<span class="pc">tagname: <span class="tp">string</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></span>)
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".new-htag"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> ) {
  <a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tagname</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a>)
}

<span class="decl-fun" id="hidden_htag"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#hidden_htag">hidden-htag<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>hidden<span class="dash">-</span>htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tag</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> ) {
  <a class="pp" href="#con_space_Htag"><span class="co">Htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Htag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">tagname</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">string</span></span></a>)
</span>}

<span class="comment">// control flow context:
//                 -1: none: bottom
//                   /          \
// 0: except: never resumes   1: linear: resumes exactly once
//                   \          /
//           2: affine: resumes never or once
//                        |
//     3: multi: resumes never, once, or multiple times
</span><span class="decl-alias" id="type_space_cfc"><span class="kw">public</span> <span class="tp kw">alias</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="tp">V</span></span></a> <span class="tp kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="tp">V</span></span></a></span>


<span class="decl-type" id="type_space_ev"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Ev"><span class="kw">con</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<span class="decl-fun" id="htag"><a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="number">24</span><span class="op">&gt;</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">marker<span class="pc">marker: <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">25</span>,<span class="number">26</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">hnd<span class="pc">hnd: <span class="number">24</span><span class="op">&lt;</span><span class="number">25</span>,<span class="number">26</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <span class="decl-fun" id="cfc"><a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a></span><span class="tp kw op">:</span><a class="pp" href="#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="tp">V</span></span></a>, <a class="pp">hevv<span class="pc">hevv: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="number">25</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span></span>)
</span>}

<span class="decl-type" id="type_space_evv"><span class="kw">private</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span></span><span class="tp sp">&gt;</span>;

<span class="decl-alias" id="type_space_ev_index"><span class="kw">public</span> <span class="tp kw">alias</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> <span class="tp kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ssize__t"><span class="tp">ssize&#95;t</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ssize&#95;t: <span class="tp">V</span></span></a></span>

<span class="comment">// -------------------------------------------
// Internal Markers
// -------------------------------------------
</span>
<span class="decl-fun" id="fresh_marker_int"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_int">fresh-marker-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;marker&#95;unique(kk&#95;context())"</span>
  js inline <span class="st">"$marker&#95;unique++"</span>
</span>}

<span class="decl-fun" id="fresh_marker_named_int"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_named_int">fresh-marker-named-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="tp">V</span></span></a> {
  c inline <span class="st">"-kk&#95;marker&#95;unique(kk&#95;context())"</span>
  js inline <span class="st">"-($marker&#95;unique++)"</span>
</span>}

<span class="decl-fun" id="fresh_marker"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Marker"><span class="co">Marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#fresh_marker_int">fresh-marker-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>())
</span>}

<span class="decl-fun" id="fresh_marker_named"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#fresh_marker_named">fresh-marker-named<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Marker"><span class="co">Marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#fresh_marker_named_int">fresh-marker-named-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>())
</span>}

<span class="comment">// -------------------------------------------
// Internal Evidence vectors
// -------------------------------------------
</span>
<span class="decl-external" id="evv_total"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_total">evv-total<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>total: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> {
  c  <span class="st">"kk&#95;evv&#95;total"</span>
  js inline <span class="st">"[]"</span>
</span>}


<span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".evv-at"</span><span class="op">&lt;</span>e,h<span class="op">&gt;</span> ( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {  <span class="comment">// pretend total; don't simplify
</span>  c inline <span class="st">"kk&#95;evv&#95;at(#1,kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv[#1]"</span>
}

<span class="comment">// (dynamically) find evidence insertion/deletion index in the evidence vector
</span><span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-index"</span><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span>,<a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="op">&gt;</span>( <a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">3059</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;index(#1,kk&#95;context())"</span>
  js inline <span class="st">"&#95;&#95;evv&#95;index($std&#95;core&#95;hnd.&#95;evv,#1)"</span>
}


<span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-lookup"</span>( <a class="pp">htag<span class="pc">htag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">3075</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;lookup(#1,kk&#95;context())"</span>
  js inline <span class="st">"&#95;&#95;evv&#95;lookup($std&#95;core&#95;hnd.&#95;evv,#1)"</span>
}

<span class="kw">public</span> inline <span class="kw">extern</span> <span class="st">".evv-select"</span>( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, htag <span class="tp kw op">:</span> <a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"(#1 &gt;= 0 ? kk&#95;evv&#95;at(#1,kk&#95;context()) : kk&#95;evv&#95;lookup(#2,kk&#95;context()))"</span>
  js inline <span class="st">"(#1 &gt;= 0 ? $std&#95;core&#95;hnd.&#95;evv[#1] : &#95;&#95;evv&#95;lookup($std&#95;core&#95;hnd.&#95;evv,#2))"</span>
}

<span class="decl-fun" id="evv_show"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_show">evv-show<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>show: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>( <a class="pp">evv<span class="pc">evv: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4220</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;evv&#95;show(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;show"</span>
</span>}

<span class="decl-fun" id="evv_eq"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">evv0<span class="pc">evv0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3819</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">evv1<span class="pc">evv1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3819</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;eq(#1,#2,kk&#95;context())"</span>
  js inline <span class="st">"(#1) === (#2)"</span>
</span>}


<span class="decl-fun" id="evv_get"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;get(kk&#95;context())"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv"</span>
</span>}

<span class="decl-external" id="evv_set"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a><span class="op">&lt;</span>e1,e<span class="op">&gt;</span>( w <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;set(#1,kk&#95;context())"</span>
  js inline <span class="st">"(function(){ $std&#95;core&#95;hnd.&#95;evv = (#1); })()"</span>
</span>}

<span class="decl-external" id="evv_swap"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap">evv-swap<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span>e1,e2<span class="op">&gt;</span>( w <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap(#1,kk&#95;context())"</span>
  js inline <span class="st">"(function(){ const evv = $std&#95;core&#95;hnd.&#95;evv; $std&#95;core&#95;hnd.&#95;evv = (#1); return evv; })()"</span>
</span>}

<span class="decl-fun" id="evv_insert"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">evv<span class="pc">evv: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3796</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3798</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;insert(#1,#2,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;insert"</span>
</span>}

<span class="decl-fun" id="evv_swap_delete"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;evv&#95;swap&#95;delete(#1,#2,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;swap&#95;delete"</span>
</span>}

<span class="decl-external" id="evv_swap_create0"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create0(kk&#95;context())"</span>
  js inline <span class="st">"(function(){ const evv = $std&#95;core&#95;hnd.&#95;evv; $std&#95;core&#95;hnd.&#95;evv = $std&#95;core&#95;hnd.&#95;evv&#95;empty; return evv; })()"</span>
</span>}

<span class="decl-external" id="evv_swap_create1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( i <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {   <span class="comment">//not quite the right effect type but avoids unbound effect types
</span>  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create1(#1,kk&#95;context())"</span>
  js inline <span class="st">"(function(){ const evv = $std&#95;core&#95;hnd.&#95;evv; if (evv.length !== 1) { $std&#95;core&#95;hnd.&#95;evv = [evv[#1]]; }; return evv; })()"</span>
</span>}

<span class="decl-fun" id="evv_swap_create"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> {
  c inline <span class="st">"kk&#95;evv&#95;swap&#95;create(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;evv&#95;swap&#95;create"</span>
</span>}

<span class="decl-external" id="ev_none"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#ev_none">ev-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span>e,h<span class="op">&gt;</span>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c  <span class="st">"kk&#95;ev&#95;none"</span>
  js <span class="st">"ev&#95;none"</span>
</span>}

<span class="kw">public</span> <span class="kw">extern</span> <span class="st">".evv-is-affine"</span>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;evv&#95;cfc(kk&#95;context())&lt;=2"</span>
  js inline <span class="st">"$std&#95;core&#95;hnd.&#95;evv&#95;cfc()&lt;=2"</span>
}


<span class="comment">// -------------------------------------------
// Internal Yielding
// -------------------------------------------
</span>
<span class="decl-external" id="yielding"><span class="kw">public</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yielding(kk&#95;context())"</span>
  js inline <span class="st">"($std&#95;core&#95;hnd.&#95;yield !== null)"</span>
</span>}

<span class="decl-external" id="yielding_non_final"><span class="kw">public</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yielding&#95;non&#95;final(kk&#95;context())"</span>
  js inline <span class="st">"($std&#95;core&#95;hnd.&#95;yield !== null &amp;&amp; !$std&#95;core&#95;hnd.&#95;yield.final)"</span>
</span>}

<span class="decl-fun" id="yield_extend"><span class="kw">public</span> noinline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3838</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3840</span> <span class="op">$</span><span class="number">3839</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yield&#95;extend(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;extend"</span>
</span>}

<span class="decl-fun" id="yield_bind"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4444</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4444</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4446</span> <span class="op">$</span><span class="number">4445</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4444</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4446</span> <span class="op">$</span><span class="number">4445</span></span></a>) <span class="kw">else</span> <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4444</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4446</span> <span class="op">$</span><span class="number">4445</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4444</span></span></a>)
</span>}

<span class="decl-fun" id="yield_bind2"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_bind2">yield-bind2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">extend</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">10073</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">extend<span class="pc">extend: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10073</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10075</span> <span class="op">$</span><span class="number">10074</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10073</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10075</span> <span class="op">$</span><span class="number">10074</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">extend<span class="pc">extend: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10073</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10075</span> <span class="op">$</span><span class="number">10074</span></span></a>) <span class="kw">else</span> <a class="pp">next<span class="pc">next: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">10073</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">10075</span> <span class="op">$</span><span class="number">10074</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">10073</span></span></a>)
</span>}

<span class="decl-fun" id="yield_cont"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp op">$</span><span class="number">3856</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3857</span> <span class="op">$</span><span class="number">3856</span>, <span class="op">$</span><span class="number">3856</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3857</span> <span class="op">$</span><span class="number">3858</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {  <span class="comment">// make hidden public?
</span>  c  inline <span class="st">"kk&#95;yield&#95;cont(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;cont"</span>
</span>}

<span class="decl-external" id="keep_yielding_final"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#keep_yielding_final">keep-yielding-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>keep<span class="dash">-</span>yielding<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  c inline <span class="st">"kk&#95;box&#95;any(kk&#95;context())"</span>
  js inline <span class="st">"undefined"</span>
</span>}

<span class="decl-fun" id="yield_prompt"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_prompt">yield-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3875</span>,<span class="op">$</span><span class="number">3876</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_yld"><span class="tp">yld</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yld: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  c  inline <span class="st">"kk&#95;yield&#95;prompt(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;yield&#95;prompt"</span>
</span>}

<span class="decl-fun" id="yield_to_prim"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to_prim">yield-to-prim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>prim: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4051</span>,<span class="op">$</span><span class="number">4052</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4049</span>,<span class="op">$</span><span class="number">4052</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4051</span> <span class="op">$</span><span class="number">4052</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4051</span> <span class="op">$</span><span class="number">4052</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">)</span> {
  c  inline <span class="st">"kk&#95;yield&#95;to(#1,#2,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;to"</span>
</span>}

<span class="decl-fun" id="yield_to_final"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3896</span>,<span class="op">$</span><span class="number">3897</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">3894</span>,<span class="op">$</span><span class="number">3897</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3896</span> <span class="op">$</span><span class="number">3897</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3896</span> <span class="op">$</span><span class="number">3897</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;yield&#95;final(#1,#2,kk&#95;context())"</span>
  js <span class="st">"$std&#95;core&#95;hnd.&#95;yield&#95;final"</span>
</span>}

<span class="decl-fun" id="yield_to"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6300</span>,<span class="op">$</span><span class="number">6301</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6299</span>,<span class="op">$</span><span class="number">6301</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6300</span> <span class="op">$</span><span class="number">6301</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6300</span> <span class="op">$</span><span class="number">6301</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="comment">//val w0 = evv-get()
</span>  <span class="kw">val</span> <a class="pp">g<span class="pc">g: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6299</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv">&#95;b</span><span class="pc">&#95;b: <span class="tp">V</span></span></a> <span class="kw">=</span> <a class="pp" href="#yield_to_prim">yield-to-prim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>prim: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6300</span>,<span class="op">$</span><span class="number">6301</span><span class="op">&gt;</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6299</span>,<span class="op">$</span><span class="number">6301</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6300</span> <span class="op">$</span><span class="number">6301</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6300</span> <span class="op">$</span><span class="number">6301</span></span></a>)
  <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a> <span class="kw">fn</span>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6300</span> <span class="op">$</span><span class="number">6299</span></span></a>){
    <span class="comment">// val keep1 = guard(w0)  // check the evidence is correctly restored
</span>    <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6300</span> <span class="op">$</span><span class="number">6299</span></span></a>()
  }
</span>}

<span class="decl-type" id="type_space_yield_info"><span class="kw">public</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a></span>

<span class="decl-fun" id="yield_capture"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>() <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a> {
  c <span class="st">"kk&#95;yield&#95;capture"</span>
  js <span class="st">"&#95;yield&#95;capture"</span>
</span>}

<span class="decl-fun" id="unsafe_reyield"><span class="kw">public</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  c <span class="st">"kk&#95;yield&#95;reyield"</span>
  js <span class="st">"&#95;reyield"</span>
</span>}

<span class="comment">// -------------------------------------------
//
// -------------------------------------------
</span>
<span class="decl-external" id="unsafe_coerce"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_coerce">unsafe-coerce<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>coerce: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>(x<span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev0"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev2"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev3"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev4"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev5"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev5">cast-ev5<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev5: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span></span></a>( f<span class="tp kw op">:</span><span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a5</span><span class="pc">a5: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a5</span><span class="pc">a5: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="decl-type" id="type_space_resume_result"><span class="kw">private</span> value <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Deep"><a class="pp">Deep<span class="pc">resume<span class="dash">-</span>result: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2793</span><span class="tp sp">,</span><span class="tp tv">&#95;2794</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">result<span class="pc">result: <span class="number">80</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
  <span class="decl-con" id="con_space_Shallow"><a class="pp">Shallow<span class="pc">resume<span class="dash">-</span>result: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2806</span><span class="tp sp">,</span><span class="tp tv">&#95;2807</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">result<span class="pc">result: <span class="number">80</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
  <span class="decl-con" id="con_space_Finalize"><a class="pp">Finalize<span class="pc">resume<span class="dash">-</span>result: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;2819</span><span class="tp sp">,</span><span class="tp tv">&#95;2820</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">result<span class="pc">result: <span class="number">81</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="decl-type" id="type_space_yld"><span class="kw">private</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_yld"><span class="tp">yld</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yld: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Pure"><a class="pp">Pure<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3003</span><span class="tp sp">,</span><span class="tp tv">&#95;3004</span><span class="tp sp">,</span><span class="tp tv">&#95;3005</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_YieldingFinal"><a class="pp">YieldingFinal<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3016</span><span class="tp sp">,</span><span class="tp tv">&#95;3017</span><span class="tp sp">,</span><span class="tp tv">&#95;3018</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_Yielding"><a class="pp">Yielding<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3029</span><span class="tp sp">,</span><span class="tp tv">&#95;3030</span><span class="tp sp">,</span><span class="tp tv">&#95;3031</span><span class="tp sp">&gt;</span></span></a></span>
  <span class="decl-con" id="con_space_Yield"><a class="pp">Yield<span class="pc">yld: <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;3044</span><span class="tp sp">,</span><span class="tp tv">&#95;3045</span><span class="tp sp">,</span><span class="tp tv">&#95;3046</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="number">110</span>,<span class="number">109</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">107</span> <span class="number">109</span>) <span class="kw op">-></span> <span class="number">107</span> <span class="number">109</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="number">110</span>) <span class="kw op">-></span> <span class="number">107</span> <span class="number">108</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a></span>)
</span>}

<span class="decl-fun" id="guard"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#guard">guard<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>guard: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">3830</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a> {
  c  inline <span class="st">"kk&#95;evv&#95;guard(#1,kk&#95;context())"</span>
  js <span class="st">"&#95;guard"</span>
  <span class="comment">// if (evv-equals(w)) then () else unsafe-total{ error("non-scoped resumption") }
</span></span>}

<span class="decl-fun" id="resume_final"><span class="kw">private</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume_final">resume-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">a</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a> {
  c  inline <span class="st">"kk&#95;fatal&#95;resume&#95;final(kk&#95;context())"</span>
  js <span class="st">"&#95;throw&#95;resume&#95;final"</span>
</span>}

<span class="decl-fun" id="prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>,  <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_evv"><span class="tp">evv</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv: <span class="tp">E</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4473</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">result<span class="pc">result: <span class="tp op">$</span><span class="number">4472</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>
{
  <a class="pp" href="#guard">guard<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>guard: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)  <span class="comment">// restore the previous evidence vector
</span>  <span class="kw">match</span>(<a class="pp" href="#yield_prompt">yield-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4473</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>)) {
    <a class="pp" href="#con_space_Pure"><span class="co">Pure</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Pure: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> {
      <span class="comment">// returning
</span>      <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>(<a class="pp">result<span class="pc">result: <span class="tp op">$</span><span class="number">4472</span></span></a>)
    }
    <a class="pp" href="#con_space_YieldingFinal"><span class="co">YieldingFinal</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>YieldingFinal: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> {
      <span class="comment">// yielding final (exception), keep yielding
</span>      <a class="pp" href="#keep_yielding_final">keep-yielding-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>keep<span class="dash">-</span>yielding<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>()
    }
    <a class="pp" href="#con_space_Yielding"><span class="co">Yielding</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Yielding: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a> {
      <span class="comment">// regular yield, install a continuation
</span>      <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4472</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4472</span></span></a>){
        <span class="comment">// we resume, continue under a fresh a prompt again
</span>        <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>        <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a>)
        <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)
        <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4473</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4472</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4472</span></span></a>));
      })
    }
    <a class="pp" href="#con_space_Yield"><span class="co">Yield</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Yield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">yld</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4548</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4548</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4472</span></span></a>) {
      <span class="comment">// yielded to the operation &#96;clause&#96; in our handler
</span>      <span class="decl-fun" id="resume"><span class="kw">fun</span> <a class="pp">resume<span class="pc">resume: <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4548</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4548</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>) {
        <span class="kw">match</span>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4548</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>) {
          <a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4548</span></span></a>) {
            <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>            <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4473</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4548</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4472</span></span></a>({<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4548</span></span></a>}))
          }
          <a class="pp" href="#con_space_Shallow"><span class="co">Shallow</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Shallow: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4548</span></span></a>) {
            <a class="pp" href="#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4548</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4472</span></span></a>({<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4548</span></span></a>}), <span class="kw">fn</span>(<a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4472</span></span></a>){ <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4472</span></span></a>) } )
          }
          <a class="pp" href="#con_space_Finalize"><span class="co">Finalize</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4475</span></span></a>) {
            <span class="kw">val</span> <a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()  <span class="comment">// if not using scoped resumptions, w0' may be different from w0
</span>            <span class="kw">val</span> <a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#evv_eq">evv-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>eq: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">evv1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)) <span class="kw">then</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a> <span class="kw">else</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>)
            <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0'<span class="pc">w0': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">w1'<span class="pc">w1': <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4473</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4474</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4473</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>),<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4472</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4548</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4472</span></span></a>({ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4473</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span></span></a>,<span class="kw">fn</span>(&#95;k){<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4475</span></span></a>}) }))            
          }
        }
      </span>}
      <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4548</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>(<a class="pp">resume<span class="pc">resume: <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">4548</span>,<span class="op">$</span><span class="number">4475</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4473</span> <span class="op">$</span><span class="number">4475</span></span></a>) <span class="comment">// TODO: we should exit prompt first, and then execute clause to use constant stack space when resuming
</span>    }    
  }
</span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".hhandle"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">4689</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="tp">V</span></span></a>, <a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">4689</span><span class="op">&lt;$</span><span class="number">4687</span>,<span class="op">$</span><span class="number">4690</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4686</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4687</span> <span class="op">$</span><span class="number">4690</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4688</span> <span class="op">$</span><span class="number">4686</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="comment">// insert new evidence for our handler
</span>  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4687</span>,<span class="op">$</span><span class="number">4690</span><span class="op">&gt;</span></span></a>  <span class="kw">=</span> <a class="pp" href="#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4689</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">4689</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4687</span>,<span class="op">$</span><span class="number">4690</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">4689</span><span class="op">&lt;$</span><span class="number">4687</span>,<span class="op">$</span><span class="number">4690</span><span class="op">&gt;</span></span></a>,<a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_insert">evv-insert<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>insert: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">evv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4689</span><span class="op">&gt;</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a>)
  <span class="comment">// call action first (this may be yielding), then check the result
</span>  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a>,<a class="pp">w1<span class="pc">w1: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4687</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4689</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4687</span>,<span class="op">$</span><span class="number">4690</span><span class="op">&gt;</span></span></a>,<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4686</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4687</span> <span class="op">$</span><span class="number">4690</span></span></a>,<a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4688</span> <span class="op">$</span><span class="number">4686</span></span></a>)())
}

<span class="comment">// -------------------------------------------
// named handler
// -------------------------------------------
</span>
<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".named-handle"</span>( <a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="#type_space_htag"><span class="tp">htag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>htag: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_cfc"><span class="tp">cfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cfc: <span class="tp">V</span></span></a>, <a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">5000</span><span class="op">&lt;$</span><span class="number">4998</span>,<span class="op">$</span><span class="number">5001</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4997</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4998</span> <span class="op">$</span><span class="number">5001</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4999</span> <span class="op">$</span><span class="number">4997</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4998</span>,<span class="op">$</span><span class="number">5001</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#fresh_marker_named">fresh-marker-named<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker<span class="dash">-</span>named: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()            <span class="comment">// unique (negative) marker, but never gets inserted into the evidence vector
</span>  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4998</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">tag<span class="pc">tag: <span class="tp">htag</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4998</span>,<span class="op">$</span><span class="number">5001</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">5000</span><span class="op">&lt;$</span><span class="number">4998</span>,<span class="op">$</span><span class="number">5001</span><span class="op">&gt;</span></span></a>,<a class="pp">cfc<span class="pc">cfc: <span class="tp">cfc</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4998</span><span class="op">&gt;</span></span></a>)
  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4998</span><span class="op">&gt;</span></span></a>,<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4998</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">4998</span>,<span class="op">$</span><span class="number">5001</span><span class="op">&gt;</span></span></a>,<a class="pp">ret<span class="pc">ret: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4997</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4998</span> <span class="op">$</span><span class="number">5001</span></span></a>,<a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4999</span> <span class="op">$</span><span class="number">4997</span></span></a>)(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">5000</span><span class="op">&gt;</span></span></a>))
}

<span class="comment">// -------------------------------------------
// mask
// -------------------------------------------
</span>
<span class="decl-fun" id="mask_at1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4785</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4787</span> <span class="op">$</span><span class="number">4786</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4785</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4789</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4786</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4785</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4787</span> <span class="op">$</span><span class="number">4786</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4785</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4789</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">4786</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4786</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4788</span> <span class="op">$</span><span class="number">4786</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4786</span></span></a>){ <a class="pp" href="#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>),<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4786</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4788</span> <span class="op">$</span><span class="number">4786</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4786</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">4786</span></span></a>
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".mask-at"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4893</span> <span class="op">$</span><span class="number">4892</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4895</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_delete">evv-swap-delete<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>delete: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>)
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4892</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4893</span> <span class="op">$</span><span class="number">4892</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;4895</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">4892</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4892</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4894</span> <span class="op">$</span><span class="number">4892</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4892</span></span></a>){ <a class="pp" href="#mask_at1">mask-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>mask<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">behind</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">behind<span class="pc">behind: <span class="tp">bool</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4892</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4894</span> <span class="op">$</span><span class="number">4892</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">4892</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4892</span></span></a>
}

<span class="comment">// mask for builtin effects without a handler or evidence
</span><span class="kw">public</span> <span class="kw">fun</span> <span class="st">".mask-builtin"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3086</span> <span class="op">$</span><span class="number">3085</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3086</span> <span class="op">$</span><span class="number">3085</span></span></a>)()
}


<span class="comment">// -------------------------------------------
// Local variables
// -------------------------------------------
</span>
<span class="decl-fun" id="prompt_local_var"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9678</span>,<span class="op">$</span><span class="number">9675</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9676</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>  ) <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_div"><span class="tp"><span class="effect">div</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>div: <span class="tp">X</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;|&gt;): <span class="tp sp">(</span><span class="tp">X</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9676</span></span></a> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9676</span></span></a>;
  <span class="kw">val</span> <a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">9675</span></span></a> <span class="kw">=</span> <a class="pp">loc<span class="pc">loc: <span class="tp op">$</span><span class="number">9675</span></span></a>
  <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9676</span>) <span class="kw op">-></span> <span class="op">&lt;</span>div,local<span class="op">&lt;$</span><span class="number">9678</span><span class="op">&gt;|$</span><span class="number">9677</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9676</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9676</span></span></a>){ <a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9678</span>,<span class="op">$</span><span class="number">9675</span><span class="op">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">9675</span></span></a>; <a class="pp" href="#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9678</span>,<span class="op">$</span><span class="number">9675</span><span class="op">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9676</span>) <span class="kw op">-></span> <span class="op">&lt;</span>div,local<span class="op">&lt;$</span><span class="number">9678</span><span class="op">&gt;|$</span><span class="number">9677</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9676</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9676</span></span></a>)) } )  <span class="comment">// restore state early before the resume
</span></span>}

<span class="decl-fun" id="local_var"><span class="kw">public</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#local_var">local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp op">$</span><span class="number">9766</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9769</span>,<span class="op">$</span><span class="number">9766</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">&lt;</span>local<span class="op">&lt;$</span><span class="number">9769</span><span class="op">&gt;|$</span><span class="number">9768</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9767</span></span></a><span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;|&gt;): <span class="tp sp">(</span><span class="tp">X</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local"><span class="tp">local</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">s</span><span class="pc">s: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__bar__gt_"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;|&gt;): <span class="tp sp">(</span><span class="tp">X</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_no_div">unsafe-no-div<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>no<span class="dash">-</span>div: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a> {
    <span class="kw">val</span> <a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9769</span>,<span class="op">$</span><span class="number">9766</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_local_var"><span class="tp">local-var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l396<span class="dash">-</span>c25: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l396<span class="dash">-</span>c27: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_new">local-new<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>new: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp op">$</span><span class="number">9766</span></span></a>)
    <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9767</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9769</span>,<span class="op">$</span><span class="number">9766</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">&lt;</span>local<span class="op">&lt;$</span><span class="number">9769</span><span class="op">&gt;|$</span><span class="number">9768</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">9767</span></span></a>)(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9769</span>,<span class="op">$</span><span class="number">9766</span><span class="op">&gt;</span></span></a>))
    <a class="pp" href="#prompt_local_var">prompt-local-var<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt<span class="dash">-</span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">loc</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">div</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a>(byref(<a class="pp">loc<span class="pc">loc: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">9769</span>,<span class="op">$</span><span class="number">9766</span><span class="op">&gt;</span></span></a>),<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9767</span></span></a>)
  }
</span>}


<span class="comment">// -------------------------------------------
// Finally
// -------------------------------------------
</span>
<span class="decl-fun" id="finally"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finally">finally<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9491</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9491</span> <span class="op">$</span><span class="number">9490</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9491</span> ()</span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9491</span> <span class="op">$</span><span class="number">9490</span></span></a>());
</span>}

<span class="decl-fun" id="finally_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9406</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9405</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) {
    <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9406</span> ()</span></a>()
    <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9405</span></span></a>
  }
  <span class="kw">else</span> <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) {
    <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9405</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9406</span> <span class="op">$</span><span class="number">9405</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9405</span></span></a>){ <a class="pp" href="#finally_prompt">finally-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finally<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fin</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9406</span> ()</span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9405</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9406</span> <span class="op">$</span><span class="number">9405</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9405</span></span></a>)) })
  }
  <span class="kw">else</span> {
    <span class="kw">val</span> <a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a> <span class="kw">=</span> <a class="pp" href="#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>()
    <a class="pp">fin<span class="pc">fin: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9406</span> ()</span></a>()
    <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9405</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(&#95;x){ <a class="pp" href="#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
    <a class="pp" href="#unsafe_reyield">unsafe-reyield<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>reyield: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">yld</span> <span class="tp kw op">:</span> <span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">yld<span class="pc">yld: <span class="tp">yield<span class="dash">-</span>info</span></span></a>)
  }
</span>}

<span class="decl-fun" id="finalize"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finalize">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">cont</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6726</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6727</span> <span class="op">$</span><span class="number">6728</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">b</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6725</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6727</span>,<span class="op">$</span><span class="number">6725</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">&#95;e</span></span><span class="pc">&#95;e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;r</span><span class="pc">&#95;r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> <a class="pp" href="#fresh_marker">fresh-marker<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>fresh<span class="dash">-</span>marker: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6727</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_get">evv-get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>()
  <a class="pp" href="#prompt">prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w0</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">w1</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6727</span><span class="op">&gt;</span></span></a>,<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6727</span><span class="op">&gt;</span></span></a>,<a class="pp" href="#ev_none">ev-none<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>none: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(),<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6727</span>,<span class="op">$</span><span class="number">6725</span><span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#id">id<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>id: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>, <a class="pp" href="#yield_bind">yield-bind<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>bind: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">6726</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6727</span> <span class="op">$</span><span class="number">6728</span></span></a>( { <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6727</span>,<span class="op">$</span><span class="number">6725</span><span class="op">&gt;</span></span></a>,<span class="kw">fn</span>(&#95;k){ <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6725</span></span></a> }) }), <span class="kw">fn</span>(&#95;x){ <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6725</span></span></a> } ))  <span class="comment">// TODO: special prompt that does not insert on resume?
</span></span>}

<span class="comment">// -------------------------------------------
// Initially
// -------------------------------------------
</span>
<span class="comment">// add integers
</span><span class="decl-external" id="add"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#add">add<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>add: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">j</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>(i <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, j <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a> {
  c  <span class="st">"kk&#95;integer&#95;add"</span>
  cs inline <span class="st">"(#1 + #2)"</span>
  js inline <span class="st">"(#1 + #2)"</span> <span class="comment">// "$std&#95;core.&#95;int&#95;add"
</span></span>}

<span class="comment">// are two integers equal?
</span><span class="decl-external" id="eq"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#eq">eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>eq: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(x <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, y <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>  {
  c  <span class="st">"kk&#95;integer&#95;eq"</span>
  cs inline <span class="st">"(#1 == #2)"</span>
  js inline <span class="st">"(#1 == #2)"</span> <span class="comment">// $std&#95;core.&#95;int&#95;eq"
</span></span>}


<span class="decl-fun" id="initially"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#initially">initially<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> <span class="op">$</span><span class="number">9639</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> ()</span></a>(<span class="number">0</span>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9639</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(&#95;ret<span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>){ <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> ()</span></a>,<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> <span class="op">$</span><span class="number">9639</span></span></a>()) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> ()</span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9640</span> <span class="op">$</span><span class="number">9639</span></span></a>() )
</span>}

<span class="decl-fun" id="initially_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9505</span> ()</span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9504</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> {
    <span class="kw">val</span> <a class="pp">count<span class="pc">count: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<span class="number">0</span>)}()
    <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9504</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9505</span> <span class="op">$</span><span class="number">9504</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9504</span></span></a>){
      <span class="kw">val</span> <a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl_">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">count<span class="pc">count: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a> }()    <span class="comment">// increase counter on every resumption
</span>      <a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp">count<span class="pc">count: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="#add">add<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>add: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">j</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>(<a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a>,<span class="number">1</span>) }()
      <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#eq">eq<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>eq: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a>,<span class="number">0</span>)) <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">else</span> {  <span class="comment">// for every resume after the first, run the initializer
</span>        <span class="kw">val</span> <a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9505</span> ()</span></a>(<a class="pp">cnt<span class="pc">cnt: <span class="tp">int</span></span></a>)
        <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9504</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(&#95;ret){ <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9505</span> ()</span></a>), <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9504</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9505</span> <span class="op">$</span><span class="number">9504</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9504</span></span></a>)) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
      }
      <a class="pp" href="#initially_prompt">initially-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>initially<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">init<span class="pc">init: <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">9505</span> ()</span></a>), <a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9504</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9505</span> <span class="op">$</span><span class="number">9504</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9504</span></span></a>))
    })
  }
  <span class="kw">else</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9504</span></span></a>
</span>}


<span class="comment">// -------------------------------------------
// Resume context
// -------------------------------------------
</span>


<span class="decl-type" id="type_space_resume_context"><span class="kw">abstract</span> <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Resume_context"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>( <span class="decl-fun" id="k"><a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="number">89</span>,<span class="number">92</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">90</span> <span class="number">92</span></span></a></span> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> </span></span>)

<span class="decl-fun" id="resume"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume">resume<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4304</span>,<span class="op">$</span><span class="number">4305</span>,<span class="op">$</span><span class="number">4306</span>,<span class="op">$</span><span class="number">4307</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4304</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  (<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4304</span>,<span class="op">$</span><span class="number">4305</span>,<span class="op">$</span><span class="number">4306</span>,<span class="op">$</span><span class="number">4307</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)(<a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4304</span></span></a>))
</span>}

<span class="decl-fun" id="resume_shallow"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#resume_shallow">resume-shallow<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>shallow: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4342</span>,<span class="op">$</span><span class="number">4343</span>,<span class="op">$</span><span class="number">4344</span>,<span class="op">$</span><span class="number">4345</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4342</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">4342</span>,<span class="op">$</span><span class="number">4343</span>,<span class="op">$</span><span class="number">4344</span>,<span class="op">$</span><span class="number">4345</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)(<a class="pp" href="#con_space_Shallow"><span class="co">Shallow</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Shallow: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4342</span></span></a>))
</span>}


<span class="decl-fun" id="finalize_1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#finalize_1">finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>finalize<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6779</span>,<span class="op">$</span><span class="number">6780</span>,<span class="op">$</span><span class="number">6781</span>,<span class="op">$</span><span class="number">6782</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6782</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="comment">//finalize(r.k,x)
</span>  (<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6779</span>,<span class="op">$</span><span class="number">6780</span>,<span class="op">$</span><span class="number">6781</span>,<span class="op">$</span><span class="number">6782</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#k">k<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>k: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>)(<a class="pp" href="#con_space_Finalize"><span class="co">Finalize</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6782</span></span></a>))
</span>}

<span class="comment">// -------------------------------------------
// Clauses
// -------------------------------------------
</span>
<span class="decl-type" id="type_space_clause1"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">::</span><span class="tp">E</span><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause1"><a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause_1"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">54</span>,<span class="number">55</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">53</span><span class="op">&gt;</span>, <span class="number">51</span>) <span class="kw op">-></span> <span class="number">54</span> <span class="number">52</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="decl-external" id="cast_ev0_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev1_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}
<span class="decl-external" id="cast_ev2_1"><span class="kw">private</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>( f <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".perform1"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3566</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3566</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3563</span>,<span class="op">$</span><span class="number">3564</span>,<span class="op">$</span><span class="number">3566</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3563</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3566</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3566</span><span class="op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3566</span><span class="op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3566</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3563</span>,<span class="op">$</span><span class="number">3564</span>,<span class="op">$</span><span class="number">3566</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3566</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3563</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3569</span> <span class="op">$</span><span class="number">3564</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev1_1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3566</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3563</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3569</span> <span class="op">$</span><span class="number">3564</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3569</span>,<span class="op">$</span><span class="number">3570</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3566</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3563</span></span></a>)
    }
  }
}

<span class="decl-fun" id="evv_swap_with"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4170</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>) {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">4170</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,&#95;m,&#95;h,&#95;c,<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4173</span><span class="op">&gt;</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#evv_swap">evv-swap<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e2</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">4173</span><span class="op">&gt;</span></span></a>)
  }
</span>}

<span class="decl-fun" id="under1"><span class="kw">private</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8592</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8589</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8591</span> <span class="op">$</span><span class="number">8590</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8589</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8594</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8592</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8590</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8589</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8591</span> <span class="op">$</span><span class="number">8590</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8589</span></span></a>)
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8590</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8590</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8591</span> <span class="op">$</span><span class="number">8590</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8590</span></span></a>){ <a class="pp" href="#under1x">under1x<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1x: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8592</span><span class="op">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8590</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8591</span> <span class="op">$</span><span class="number">8590</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8590</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8594</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8590</span></span></a>
</span>}

<span class="comment">// extra under1x to make under1 inlineable
</span><span class="decl-fun" id="under1x"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under1x">under1x<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1x: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8537</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8534</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8536</span> <span class="op">$</span><span class="number">8535</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8534</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8539</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8537</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8535</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8534</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8536</span> <span class="op">$</span><span class="number">8535</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8534</span></span></a>)
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8535</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8535</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8536</span> <span class="op">$</span><span class="number">8535</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8535</span></span></a>){ <a class="pp" href="#under1x">under1x<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1x: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8537</span><span class="op">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8535</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8536</span> <span class="op">$</span><span class="number">8535</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8535</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8539</span><span class="tp sp">&gt;</span></span></a>)
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8535</span></span></a>
</span>}

<span class="decl-fun" id="clause_control_raw1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw1">clause-control-raw1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6371</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6372</span>,<span class="op">$</span><span class="number">6373</span>,<span class="op">$</span><span class="number">6374</span>,<span class="op">$</span><span class="number">6376</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6373</span> <span class="op">$</span><span class="number">6376</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6373</span>,<span class="op">$</span><span class="number">6376</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6371</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6373</span>,<span class="op">$</span><span class="number">6376</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6372</span>,<span class="op">$</span><span class="number">6376</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6373</span> <span class="op">$</span><span class="number">6376</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6371</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6372</span>,<span class="op">$</span><span class="number">6373</span>,<span class="op">$</span><span class="number">6374</span>,<span class="op">$</span><span class="number">6376</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6373</span> <span class="op">$</span><span class="number">6376</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6371</span></span></a>,<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6372</span>,<span class="op">$</span><span class="number">6376</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6373</span> <span class="op">$</span><span class="number">6376</span></span></a>)) } ) } )
</span>}

<span class="decl-fun" id="get"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#get">get<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>get: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">,</span><span class="tp">div</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>( <a class="pp">ref<span class="pc">ref: <span class="tp">ref</span><span class="tp op">&lt;$</span><span class="number">4251</span>,<span class="op">$</span><span class="number">4250</span><span class="op">&gt;</span></span></a><span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ref"><span class="tp">ref</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_read"><span class="tp">read</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>read: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">X</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_div"><span class="tp"><span class="effect">div</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>div: <span class="tp">X</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> {
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl_">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">ref<span class="pc">ref: <span class="tp">ref</span><span class="tp op">&lt;$</span><span class="number">4251</span>,<span class="op">$</span><span class="number">4250</span><span class="op">&gt;</span></span></a>
</span>}

inline <span class="decl-external" id="unsafe_st"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(f <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_st"><span class="tp">st</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>st: <span class="tp">H</span> <span class="tp kw op">-></span> <span class="tp">E</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_global"><span class="tp">global</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>global: <span class="tp">H</span></span></a><span class="tp sp">&gt;</span><span class="tp kw op">|</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lt__gt_"><span class="tp"><span class="effect">(</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&lt;&gt;): <span class="tp">E</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">)</span> { inline <span class="st">"#1"</span> </span>}

<span class="decl-fun" id="protect_check"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ref"><span class="tp">ref</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp sp">(</span><span class="tp">H</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_global"><span class="tp">global</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>global: <span class="tp">H</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>,  <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6866</span>,<span class="op">$</span><span class="number">6868</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6867</span> <span class="op">$</span><span class="number">6868</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6868</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">did-resume<span class="pc">did<span class="dash">-</span>resume: <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl_">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">read</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span> <span class="tp kw">with</span> <span class="tp">hdiv</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a><a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> })()
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp">did-resume<span class="pc">did<span class="dash">-</span>resume: <span class="tp">bool</span></span></a>)
   <span class="kw">then</span> <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6866</span>,<span class="op">$</span><span class="number">6868</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6867</span> <span class="op">$</span><span class="number">6868</span></span></a>(<a class="pp" href="#con_space_Finalize"><span class="co">Finalize</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6868</span></span></a>)) <span class="comment">//finalize(k,res)
</span>   <span class="kw">else</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6868</span></span></a>
</span>}

<span class="decl-fun" id="protect"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6957</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6957</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6958</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6958</span>,<span class="op">$</span><span class="number">6960</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>)})()
  <span class="decl-fun" id="kprotect"><span class="kw">fun</span> <a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6958</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">6958</span></span></a>) {
    (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>})()
    <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6958</span>,<span class="op">$</span><span class="number">6960</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a>(<a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">6958</span></span></a>))
  </span>}
  <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6960</span></span></a> <span class="kw">=</span> <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6957</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6958</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">6957</span></span></a>,<a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6958</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">6960</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">6960</span></span></a>){ <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6958</span>,<span class="op">$</span><span class="number">6960</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a>,<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">6960</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6958</span>,<span class="op">$</span><span class="number">6960</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6959</span> <span class="op">$</span><span class="number">6960</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6960</span></span></a>)
</span>}

<span class="comment">/&#42;
public fun clause-control1( clause : (x:a, k: b -&gt; e r) -&gt; e r ) : clause1&lt;a,b,e,r&gt; {
  Clause1(fn(m,w,x){ yield-to(m, fn(k){ clause(x, fn(r){ k({r}) } ) }) })
}
&#42;/</span>

<span class="decl-fun" id="clause_control1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7242</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7243</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7244</span> <span class="op">$</span><span class="number">7246</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7244</span> <span class="op">$</span><span class="number">7246</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7244</span>,<span class="op">$</span><span class="number">7246</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7242</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7244</span>,<span class="op">$</span><span class="number">7246</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7243</span>,<span class="op">$</span><span class="number">7246</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7244</span> <span class="op">$</span><span class="number">7246</span></span></a>){ <a class="pp" href="#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7242</span></span></a>,<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7242</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7243</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7244</span> <span class="op">$</span><span class="number">7246</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7244</span> <span class="op">$</span><span class="number">7246</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7243</span>,<span class="op">$</span><span class="number">7246</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7244</span> <span class="op">$</span><span class="number">7246</span></span></a>) }) })
</span>}

<span class="decl-fun" id="clause_tail1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8724</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8722</span> <span class="op">$</span><span class="number">8725</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8726</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8724</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8726</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8724</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8722</span> <span class="op">$</span><span class="number">8725</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">8724</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield1">clause-tail-noyield1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4102</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4100</span> <span class="op">$</span><span class="number">4103</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4102</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4102</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4100</span> <span class="op">$</span><span class="number">4103</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">4102</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_never1"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never1">clause-never1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7978</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7980</span> <span class="op">$</span><span class="number">7982</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7980</span>,<span class="op">$</span><span class="number">7982</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7978</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7980</span>,<span class="op">$</span><span class="number">7982</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(&#95;k){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7978</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7980</span> <span class="op">$</span><span class="number">7982</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">7978</span></span></a>) }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 0 arguments; reuse 1 argument Clauses
//----------------------------------------------------------------
</span>
<span class="decl-type" id="type_space_clause0"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause0"><a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">39</span>,<span class="number">40</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">38</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="number">39</span> <span class="number">37</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".perform0"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3476</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3476</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause0<span class="op">&lt;$</span><span class="number">3474</span>,<span class="op">$</span><span class="number">3476</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3476</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3479</span>,<span class="op">$</span><span class="number">3480</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3476</span><span class="op">&lt;$</span><span class="number">3479</span>,<span class="op">$</span><span class="number">3480</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3476</span><span class="op">&lt;$</span><span class="number">3479</span>,<span class="op">$</span><span class="number">3480</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3476</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause0<span class="op">&lt;$</span><span class="number">3474</span>,<span class="op">$</span><span class="number">3476</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3479</span>,<span class="op">$</span><span class="number">3480</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3476</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3479</span> <span class="op">$</span><span class="number">3474</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev0_1">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3479</span>,<span class="op">$</span><span class="number">3480</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3476</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3479</span> <span class="op">$</span><span class="number">3474</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3479</span>,<span class="op">$</span><span class="number">3480</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3476</span><span class="op">&gt;</span></span></a>)
    }
  }
}

<span class="decl-fun" id="under0"><span class="kw">private</span> inline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under0">under0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8646</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">i</span><span class="pc">i: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8645</span> <span class="op">$</span><span class="number">8644</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8648</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8646</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8644</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8645</span> <span class="op">$</span><span class="number">8644</span></span></a>()
  <span class="comment">// evv-set(w0)   // only needed before yielding for evidence expected check in prompt
</span>  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8648</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8644</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8644</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8645</span> <span class="op">$</span><span class="number">8644</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8644</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8646</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8644</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8645</span> <span class="op">$</span><span class="number">8644</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8644</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">8644</span></span></a>
</span>}

<span class="decl-fun" id="clause_control_raw0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw0">clause-control-raw0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6328</span>,<span class="op">$</span><span class="number">6329</span>,<span class="op">$</span><span class="number">6330</span>,<span class="op">$</span><span class="number">6332</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6329</span> <span class="op">$</span><span class="number">6332</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6329</span>,<span class="op">$</span><span class="number">6332</span><span class="op">&gt;</span></span></a>,&#95;ev){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6329</span>,<span class="op">$</span><span class="number">6332</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6328</span>,<span class="op">$</span><span class="number">6332</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6329</span> <span class="op">$</span><span class="number">6332</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6328</span>,<span class="op">$</span><span class="number">6329</span>,<span class="op">$</span><span class="number">6330</span>,<span class="op">$</span><span class="number">6332</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6329</span> <span class="op">$</span><span class="number">6332</span></span></a>(<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6328</span>,<span class="op">$</span><span class="number">6332</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6329</span> <span class="op">$</span><span class="number">6332</span></span></a>)) } ) })
</span>}

<span class="comment">/&#42;
public fun clause-control0( op : (b -&gt; e r) -&gt; e r ) : clause0&lt;b,e,r&gt; {
  Clause0(fn(m,w){ yield-to(m, fn(k){ op(fn(r){ k({r} )}) }) })
}
&#42;/</span>

<span class="decl-fun" id="clause_control0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control0">clause-control0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp op">$</span><span class="number">7171</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7172</span>,<span class="op">$</span><span class="number">7174</span><span class="op">&gt;</span></span></a>,&#95;ev){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7172</span>,<span class="op">$</span><span class="number">7174</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7171</span>,<span class="op">$</span><span class="number">7174</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span></span></a>){ <a class="pp" href="#protect">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>,<span class="kw">fn</span>(&#95;x,<a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7171</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp op">$</span><span class="number">7171</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span></span></a>(<a class="pp">r<span class="pc">r: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7171</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span></span></a>) }, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7171</span>,<span class="op">$</span><span class="number">7174</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7172</span> <span class="op">$</span><span class="number">7174</span></span></a>) }) })
</span>}


<span class="decl-fun" id="clause_tail0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail0">clause-tail0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8691</span> <span class="op">$</span><span class="number">8693</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8694</span><span class="op">&gt;</span></span></a>){ <a class="pp" href="#under0">under0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8694</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">8691</span> <span class="op">$</span><span class="number">8693</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield0">clause-tail-noyield0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4074</span> <span class="op">$</span><span class="number">4076</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">4074</span> <span class="op">$</span><span class="number">4076</span></span></a>() })
</span>}

<span class="decl-fun" id="clause_value"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_value">clause-value<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>value: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">4194</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev){ <a class="pp">v<span class="pc">v: <span class="tp op">$</span><span class="number">4194</span></span></a> })
</span>}

<span class="decl-fun" id="clause_never0"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never0">clause-never0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">7946</span> <span class="op">$</span><span class="number">7948</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause0"><span class="tp">clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause0: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause0"><span class="co">Clause0</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause0</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7946</span>,<span class="op">$</span><span class="number">7948</span><span class="op">&gt;</span></span></a>,&#95;ev){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7946</span>,<span class="op">$</span><span class="number">7948</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(&#95;k){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">7946</span> <span class="op">$</span><span class="number">7948</span></span></a>() }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 2 arguments
//----------------------------------------------------------------
</span>
<span class="decl-type" id="type_space_clause2"><span class="kw">abstract</span> <span class="tp kw">type</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="decl-con" id="con_space_Clause2"><a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <span class="decl-fun" id="clause_2"><a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="number">72</span>,<span class="number">73</span><span class="op">&gt;</span>, ev<span class="op">&lt;</span><span class="number">71</span><span class="op">&gt;</span>, <span class="number">68</span>, <span class="number">69</span>) <span class="kw op">-></span> <span class="number">72</span> <span class="number">70</span></span></a></span><span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp" href="#type_space_marker"><span class="tp">marker</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>marker: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> </span>)
</span>}

<span class="decl-fun" id="under2"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under2">under2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8764</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8760</span>, <span class="op">$</span><span class="number">8761</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8763</span> <span class="op">$</span><span class="number">8762</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8760</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8761</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8766</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8764</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">8762</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8760</span>, <span class="op">$</span><span class="number">8761</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8763</span> <span class="op">$</span><span class="number">8762</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8760</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8761</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;8766</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">8762</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8762</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8763</span> <span class="op">$</span><span class="number">8762</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8762</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8764</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8762</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8763</span> <span class="op">$</span><span class="number">8762</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">8762</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">8762</span></span></a>
</span>}

<span class="decl-fun" id="protect_1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#protect_1">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>( <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7045</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7046</span></span></a><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7045</span>, x <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7046</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7047</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><span class="tp tpp">x</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a>, <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7047</span>,<span class="op">$</span><span class="number">7049</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_result"><span class="tp">resume-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#ref">ref<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ref: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">alloc</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>)})()
  <span class="decl-fun" id="kprotect"><span class="kw">fun</span> <a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7047</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">7047</span></span></a>) {
    (<a class="pp" href="#unsafe_st">unsafe-st<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>st: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">st</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>{ <a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ref</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">write</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a> })()
    <a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7047</span>,<span class="op">$</span><span class="number">7049</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a>(<a class="pp" href="#con_space_Deep"><span class="co">Deep</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Deep: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">result</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ret<span class="pc">ret: <span class="tp op">$</span><span class="number">7047</span></span></a>))
  </span>}
  <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">7049</span></span></a> <span class="kw">=</span> <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7045</span>, x <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7046</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7047</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7045</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7046</span></span></a>,<a class="pp">kprotect<span class="pc">kprotect: <span class="tp sp">(</span><span class="tp tpp">ret</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7047</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">7049</span></span></a> <a class="pp" href="#yield_extend">yield-extend<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>extend: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">next</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">7049</span></span></a>){ <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7047</span>,<span class="op">$</span><span class="number">7049</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a>,<a class="pp">xres<span class="pc">xres: <span class="tp op">$</span><span class="number">7049</span></span></a>) } <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="#protect_check">protect-check<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="dash">-</span>check: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">resumed</span> <span class="tp kw op">:</span> <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">resumed<span class="pc">resumed: <span class="tp">ref</span><span class="tp sp">&lt;</span><span class="tp">global</span><span class="tp sp">,</span><span class="tp">bool</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7047</span>,<span class="op">$</span><span class="number">7049</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7048</span> <span class="op">$</span><span class="number">7049</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">7049</span></span></a>)
</span>}

<span class="decl-fun" id="clause_control2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control2">clause-control2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7316</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7317</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7318</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7319</span> <span class="op">$</span><span class="number">7321</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7319</span> <span class="op">$</span><span class="number">7321</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7319</span>,<span class="op">$</span><span class="number">7321</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7316</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7317</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">7319</span>,<span class="op">$</span><span class="number">7321</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7318</span>,<span class="op">$</span><span class="number">7321</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7319</span> <span class="op">$</span><span class="number">7321</span></span></a>){ <a class="pp" href="#protect_1">protect<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>protect<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">7316</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">7317</span></span></a>,<a class="pp">clause<span class="pc">clause: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7316</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7317</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7318</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7319</span> <span class="op">$</span><span class="number">7321</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7319</span> <span class="op">$</span><span class="number">7321</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">7318</span>,<span class="op">$</span><span class="number">7321</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7319</span> <span class="op">$</span><span class="number">7321</span></span></a>) }) })
</span>}


<span class="decl-fun" id="clause_control_raw2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw2">clause-control-raw2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6420</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6421</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6422</span>,<span class="op">$</span><span class="number">6423</span>,<span class="op">$</span><span class="number">6424</span>,<span class="op">$</span><span class="number">6426</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6423</span> <span class="op">$</span><span class="number">6426</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6423</span>,<span class="op">$</span><span class="number">6426</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6420</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6421</span></span></a>){ <a class="pp" href="#yield_to">yield-to<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">6423</span>,<span class="op">$</span><span class="number">6426</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6422</span>,<span class="op">$</span><span class="number">6426</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6423</span> <span class="op">$</span><span class="number">6426</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6420</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6421</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6422</span>,<span class="op">$</span><span class="number">6423</span>,<span class="op">$</span><span class="number">6424</span>,<span class="op">$</span><span class="number">6426</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6423</span> <span class="op">$</span><span class="number">6426</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6420</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6421</span></span></a>,<a class="pp" href="#con_space_Resume_context"><span class="co">Resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Resume<span class="dash">-</span>context: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp op">&lt;$</span><span class="number">6422</span>,<span class="op">$</span><span class="number">6426</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6423</span> <span class="op">$</span><span class="number">6426</span></span></a>)) } ) })
</span>}

<span class="decl-fun" id="clause_tail2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail2">clause-tail2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8819</span>, <span class="op">$</span><span class="number">8820</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8817</span> <span class="op">$</span><span class="number">8821</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8817</span>,<span class="op">$</span><span class="number">8818</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8822</span><span class="op">&gt;</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8819</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8820</span></span></a>){ <a class="pp" href="#under2">under2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">8822</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8819</span>, <span class="op">$</span><span class="number">8820</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8817</span> <span class="op">$</span><span class="number">8821</span></span></a>,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8819</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8820</span></span></a>) })
</span>}

<span class="decl-fun" id="clause_tail_noyield2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield2">clause-tail-noyield2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="op">&gt;</span>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4134</span>, <span class="op">$</span><span class="number">4135</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4132</span> <span class="op">$</span><span class="number">4136</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(&#95;m,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">4134</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">4135</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">4134</span>, <span class="op">$</span><span class="number">4135</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">4132</span> <span class="op">$</span><span class="number">4136</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">4134</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">4135</span></span></a>) })
</span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".perform2"</span>( <a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3672</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3672</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause2<span class="op">&lt;$</span><span class="number">3668</span>,<span class="op">$</span><span class="number">3669</span>,<span class="op">$</span><span class="number">3670</span>,<span class="op">$</span><span class="number">3672</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">c</span><span class="pc">c: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3668</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">3669</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">c</span><span class="pc">c: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3672</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3672</span><span class="op">&lt;$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3672</span><span class="op">&lt;$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3672</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause2<span class="op">&lt;$</span><span class="number">3668</span>,<span class="op">$</span><span class="number">3669</span>,<span class="op">$</span><span class="number">3670</span>,<span class="op">$</span><span class="number">3672</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3672</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3668</span>, <span class="op">$</span><span class="number">3669</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3675</span> <span class="op">$</span><span class="number">3670</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev2_1">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3672</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3668</span>, <span class="op">$</span><span class="number">3669</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3675</span> <span class="op">$</span><span class="number">3670</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3675</span>,<span class="op">$</span><span class="number">3676</span><span class="op">&gt;</span></span></a>,<a class="pp">evx<span class="pc">evx: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3672</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3668</span></span></a>,<a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">3669</span></span></a>)
    }
  }
}

<span class="decl-fun" id="clause_never2"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never2">clause-never2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8017</span>, <span class="op">$</span><span class="number">8018</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8020</span> <span class="op">$</span><span class="number">8022</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause2"><span class="tp">clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause2: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#con_space_Clause2"><span class="co">Clause2</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause2</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8020</span>,<span class="op">$</span><span class="number">8022</span><span class="op">&gt;</span></span></a>,&#95;ev,<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8017</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8018</span></span></a>){ <a class="pp" href="#yield_to_final">yield-to-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>to<span class="dash">-</span>final: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">resume<span class="dash">-</span>result</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">8020</span>,<span class="op">$</span><span class="number">8022</span><span class="op">&gt;</span></span></a>, <span class="kw">fn</span>(&#95;k){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8017</span>, <span class="op">$</span><span class="number">8018</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8020</span> <span class="op">$</span><span class="number">8022</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">8017</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">8018</span></span></a>) }) })
</span>}

<span class="comment">//----------------------------------------------------------------
// 3 arguments: reuse 1 argument clause.
// Or should the compiler do tupling/untupling?
//----------------------------------------------------------------
</span>
<span class="comment">// For interal use
</span><span class="decl-fun" id="xperform1"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3947</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3947</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3944</span>,<span class="op">$</span><span class="number">3945</span>,<span class="op">$</span><span class="number">3947</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3944</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">match</span>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3947</span><span class="op">&gt;</span></span></a>) {
    <a class="pp" href="#con_space_Ev"><span class="co">Ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Ev: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">htag</span> <span class="tp kw op">:</span> <span class="tp">htag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">marker</span> <span class="tp kw op">:</span> <span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">hnd</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">cfc</span> <span class="tp kw op">:</span> <span class="tp">cfc</span><span class="tp sp">,</span> <span class="tp tpp">hevv</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(&#95;tag,<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3950</span>,<span class="op">$</span><span class="number">3951</span><span class="op">&gt;</span></span></a>,<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3947</span><span class="op">&lt;$</span><span class="number">3950</span>,<span class="op">$</span><span class="number">3951</span><span class="op">&gt;</span></span></a>,&#95;c,&#95;w) <span class="kw op">-></span> <span class="kw">match</span>(<a class="pp">h<span class="pc">h: <span class="tp op">$</span><span class="number">3947</span><span class="op">&lt;$</span><span class="number">3950</span>,<span class="op">$</span><span class="number">3951</span><span class="op">&gt;</span></span></a><span class="kw op">.</span><a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3947</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;$</span><span class="number">3944</span>,<span class="op">$</span><span class="number">3945</span>,<span class="op">$</span><span class="number">3947</span>,e,a<span class="op">&gt;</span></span></a>) {
      <a class="pp" href="#con_space_Clause1"><span class="co">Clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>Clause1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3950</span>,<span class="op">$</span><span class="number">3951</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3947</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3944</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3950</span> <span class="op">$</span><span class="number">3945</span></span></a>) <span class="kw op">-></span> <a class="pp" href="#cast_ev1_1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">marker</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3950</span>,<span class="op">$</span><span class="number">3951</span><span class="op">&gt;</span>, ev<span class="op">&lt;$</span><span class="number">3947</span><span class="op">&gt;</span>, <span class="op">$</span><span class="number">3944</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3950</span> <span class="op">$</span><span class="number">3945</span></span></a>)(<a class="pp">m<span class="pc">m: <span class="tp">marker</span><span class="tp op">&lt;$</span><span class="number">3950</span>,<span class="op">$</span><span class="number">3951</span><span class="op">&gt;</span></span></a>,<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">3947</span><span class="op">&gt;</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3944</span></span></a>)
    }
  }
</span>}

<span class="decl-fun" id="clause_control_raw3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control_raw3">clause-control-raw3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6475</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6476</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6477</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6478</span>,<span class="op">$</span><span class="number">6479</span>,<span class="op">$</span><span class="number">6480</span>,<span class="op">$</span><span class="number">6482</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6479</span> <span class="op">$</span><span class="number">6482</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">r</span><span class="tp kw op">:</span> <a class="pp" href="#type_space_resume_context"><span class="tp">resume-context</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>resume<span class="dash">-</span>context: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e0</span></span><span class="pc">e0: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control_raw1">clause-control-raw1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control<span class="dash">-</span>raw1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">r</span> <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6475</span>, <span class="op">$</span><span class="number">6476</span>, <span class="op">$</span><span class="number">6477</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l719<span class="dash">-</span>c30: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l719<span class="dash">-</span>c32: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l719<span class="dash">-</span>c34: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6478</span>,<span class="op">$</span><span class="number">6479</span>,<span class="op">$</span><span class="number">6480</span>,<span class="op">$</span><span class="number">6482</span><span class="op">&gt;</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6475</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6476</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">6477</span>, r <span class="tp kw op">:</span> <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6478</span>,<span class="op">$</span><span class="number">6479</span>,<span class="op">$</span><span class="number">6480</span>,<span class="op">$</span><span class="number">6482</span><span class="op">&gt;</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6479</span> <span class="op">$</span><span class="number">6482</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6475</span>, <span class="op">$</span><span class="number">6476</span>, <span class="op">$</span><span class="number">6477</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6475</span>, <span class="op">$</span><span class="number">6476</span>, <span class="op">$</span><span class="number">6477</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6475</span>, <span class="op">$</span><span class="number">6476</span>, <span class="op">$</span><span class="number">6477</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">r<span class="pc">r: <span class="tp">resume<span class="dash">-</span>context</span><span class="tp op">&lt;$</span><span class="number">6478</span>,<span class="op">$</span><span class="number">6479</span>,<span class="op">$</span><span class="number">6480</span>,<span class="op">$</span><span class="number">6482</span><span class="op">&gt;</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_control3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control3">clause-control3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7400</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7401</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7402</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7403</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7404</span> <span class="op">$</span><span class="number">7406</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7404</span> <span class="op">$</span><span class="number">7406</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7400</span>, <span class="op">$</span><span class="number">7401</span>, <span class="op">$</span><span class="number">7402</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l723<span class="dash">-</span>c26: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l723<span class="dash">-</span>c28: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l723<span class="dash">-</span>c30: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7403</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7404</span> <span class="op">$</span><span class="number">7406</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7400</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7401</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7402</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7403</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7404</span> <span class="op">$</span><span class="number">7406</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7404</span> <span class="op">$</span><span class="number">7406</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7400</span>, <span class="op">$</span><span class="number">7401</span>, <span class="op">$</span><span class="number">7402</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7400</span>, <span class="op">$</span><span class="number">7401</span>, <span class="op">$</span><span class="number">7402</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7400</span>, <span class="op">$</span><span class="number">7401</span>, <span class="op">$</span><span class="number">7402</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7403</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7404</span> <span class="op">$</span><span class="number">7406</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail3">clause-tail3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8862</span>, <span class="op">$</span><span class="number">8863</span>, <span class="op">$</span><span class="number">8864</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8866</span> <span class="op">$</span><span class="number">8865</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8862</span>, <span class="op">$</span><span class="number">8863</span>, <span class="op">$</span><span class="number">8864</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l727<span class="dash">-</span>c24: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l727<span class="dash">-</span>c26: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l727<span class="dash">-</span>c28: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8862</span>, <span class="op">$</span><span class="number">8863</span>, <span class="op">$</span><span class="number">8864</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8866</span> <span class="op">$</span><span class="number">8865</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8862</span>, <span class="op">$</span><span class="number">8863</span>, <span class="op">$</span><span class="number">8864</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8862</span>, <span class="op">$</span><span class="number">8863</span>, <span class="op">$</span><span class="number">8864</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8862</span>, <span class="op">$</span><span class="number">8863</span>, <span class="op">$</span><span class="number">8864</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail_noyield3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail_noyield3">clause-tail-noyield3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8298</span>, <span class="op">$</span><span class="number">8299</span>, <span class="op">$</span><span class="number">8300</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8302</span> <span class="op">$</span><span class="number">8301</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail_noyield1">clause-tail-noyield1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail<span class="dash">-</span>noyield1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8298</span>, <span class="op">$</span><span class="number">8299</span>, <span class="op">$</span><span class="number">8300</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l731<span class="dash">-</span>c32: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l731<span class="dash">-</span>c34: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l731<span class="dash">-</span>c36: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8298</span>, <span class="op">$</span><span class="number">8299</span>, <span class="op">$</span><span class="number">8300</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8302</span> <span class="op">$</span><span class="number">8301</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8298</span>, <span class="op">$</span><span class="number">8299</span>, <span class="op">$</span><span class="number">8300</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8298</span>, <span class="op">$</span><span class="number">8299</span>, <span class="op">$</span><span class="number">8300</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8298</span>, <span class="op">$</span><span class="number">8299</span>, <span class="op">$</span><span class="number">8300</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_never3"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_never3">clause-never3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8062</span>, <span class="op">$</span><span class="number">8063</span>, <span class="op">$</span><span class="number">8064</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8066</span> <span class="op">$</span><span class="number">8068</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_never1">clause-never1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>never1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>(<span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8062</span>, <span class="op">$</span><span class="number">8063</span>, <span class="op">$</span><span class="number">8064</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l735<span class="dash">-</span>c23: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l735<span class="dash">-</span>c25: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l735<span class="dash">-</span>c27: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8062</span>, <span class="op">$</span><span class="number">8063</span>, <span class="op">$</span><span class="number">8064</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">8066</span> <span class="op">$</span><span class="number">8068</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8062</span>, <span class="op">$</span><span class="number">8063</span>, <span class="op">$</span><span class="number">8064</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_1">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8062</span>, <span class="op">$</span><span class="number">8063</span>, <span class="op">$</span><span class="number">8064</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_1">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">8062</span>, <span class="op">$</span><span class="number">8063</span>, <span class="op">$</span><span class="number">8064</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>) } )
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform3"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6200</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6200</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6195</span>, <span class="op">$</span><span class="number">6196</span>, <span class="op">$</span><span class="number">6197</span>),<span class="op">$</span><span class="number">6198</span>,<span class="op">$</span><span class="number">6200</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6195</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6196</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6197</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <a class="pp" href="#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6200</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6200</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6195</span>, <span class="op">$</span><span class="number">6196</span>, <span class="op">$</span><span class="number">6197</span>),<span class="op">$</span><span class="number">6198</span>,<span class="op">$</span><span class="number">6200</span>,e,a<span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a><a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6195</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6196</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6197</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>)
}

<span class="decl-fun" id="under3"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under3">under3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">9936</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9931</span>, <span class="op">$</span><span class="number">9932</span>, <span class="op">$</span><span class="number">9933</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9935</span> <span class="op">$</span><span class="number">9934</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">9931</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">9932</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">9933</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9938</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">9936</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">9934</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9931</span>, <span class="op">$</span><span class="number">9932</span>, <span class="op">$</span><span class="number">9933</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9935</span> <span class="op">$</span><span class="number">9934</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">9931</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">9932</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">9933</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;9938</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9934</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9934</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9935</span> <span class="op">$</span><span class="number">9934</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9934</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">9936</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9934</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9935</span> <span class="op">$</span><span class="number">9934</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9934</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">9934</span></span></a>
</span>}



<span class="decl-fun" id="clause_control4"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_control4">clause-control4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7637</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7638</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7639</span>, x4 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7640</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7641</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7642</span> <span class="op">$</span><span class="number">7644</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7642</span> <span class="op">$</span><span class="number">7644</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x1</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x2</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x3</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">x4</span><span class="tp kw op">:</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">k</span><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_control1">clause-control1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>control1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">clause</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">k</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7637</span>, <span class="op">$</span><span class="number">7638</span>, <span class="op">$</span><span class="number">7639</span>, <span class="op">$</span><span class="number">7640</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c26: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c28: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c30: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l753<span class="dash">-</span>c32: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7641</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7642</span> <span class="op">$</span><span class="number">7644</span></span></a>){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7637</span>, x2 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7638</span>, x3 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7639</span>, x4 <span class="tp kw op">:</span> <span class="tp op">$</span><span class="number">7640</span>, k <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7641</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7642</span> <span class="op">$</span><span class="number">7644</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7642</span> <span class="op">$</span><span class="number">7644</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7637</span>, <span class="op">$</span><span class="number">7638</span>, <span class="op">$</span><span class="number">7639</span>, <span class="op">$</span><span class="number">7640</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_2">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7637</span>, <span class="op">$</span><span class="number">7638</span>, <span class="op">$</span><span class="number">7639</span>, <span class="op">$</span><span class="number">7640</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_2">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7637</span>, <span class="op">$</span><span class="number">7638</span>, <span class="op">$</span><span class="number">7639</span>, <span class="op">$</span><span class="number">7640</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd_1">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7637</span>, <span class="op">$</span><span class="number">7638</span>, <span class="op">$</span><span class="number">7639</span>, <span class="op">$</span><span class="number">7640</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#field4">field4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>field4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">d</span></span></a>,<a class="pp">k<span class="pc">k: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">7641</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">7642</span> <span class="op">$</span><span class="number">7644</span></span></a>) } )
</span>}

<span class="decl-fun" id="clause_tail4"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#clause_tail4">clause-tail4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c1</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9103</span> <span class="op">$</span><span class="number">9102</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#clause_tail1">clause-tail1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause<span class="dash">-</span>tail1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>( <a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>)</span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c24: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c26: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c28: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">&#95;</span><span class="pc">&#95;w<span class="dash">-</span>l757<span class="dash">-</span>c30: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a> ){ <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9103</span> <span class="op">$</span><span class="number">9102</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#fst_2">fst<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>fst<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#snd_2">snd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>snd<span class="postfix">.2</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">b</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#thd_1">thd<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>thd<span class="postfix">.1</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">c</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9098</span>, <span class="op">$</span><span class="number">9099</span>, <span class="op">$</span><span class="number">9100</span>, <span class="op">$</span><span class="number">9101</span>)</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#field4">field4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>field4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">d</span></span></a>) } )
</span>}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".perform4"</span>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6250</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6250</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6244</span>, <span class="op">$</span><span class="number">6245</span>, <span class="op">$</span><span class="number">6246</span>, <span class="op">$</span><span class="number">6247</span>),<span class="op">$</span><span class="number">6248</span>,<span class="op">$</span><span class="number">6250</span>,e,a<span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp kw">forall</span><span class="tp sp">&lt;</span><a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> <span class="tp kw op">-></span> <a class="pp" href="#type_space_clause1"><span class="tp">clause1</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>clause1: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__comma__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">r</span><span class="pc">r: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6244</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6245</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6246</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6247</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <a class="pp" href="#xperform1">xperform1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>xperform1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clause1</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">6250</span><span class="op">&gt;</span></span></a>,<a class="pp">op<span class="pc">op: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6250</span><span class="op">&lt;</span>e,a<span class="op">&gt;</span>) <span class="kw op">-></span> clause1<span class="op">&lt;</span>(<span class="op">$</span><span class="number">6244</span>, <span class="op">$</span><span class="number">6245</span>, <span class="op">$</span><span class="number">6246</span>, <span class="op">$</span><span class="number">6247</span>),<span class="op">$</span><span class="number">6248</span>,<span class="op">$</span><span class="number">6250</span>,e,a<span class="op">&gt;</span></span></a>,<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">field4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a><a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6244</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6245</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6246</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6247</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__comma__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,,,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">thd</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">field4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>)
}

<span class="decl-fun" id="under4"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#under4">under4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">b1</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">,</span> <span class="tp tpp">x1</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">x2</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x3</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tpp">x4</span> <span class="tp kw op">:</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span></span></a>( <a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">9999</span><span class="op">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_ev"><span class="tp">ev</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp"><span class="tp tv">h</span><span class="pc">h: <span class="tp sp">(</span><span class="tp">E</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9993</span>, <span class="op">$</span><span class="number">9994</span>, <span class="op">$</span><span class="number">9995</span>, <span class="op">$</span><span class="number">9996</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9998</span> <span class="op">$</span><span class="number">9997</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">9993</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">9994</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">9995</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">9996</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10001</span><span class="tp sp">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_with">evv-swap-with<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>with: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">9999</span><span class="op">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">9997</span></span></a> <span class="kw">=</span> <a class="pp">op<span class="pc">op: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9993</span>, <span class="op">$</span><span class="number">9994</span>, <span class="op">$</span><span class="number">9995</span>, <span class="op">$</span><span class="number">9996</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9998</span> <span class="op">$</span><span class="number">9997</span></span></a>(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">9993</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">9994</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">9995</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">9996</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w0<span class="pc">w0: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">&#95;10001</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">9997</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>( <span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9997</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9998</span> <span class="op">$</span><span class="number">9997</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9997</span></span></a>){ <a class="pp" href="#under1">under1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>under1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ev</span> <span class="tp kw op">:</span> <span class="tp">ev</span><span class="tp sp">&lt;</span><span class="tp tv">c</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">op</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<a class="pp">ev<span class="pc">ev: <span class="tp">ev</span><span class="tp op">&lt;$</span><span class="number">9999</span><span class="op">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9997</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9998</span> <span class="op">$</span><span class="number">9997</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9997</span></span></a>)} <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">z<span class="pc">z: <span class="tp op">$</span><span class="number">9997</span></span></a>
</span>}


<span class="comment">// -------------------------------------------
// Open
// -------------------------------------------
</span>
<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3150</span> <span class="op">$</span><span class="number">3149</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3149</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">3150</span> <span class="op">$</span><span class="number">3149</span></span></a>)()
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3149</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3211</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3213</span> <span class="op">$</span><span class="number">3212</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3211</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3212</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3211</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3213</span> <span class="op">$</span><span class="number">3212</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3211</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3212</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3288</span>, <span class="op">$</span><span class="number">3289</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3291</span> <span class="op">$</span><span class="number">3290</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3288</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3289</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3290</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3288</span>, <span class="op">$</span><span class="number">3289</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3291</span> <span class="op">$</span><span class="number">3290</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3288</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3289</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3290</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3380</span>, <span class="op">$</span><span class="number">3381</span>, <span class="op">$</span><span class="number">3382</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3384</span> <span class="op">$</span><span class="number">3383</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3380</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3381</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3382</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3383</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3380</span>, <span class="op">$</span><span class="number">3381</span>, <span class="op">$</span><span class="number">3382</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3384</span> <span class="op">$</span><span class="number">3383</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3380</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3381</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3382</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3383</span></span></a>
}

<span class="kw">public</span> <span class="kw">fun</span> <span class="st">".open-none4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3424</span>, <span class="op">$</span><span class="number">3425</span>, <span class="op">$</span><span class="number">3426</span>, <span class="op">$</span><span class="number">3427</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3429</span> <span class="op">$</span><span class="number">3428</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3424</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3425</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3426</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">3427</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create0">evv-swap-create0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>()
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3428</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">3424</span>, <span class="op">$</span><span class="number">3425</span>, <span class="op">$</span><span class="number">3426</span>, <span class="op">$</span><span class="number">3427</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">3429</span> <span class="op">$</span><span class="number">3428</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">3424</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">3425</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">3426</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">3427</span></span></a>)
  <span class="kw">val</span> <a class="pp">keep<span class="pc">keep: <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="op">(&lt;&gt;)</span><span class="op">&gt;</span></span></a>)
  <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">3428</span></span></a>
}


<span class="decl-fun" id="open_at1"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5097</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5099</span> <span class="op">$</span><span class="number">5098</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5097</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5100</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5098</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5097</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5099</span> <span class="op">$</span><span class="number">5098</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5097</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5100</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5098</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5098</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5100</span> <span class="op">$</span><span class="number">5098</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5098</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5098</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5100</span> <span class="op">$</span><span class="number">5098</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5098</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5098</span></span></a>
</span>}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open-at0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5202</span> <span class="op">$</span><span class="number">5201</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5203</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5201</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5202</span> <span class="op">$</span><span class="number">5201</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5203</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5201</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5201</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5203</span> <span class="op">$</span><span class="number">5201</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5201</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5201</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5203</span> <span class="op">$</span><span class="number">5201</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5201</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5201</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open-at1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5287</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5289</span> <span class="op">$</span><span class="number">5288</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5287</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5290</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5288</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5287</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5289</span> <span class="op">$</span><span class="number">5288</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5287</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5290</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5288</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5288</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5290</span> <span class="op">$</span><span class="number">5288</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5288</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5288</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5290</span> <span class="op">$</span><span class="number">5288</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5288</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5288</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open-at2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5388</span>, <span class="op">$</span><span class="number">5389</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5391</span> <span class="op">$</span><span class="number">5390</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5388</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5389</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5392</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5390</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5388</span>, <span class="op">$</span><span class="number">5389</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5391</span> <span class="op">$</span><span class="number">5390</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5388</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5389</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5392</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5390</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5390</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5392</span> <span class="op">$</span><span class="number">5390</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5390</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5390</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5392</span> <span class="op">$</span><span class="number">5390</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5390</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5390</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open-at3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5504</span>, <span class="op">$</span><span class="number">5505</span>, <span class="op">$</span><span class="number">5506</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5508</span> <span class="op">$</span><span class="number">5507</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5504</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5505</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5506</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5509</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5507</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5504</span>, <span class="op">$</span><span class="number">5505</span>, <span class="op">$</span><span class="number">5506</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5508</span> <span class="op">$</span><span class="number">5507</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5504</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5505</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5506</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5509</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5507</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5507</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5509</span> <span class="op">$</span><span class="number">5507</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5507</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5507</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5509</span> <span class="op">$</span><span class="number">5507</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5507</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5507</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open-at4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span> ( <a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a><span class="tp kw op">:</span> <a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5572</span>, <span class="op">$</span><span class="number">5573</span>, <span class="op">$</span><span class="number">5574</span>, <span class="op">$</span><span class="number">5575</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5577</span> <span class="op">$</span><span class="number">5576</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5572</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5573</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5574</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">5575</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5578</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create1">evv-swap-create1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5576</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5572</span>, <span class="op">$</span><span class="number">5573</span>, <span class="op">$</span><span class="number">5574</span>, <span class="op">$</span><span class="number">5575</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5577</span> <span class="op">$</span><span class="number">5576</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5572</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5573</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">5574</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">5575</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5578</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5576</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5576</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5578</span> <span class="op">$</span><span class="number">5576</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5576</span></span></a>){ <a class="pp" href="#open_at1">open-at1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open<span class="dash">-</span>at1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">ev<span class="dash">-</span>index</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5576</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5578</span> <span class="op">$</span><span class="number">5576</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5576</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5576</span></span></a>
}


<span class="decl-fun" id="open1"><span class="kw">private</span> noinline <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5646</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5648</span> <span class="op">$</span><span class="number">5647</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5646</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5649</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5647</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5646</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5648</span> <span class="op">$</span><span class="number">5647</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5646</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5649</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5647</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5647</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5649</span> <span class="op">$</span><span class="number">5647</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5647</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>),<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5647</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5649</span> <span class="op">$</span><span class="number">5647</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5647</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5647</span></span></a>
</span>}


<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open0"</span><span class="op">&lt;</span><a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5751</span> <span class="op">$</span><span class="number">5750</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5752</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5750</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev0">cast-ev0<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev0: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">5751</span> <span class="op">$</span><span class="number">5750</span></span></a>)()
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5752</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5750</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5750</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5752</span> <span class="op">$</span><span class="number">5750</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5750</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5750</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5752</span> <span class="op">$</span><span class="number">5750</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5750</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5750</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open1"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a</span><span class="pc">a: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5836</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5838</span> <span class="op">$</span><span class="number">5837</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5836</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5839</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5837</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev1">cast-ev1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5836</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5838</span> <span class="op">$</span><span class="number">5837</span></span></a>)(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">5836</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5839</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5837</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5837</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5839</span> <span class="op">$</span><span class="number">5837</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5837</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5837</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5839</span> <span class="op">$</span><span class="number">5837</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5837</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5837</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open2"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5937</span>, <span class="op">$</span><span class="number">5938</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5940</span> <span class="op">$</span><span class="number">5939</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5937</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5938</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5941</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5939</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev2">cast-ev2<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">c</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5937</span>, <span class="op">$</span><span class="number">5938</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5940</span> <span class="op">$</span><span class="number">5939</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">5937</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">5938</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">5941</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">5939</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5939</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5941</span> <span class="op">$</span><span class="number">5939</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5939</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">5939</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">5941</span> <span class="op">$</span><span class="number">5939</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">5939</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">5939</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open3"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6053</span>, <span class="op">$</span><span class="number">6054</span>, <span class="op">$</span><span class="number">6055</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6057</span> <span class="op">$</span><span class="number">6056</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6053</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6054</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6055</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6058</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6056</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev3">cast-ev3<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev3: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">d</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6053</span>, <span class="op">$</span><span class="number">6054</span>, <span class="op">$</span><span class="number">6055</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6057</span> <span class="op">$</span><span class="number">6056</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6053</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6054</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6055</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6058</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">6056</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6056</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6058</span> <span class="op">$</span><span class="number">6056</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6056</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6056</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6058</span> <span class="op">$</span><span class="number">6056</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6056</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6056</span></span></a>
}

<span class="kw">public</span> noinline <span class="kw">fun</span> <span class="st">".open4"</span><span class="op">&lt;</span><a class="pp"><span class="tp">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">a4</span><span class="pc">a4: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp">b</span><span class="pc">b: <span class="tp">V</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a>,<a class="pp"><span class="tp"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a><span class="op">&gt;</span>( <a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_vector"><span class="tp">vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>vector: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_ev_index"><span class="tp">ev-index</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>ev<span class="dash">-</span>index: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>, <a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6121</span>, <span class="op">$</span><span class="number">6122</span>, <span class="op">$</span><span class="number">6123</span>, <span class="op">$</span><span class="number">6124</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6126</span> <span class="op">$</span><span class="number">6125</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e1</span></span><span class="pc">e1: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a>, <a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6121</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a1</span><span class="pc">a1: <span class="tp">V</span></span></a>, <a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6122</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a2</span><span class="pc">a2: <span class="tp">V</span></span></a>, <a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6123</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a3</span><span class="pc">a3: <span class="tp">V</span></span></a>, <a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6124</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a4</span><span class="pc">a4: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e2</span></span><span class="pc">e2: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">b</span><span class="pc">b: <span class="tp">V</span></span></a> {
  <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6127</span><span class="op">&gt;</span></span></a> <span class="kw">=</span> <a class="pp" href="#evv_swap_create">evv-swap-create<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>swap<span class="dash">-</span>create: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6125</span></span></a> <span class="kw">=</span> <a class="pp" href="#cast_ev4">cast-ev4<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>cast<span class="dash">-</span>ev4: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">d</span><span class="tp sp">,</span><span class="tp tv">a1</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">a1</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">c</span><span class="tp sp">,</span> <span class="tp tv">d</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a1</span><span class="tp sp">)</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6121</span>, <span class="op">$</span><span class="number">6122</span>, <span class="op">$</span><span class="number">6123</span>, <span class="op">$</span><span class="number">6124</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6126</span> <span class="op">$</span><span class="number">6125</span></span></a>)(<a class="pp">x1<span class="pc">x1: <span class="tp op">$</span><span class="number">6121</span></span></a>,<a class="pp">x2<span class="pc">x2: <span class="tp op">$</span><span class="number">6122</span></span></a>,<a class="pp">x3<span class="pc">x3: <span class="tp op">$</span><span class="number">6123</span></span></a>,<a class="pp">x4<span class="pc">x4: <span class="tp op">$</span><span class="number">6124</span></span></a>)
  <a class="pp" href="#evv_set">evv-set<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>evv<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">w</span> <span class="tp kw op">:</span> <span class="tp">evv</span><span class="tp sp">&lt;</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>(<a class="pp">w<span class="pc">w: <span class="tp">evv</span><span class="tp op">&lt;$</span><span class="number">6127</span><span class="op">&gt;</span></span></a>)
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp op">$</span><span class="number">6125</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6125</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6127</span> <span class="op">$</span><span class="number">6125</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6125</span></span></a>){ <a class="pp" href="#open1">open1<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>open1: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">e1</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">indices</span> <span class="tp kw op">:</span> <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e1</span> <span class="tp tv">b</span></span></a>(<a class="pp">indices<span class="pc">indices: <span class="tp">vector</span><span class="tp sp">&lt;</span><span class="tp">ev<span class="dash">-</span>index</span><span class="tp sp">&gt;</span></span></a>,<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">6125</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">6127</span> <span class="op">$</span><span class="number">6125</span></span></a>,<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">6125</span></span></a>) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">6125</span></span></a>
}

<span class="comment">// -------------------------------------------
// capture yields
// -------------------------------------------
</span>
<span class="decl-fun" id="unsafe_try_finalize"><span class="kw">public</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#unsafe_try_finalize">unsafe-try-finalize<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>try<span class="dash">-</span>finalize: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">10061</span> <span class="op">$</span><span class="number">10060</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_either"><span class="tp">either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>either: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <a class="pp" href="#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp op">$</span><span class="number">10061</span> <span class="op">$</span><span class="number">10060</span></span></a>());
</span>}

<span class="decl-fun" id="try_finalize_prompt"><span class="kw">private</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9862</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="tp">E</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_either"><span class="tp">either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>either: <span class="tp sp">(</span><span class="tp">V</span><span class="tp sp">,</span> <span class="tp">V</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_yield_info"><span class="tp">yield-info</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>info: <span class="tp">V</span></span></a><span class="tp sp">,</span><a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> {
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="#yielding_non_final">yielding-non-final<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding<span class="dash">-</span>non<span class="dash">-</span>final: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp op">$</span><span class="number">9862</span><span class="op">&gt;</span></span></a> <a class="pp" href="#yield_cont">yield-cont<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>cont: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="kw">fn</span>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9862</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9863</span> <span class="op">$</span><span class="number">9862</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9862</span></span></a>){ <a class="pp" href="#try_finalize_prompt">try-finalize-prompt<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>try<span class="dash">-</span>finalize<span class="dash">-</span>prompt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">res</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp">yield<span class="dash">-</span>info</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#unsafe_decreasing">unsafe-decreasing<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>unsafe<span class="dash">-</span>decreasing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<a class="pp">cont<span class="pc">cont: <span class="tp sp">(</span><span class="tp op">$</span><span class="number">9862</span>) <span class="kw op">-></span> <span class="op">$</span><span class="number">9863</span> <span class="op">$</span><span class="number">9862</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">9862</span></span></a>))) }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(): <span class="tp sp">(</span><span class="tp sp">)</span></span></a>
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp" href="#yielding">yielding<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yielding: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>()) <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_Right"><span class="co">Right</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Right: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">right</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">res<span class="pc">res: <span class="tp op">$</span><span class="number">9862</span></span></a>) <span class="kw">else</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_Left"><span class="co">Left</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Left: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">left</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">either</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#yield_capture">yield-capture<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>yield<span class="dash">-</span>capture: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">yield<span class="dash">-</span>info</span></span></a>())
</span>}
</pre>

</body>
</html>
